(self.webpackChunkplugin_tester=self.webpackChunkplugin_tester||[]).push([[2519],{2411:(a,p,t)=>{var s=t(15304),o=t(409),u=TypeError;a.exports=function(l){if(s(l))return l;throw new u(o(l)+" is not a function")}},60086:(a,p,t)=>{var s=t(43790),o=t(409),u=TypeError;a.exports=function(l){if(s(l))return l;throw new u(o(l)+" is not a constructor")}},99497:(a,p,t)=>{var s=t(84842),o=String,u=TypeError;a.exports=function(l){if(s(l))return l;throw new u("Can't set "+o(l)+" as a prototype")}},22196:(a,p,t)=>{var s=t(78483),o=t(50635),u=t(25330).f,l=s("unscopables"),v=Array.prototype;void 0===v[l]&&u(v,l,{configurable:!0,value:o(null)}),a.exports=function(P){v[l][P]=!0}},38137:(a,p,t)=>{var s=t(587).charAt;a.exports=function(o,u,l){return u+(l?s(o,u).length:1)}},55657:(a,p,t)=>{var s=t(74345),o=TypeError;a.exports=function(u,l){if(s(l,u))return u;throw new o("Incorrect invocation")}},43392:(a,p,t)=>{var s=t(72032),o=String,u=TypeError;a.exports=function(l){if(s(l))return l;throw new u(o(l)+" is not an object")}},5572:(a,p,t)=>{var s=t(79264),o=t(15648),u=t(79834),l=function(v){return function(P,h,O){var g=s(P),R=u(g);if(0===R)return!v&&-1;var T,S=o(O,R);if(v&&h!=h){for(;R>S;)if((T=g[S++])!=T)return!0}else for(;R>S;S++)if((v||S in g)&&g[S]===h)return v||S||0;return!v&&-1}};a.exports={includes:l(!0),indexOf:l(!1)}},77918:(a,p,t)=>{var s=t(8295);a.exports=function(o,u){var l=[][o];return!!l&&s(function(){l.call(null,u||function(){return 1},1)})}},27725:(a,p,t)=>{var s=t(15406);a.exports=s([].slice)},5200:(a,p,t)=>{var s=t(27725),o=Math.floor,u=function(l,v){var P=l.length;if(P<8)for(var O,g,h=1;h<P;){for(g=h,O=l[h];g&&v(l[g-1],O)>0;)l[g]=l[--g];g!==h++&&(l[g]=O)}else for(var R=o(P/2),S=u(s(l,0,R),v),T=u(s(l,R),v),x=S.length,A=T.length,I=0,N=0;I<x||N<A;)l[I+N]=I<x&&N<A?v(S[I],T[N])<=0?S[I++]:T[N++]:I<x?S[I++]:T[N++];return l};a.exports=u},15710:(a,p,t)=>{var o=t(78483)("iterator"),u=!1;try{var l=0,v={next:function(){return{done:!!l++}},return:function(){u=!0}};v[o]=function(){return this},Array.from(v,function(){throw 2})}catch{}a.exports=function(P,h){try{if(!h&&!u)return!1}catch{return!1}var O=!1;try{var g={};g[o]=function(){return{next:function(){return{done:O=!0}}}},P(g)}catch{}return O}},39214:(a,p,t)=>{var s=t(15406),o=s({}.toString),u=s("".slice);a.exports=function(l){return u(o(l),8,-1)}},49034:(a,p,t)=>{var s=t(58899),o=t(15304),u=t(39214),v=t(78483)("toStringTag"),P=Object,h="Arguments"===u(function(){return arguments}());a.exports=s?u:function(g){var R,S,T;return void 0===g?"Undefined":null===g?"Null":"string"==typeof(S=function(g,R){try{return g[R]}catch{}}(R=P(g),v))?S:h?u(R):"Object"===(T=u(R))&&o(R.callee)?"Arguments":T}},75705:(a,p,t)=>{var s=t(19368),o=t(81842),u=t(24634),l=t(25330);a.exports=function(v,P,h){for(var O=o(P),g=l.f,R=u.f,S=0;S<O.length;S++){var T=O[S];!s(v,T)&&(!h||!s(h,T))&&g(v,T,R(P,T))}}},84765:(a,p,t)=>{var o=t(78483)("match");a.exports=function(u){var l=/./;try{"/./"[u](l)}catch{try{return l[o]=!1,"/./"[u](l)}catch{}}return!1}},86994:(a,p,t)=>{var s=t(8295);a.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},41494:a=>{a.exports=function(p,t){return{value:p,done:t}}},55572:(a,p,t)=>{var s=t(2252),o=t(25330),u=t(29319);a.exports=s?function(l,v,P){return o.f(l,v,u(1,P))}:function(l,v,P){return l[v]=P,l}},29319:a=>{a.exports=function(p,t){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:t}}},76362:(a,p,t)=>{var s=t(85704),o=t(25330);a.exports=function(u,l,v){return v.get&&s(v.get,l,{getter:!0}),v.set&&s(v.set,l,{setter:!0}),o.f(u,l,v)}},55612:(a,p,t)=>{var s=t(15304),o=t(25330),u=t(85704),l=t(88566);a.exports=function(v,P,h,O){O||(O={});var g=O.enumerable,R=void 0!==O.name?O.name:P;if(s(h)&&u(h,R,O),O.global)g?v[P]=h:l(P,h);else{try{O.unsafe?v[P]&&(g=!0):delete v[P]}catch{}g?v[P]=h:o.f(v,P,{value:h,enumerable:!1,configurable:!O.nonConfigurable,writable:!O.nonWritable})}return v}},88566:(a,p,t)=>{var s=t(60011),o=Object.defineProperty;a.exports=function(u,l){try{o(s,u,{value:l,configurable:!0,writable:!0})}catch{s[u]=l}return l}},48590:(a,p,t)=>{var s=t(409),o=TypeError;a.exports=function(u,l){if(!delete u[l])throw new o("Cannot delete property "+s(l)+" of "+s(u))}},2252:(a,p,t)=>{var s=t(8295);a.exports=!s(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3369:(a,p,t)=>{var s=t(60011),o=t(72032),u=s.document,l=o(u)&&o(u.createElement);a.exports=function(v){return l?u.createElement(v):{}}},91460:a=>{a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},86553:(a,p,t)=>{var o=t(3369)("span").classList,u=o&&o.constructor&&o.constructor.prototype;a.exports=u===Object.prototype?void 0:u},85444:(a,p,t)=>{var o=t(51170).match(/firefox\/(\d+)/i);a.exports=!!o&&+o[1]},96262:(a,p,t)=>{var s=t(86908),o=t(99061);a.exports=!s&&!o&&"object"==typeof window&&"object"==typeof document},86908:a=>{a.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},24973:(a,p,t)=>{var s=t(51170);a.exports=/MSIE|Trident/.test(s)},87960:(a,p,t)=>{var s=t(51170);a.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},46456:(a,p,t)=>{var s=t(51170);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},99061:(a,p,t)=>{var s=t(60011),o=t(39214);a.exports="process"===o(s.process)},27429:(a,p,t)=>{var s=t(51170);a.exports=/web0s(?!.*chrome)/i.test(s)},51170:a=>{a.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},21737:(a,p,t)=>{var h,O,s=t(60011),o=t(51170),u=s.process,l=s.Deno,v=u&&u.versions||l&&l.version,P=v&&v.v8;P&&(O=(h=P.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!O&&o&&(!(h=o.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=o.match(/Chrome\/(\d+)/))&&(O=+h[1]),a.exports=O},18760:(a,p,t)=>{var o=t(51170).match(/AppleWebKit\/(\d+)\./);a.exports=!!o&&+o[1]},85523:a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},62340:(a,p,t)=>{var s=t(60011),o=t(24634).f,u=t(55572),l=t(55612),v=t(88566),P=t(75705),h=t(2040);a.exports=function(O,g){var A,I,N,G,w,R=O.target,S=O.global,T=O.stat;if(A=S?s:T?s[R]||v(R,{}):s[R]&&s[R].prototype)for(I in g){if(G=g[I],N=O.dontCallGetSet?(w=o(A,I))&&w.value:A[I],!h(S?I:R+(T?".":"#")+I,O.forced)&&void 0!==N){if(typeof G==typeof N)continue;P(G,N)}(O.sham||N&&N.sham)&&u(G,"sham",!0),l(A,I,G,O)}}},8295:a=>{a.exports=function(p){try{return!!p()}catch{return!0}}},50559:(a,p,t)=>{t(7436);var s=t(33656),o=t(55612),u=t(36936),l=t(8295),v=t(78483),P=t(55572),h=v("species"),O=RegExp.prototype;a.exports=function(g,R,S,T){var x=v(g),A=!l(function(){var w={};return w[x]=function(){return 7},7!==""[g](w)}),I=A&&!l(function(){var w=!1,b=/a/;return"split"===g&&((b={}).constructor={},b.constructor[h]=function(){return b},b.flags="",b[x]=/./[x]),b.exec=function(){return w=!0,null},b[x](""),!w});if(!A||!I||S){var N=/./[x],G=R(x,""[g],function(w,b,F,M,j){var K=b.exec;return K===u||K===O.exec?A&&!j?{done:!0,value:s(N,b,F,M)}:{done:!0,value:s(w,F,b,M)}:{done:!1}});o(String.prototype,g,G[0]),o(O,x,G[1])}T&&P(O[x],"sham",!0)}},68326:(a,p,t)=>{var s=t(89165),o=Function.prototype,u=o.apply,l=o.call;a.exports="object"==typeof Reflect&&Reflect.apply||(s?l.bind(u):function(){return l.apply(u,arguments)})},12602:(a,p,t)=>{var s=t(46767),o=t(2411),u=t(89165),l=s(s.bind);a.exports=function(v,P){return o(v),void 0===P?v:u?l(v,P):function(){return v.apply(P,arguments)}}},89165:(a,p,t)=>{var s=t(8295);a.exports=!s(function(){var o=function(){}.bind();return"function"!=typeof o||o.hasOwnProperty("prototype")})},33656:(a,p,t)=>{var s=t(89165),o=Function.prototype.call;a.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},75466:(a,p,t)=>{var s=t(2252),o=t(19368),u=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,v=o(u,"name"),P=v&&"something"===function(){}.name,h=v&&(!s||s&&l(u,"name").configurable);a.exports={EXISTS:v,PROPER:P,CONFIGURABLE:h}},64997:(a,p,t)=>{var s=t(15406),o=t(2411);a.exports=function(u,l,v){try{return s(o(Object.getOwnPropertyDescriptor(u,l)[v]))}catch{}}},46767:(a,p,t)=>{var s=t(39214),o=t(15406);a.exports=function(u){if("Function"===s(u))return o(u)}},15406:(a,p,t)=>{var s=t(89165),o=Function.prototype,u=o.call,l=s&&o.bind.bind(u,u);a.exports=s?l:function(v){return function(){return u.apply(v,arguments)}}},63028:(a,p,t)=>{var s=t(60011),o=t(15304),u=function(l){return o(l)?l:void 0};a.exports=function(l,v){return arguments.length<2?u(s[l]):s[l]&&s[l][v]}},23372:(a,p,t)=>{var s=t(49034),o=t(62390),u=t(85546),l=t(78629),P=t(78483)("iterator");a.exports=function(h){if(!u(h))return o(h,P)||o(h,"@@iterator")||l[s(h)]}},52538:(a,p,t)=>{var s=t(33656),o=t(2411),u=t(43392),l=t(409),v=t(23372),P=TypeError;a.exports=function(h,O){var g=arguments.length<2?v(h):O;if(o(g))return u(s(g,h));throw new P(l(h)+" is not iterable")}},62390:(a,p,t)=>{var s=t(2411),o=t(85546);a.exports=function(u,l){var v=u[l];return o(v)?void 0:s(v)}},6190:(a,p,t)=>{var s=t(15406),o=t(11222),u=Math.floor,l=s("".charAt),v=s("".replace),P=s("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,O=/\$([$&'`]|\d{1,2})/g;a.exports=function(g,R,S,T,x,A){var I=S+g.length,N=T.length,G=O;return void 0!==x&&(x=o(x),G=h),v(A,G,function(w,b){var F;switch(l(b,0)){case"$":return"$";case"&":return g;case"`":return P(R,0,S);case"'":return P(R,I);case"<":F=x[P(b,1,-1)];break;default:var M=+b;if(0===M)return w;if(M>N){var j=u(M/10);return 0===j?w:j<=N?void 0===T[j-1]?l(b,1):T[j-1]+l(b,1):w}F=T[M-1]}return void 0===F?"":F})}},60011:function(a){var p=function(t){return t&&t.Math===Math&&t};a.exports=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof global&&global)||p("object"==typeof this&&this)||function(){return this}()||Function("return this")()},19368:(a,p,t)=>{var s=t(15406),o=t(11222),u=s({}.hasOwnProperty);a.exports=Object.hasOwn||function(v,P){return u(o(v),P)}},4108:a=>{a.exports={}},79034:a=>{a.exports=function(p,t){try{1===arguments.length?console.error(p):console.error(p,t)}catch{}}},33436:(a,p,t)=>{var s=t(63028);a.exports=s("document","documentElement")},78212:(a,p,t)=>{var s=t(2252),o=t(8295),u=t(3369);a.exports=!s&&!o(function(){return 7!==Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},58939:(a,p,t)=>{var s=t(15406),o=t(8295),u=t(39214),l=Object,v=s("".split);a.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(P){return"String"===u(P)?v(P,""):l(P)}:l},3591:(a,p,t)=>{var s=t(15406),o=t(15304),u=t(73681),l=s(Function.toString);o(u.inspectSource)||(u.inspectSource=function(v){return l(v)}),a.exports=u.inspectSource},57447:(a,p,t)=>{var T,x,A,s=t(78106),o=t(60011),u=t(72032),l=t(55572),v=t(19368),P=t(73681),h=t(25697),O=t(4108),g="Object already initialized",R=o.TypeError;if(s||P.state){var G=P.state||(P.state=new(0,o.WeakMap));G.get=G.get,G.has=G.has,G.set=G.set,T=function(b,F){if(G.has(b))throw new R(g);return F.facade=b,G.set(b,F),F},x=function(b){return G.get(b)||{}},A=function(b){return G.has(b)}}else{var w=h("state");O[w]=!0,T=function(b,F){if(v(b,w))throw new R(g);return F.facade=b,l(b,w,F),F},x=function(b){return v(b,w)?b[w]:{}},A=function(b){return v(b,w)}}a.exports={set:T,get:x,has:A,enforce:function(b){return A(b)?x(b):T(b,{})},getterFor:function(b){return function(F){var M;if(!u(F)||(M=x(F)).type!==b)throw new R("Incompatible receiver, "+b+" required");return M}}}},76077:(a,p,t)=>{var s=t(78483),o=t(78629),u=s("iterator"),l=Array.prototype;a.exports=function(v){return void 0!==v&&(o.Array===v||l[u]===v)}},15304:a=>{var p="object"==typeof document&&document.all;a.exports=typeof p>"u"&&void 0!==p?function(t){return"function"==typeof t||t===p}:function(t){return"function"==typeof t}},43790:(a,p,t)=>{var s=t(15406),o=t(8295),u=t(15304),l=t(49034),v=t(63028),P=t(3591),h=function(){},O=v("Reflect","construct"),g=/^\s*(?:class|function)\b/,R=s(g.exec),S=!g.test(h),T=function(I){if(!u(I))return!1;try{return O(h,[],I),!0}catch{return!1}},x=function(I){if(!u(I))return!1;switch(l(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!R(g,P(I))}catch{return!0}};x.sham=!0,a.exports=!O||o(function(){var A;return T(T.call)||!T(Object)||!T(function(){A=!0})||A})?x:T},2040:(a,p,t)=>{var s=t(8295),o=t(15304),u=/#|\.prototype\./,l=function(g,R){var S=P[v(g)];return S===O||S!==h&&(o(R)?s(R):!!R)},v=l.normalize=function(g){return String(g).replace(u,".").toLowerCase()},P=l.data={},h=l.NATIVE="N",O=l.POLYFILL="P";a.exports=l},85546:a=>{a.exports=function(p){return null==p}},72032:(a,p,t)=>{var s=t(15304);a.exports=function(o){return"object"==typeof o?null!==o:s(o)}},84842:(a,p,t)=>{var s=t(72032);a.exports=function(o){return s(o)||null===o}},86554:a=>{a.exports=!1},70538:(a,p,t)=>{var s=t(72032),o=t(39214),l=t(78483)("match");a.exports=function(v){var P;return s(v)&&(void 0!==(P=v[l])?!!P:"RegExp"===o(v))}},23709:(a,p,t)=>{var s=t(63028),o=t(15304),u=t(74345),l=t(25272),v=Object;a.exports=l?function(P){return"symbol"==typeof P}:function(P){var h=s("Symbol");return o(h)&&u(h.prototype,v(P))}},36391:(a,p,t)=>{var s=t(12602),o=t(33656),u=t(43392),l=t(409),v=t(76077),P=t(79834),h=t(74345),O=t(52538),g=t(23372),R=t(84042),S=TypeError,T=function(A,I){this.stopped=A,this.result=I},x=T.prototype;a.exports=function(A,I,N){var K,V,Q,J,_,k,re,w=!(!N||!N.AS_ENTRIES),b=!(!N||!N.IS_RECORD),F=!(!N||!N.IS_ITERATOR),M=!(!N||!N.INTERRUPTED),j=s(I,N&&N.that),X=function(Y){return K&&R(K,"normal",Y),new T(!0,Y)},$=function(Y){return w?(u(Y),M?j(Y[0],Y[1],X):j(Y[0],Y[1])):M?j(Y,X):j(Y)};if(b)K=A.iterator;else if(F)K=A;else{if(!(V=g(A)))throw new S(l(A)+" is not iterable");if(v(V)){for(Q=0,J=P(A);J>Q;Q++)if((_=$(A[Q]))&&h(x,_))return _;return new T(!1)}K=O(A,V)}for(k=b?A.next:K.next;!(re=o(k,K)).done;){try{_=$(re.value)}catch(Y){R(K,"throw",Y)}if("object"==typeof _&&_&&h(x,_))return _}return new T(!1)}},84042:(a,p,t)=>{var s=t(33656),o=t(43392),u=t(62390);a.exports=function(l,v,P){var h,O;o(l);try{if(!(h=u(l,"return"))){if("throw"===v)throw P;return P}h=s(h,l)}catch(g){O=!0,h=g}if("throw"===v)throw P;if(O)throw h;return o(h),P}},44081:(a,p,t)=>{var s=t(79598).IteratorPrototype,o=t(50635),u=t(29319),l=t(52420),v=t(78629),P=function(){return this};a.exports=function(h,O,g,R){var S=O+" Iterator";return h.prototype=o(s,{next:u(+!R,g)}),l(h,S,!1,!0),v[S]=P,h}},71273:(a,p,t)=>{var s=t(62340),o=t(33656),u=t(86554),l=t(75466),v=t(15304),P=t(44081),h=t(61721),O=t(68163),g=t(52420),R=t(55572),S=t(55612),T=t(78483),x=t(78629),A=t(79598),I=l.PROPER,N=l.CONFIGURABLE,G=A.IteratorPrototype,w=A.BUGGY_SAFARI_ITERATORS,b=T("iterator"),F="keys",M="values",j="entries",K=function(){return this};a.exports=function(V,Q,J,_,k,re,X){P(J,Q,_);var ve,ge,Oe,$=function(ue){if(ue===k&&B)return B;if(!w&&ue&&ue in Z)return Z[ue];switch(ue){case F:case M:case j:return function(){return new J(this,ue)}}return function(){return new J(this)}},Y=Q+" Iterator",fe=!1,Z=V.prototype,se=Z[b]||Z["@@iterator"]||k&&Z[k],B=!w&&se||$(k),pe="Array"===Q&&Z.entries||se;if(pe&&(ve=h(pe.call(new V)))!==Object.prototype&&ve.next&&(!u&&h(ve)!==G&&(O?O(ve,G):v(ve[b])||S(ve,b,K)),g(ve,Y,!0,!0),u&&(x[Y]=K)),I&&k===M&&se&&se.name!==M&&(!u&&N?R(Z,"name",M):(fe=!0,B=function(){return o(se,this)})),k)if(ge={values:$(M),keys:re?B:$(F),entries:$(j)},X)for(Oe in ge)(w||fe||!(Oe in Z))&&S(Z,Oe,ge[Oe]);else s({target:Q,proto:!0,forced:w||fe},ge);return(!u||X)&&Z[b]!==B&&S(Z,b,B,{name:k}),x[Q]=B,ge}},79598:(a,p,t)=>{var S,T,x,s=t(8295),o=t(15304),u=t(72032),l=t(50635),v=t(61721),P=t(55612),h=t(78483),O=t(86554),g=h("iterator"),R=!1;[].keys&&("next"in(x=[].keys())?(T=v(v(x)))!==Object.prototype&&(S=T):R=!0),!u(S)||s(function(){var I={};return S[g].call(I)!==I})?S={}:O&&(S=l(S)),o(S[g])||P(S,g,function(){return this}),a.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:R}},78629:a=>{a.exports={}},79834:(a,p,t)=>{var s=t(73624);a.exports=function(o){return s(o.length)}},85704:(a,p,t)=>{var s=t(15406),o=t(8295),u=t(15304),l=t(19368),v=t(2252),P=t(75466).CONFIGURABLE,h=t(3591),O=t(57447),g=O.enforce,R=O.get,S=String,T=Object.defineProperty,x=s("".slice),A=s("".replace),I=s([].join),N=v&&!o(function(){return 8!==T(function(){},"length",{value:8}).length}),G=String(String).split("String"),w=a.exports=function(b,F,M){"Symbol("===x(S(F),0,7)&&(F="["+A(S(F),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),M&&M.getter&&(F="get "+F),M&&M.setter&&(F="set "+F),(!l(b,"name")||P&&b.name!==F)&&(v?T(b,"name",{value:F,configurable:!0}):b.name=F),N&&M&&l(M,"arity")&&b.length!==M.arity&&T(b,"length",{value:M.arity});try{M&&l(M,"constructor")&&M.constructor?v&&T(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var j=g(b);return l(j,"source")||(j.source=I(G,"string"==typeof F?F:"")),b};Function.prototype.toString=w(function(){return u(this)&&R(this).source||h(this)},"toString")},90712:a=>{var p=Math.ceil,t=Math.floor;a.exports=Math.trunc||function(o){var u=+o;return(u>0?t:p)(u)}},53281:(a,p,t)=>{var I,N,G,w,b,s=t(60011),o=t(97797),u=t(12602),l=t(28834).set,v=t(15),P=t(46456),h=t(87960),O=t(27429),g=t(99061),R=s.MutationObserver||s.WebKitMutationObserver,S=s.document,T=s.process,x=s.Promise,A=o("queueMicrotask");if(!A){var F=new v,M=function(){var j,K;for(g&&(j=T.domain)&&j.exit();K=F.get();)try{K()}catch(V){throw F.head&&I(),V}j&&j.enter()};P||g||O||!R||!S?!h&&x&&x.resolve?((w=x.resolve(void 0)).constructor=x,b=u(w.then,w),I=function(){b(M)}):g?I=function(){T.nextTick(M)}:(l=u(l,s),I=function(){l(M)}):(N=!0,G=S.createTextNode(""),new R(M).observe(G,{characterData:!0}),I=function(){G.data=N=!N}),A=function(j){F.head||I(),F.add(j)}}a.exports=A},42361:(a,p,t)=>{var s=t(2411),o=TypeError,u=function(l){var v,P;this.promise=new l(function(h,O){if(void 0!==v||void 0!==P)throw new o("Bad Promise constructor");v=h,P=O}),this.resolve=s(v),this.reject=s(P)};a.exports.f=function(l){return new u(l)}},60632:(a,p,t)=>{var s=t(70538),o=TypeError;a.exports=function(u){if(s(u))throw new o("The method doesn't accept regular expressions");return u}},50635:(a,p,t)=>{var G,s=t(43392),o=t(56480),u=t(85523),l=t(4108),v=t(33436),P=t(3369),h=t(25697),R="prototype",S="script",T=h("IE_PROTO"),x=function(){},A=function(b){return"<"+S+">"+b+"</"+S+">"},I=function(b){b.write(A("")),b.close();var F=b.parentWindow.Object;return b=null,F},w=function(){try{G=new ActiveXObject("htmlfile")}catch{}w=typeof document<"u"?document.domain&&G?I(G):function(){var M,b=P("iframe"),F="java"+S+":";return b.style.display="none",v.appendChild(b),b.src=String(F),(M=b.contentWindow.document).open(),M.write(A("document.F=Object")),M.close(),M.F}():I(G);for(var b=u.length;b--;)delete w[R][u[b]];return w()};l[T]=!0,a.exports=Object.create||function(F,M){var j;return null!==F?(x[R]=s(F),j=new x,x[R]=null,j[T]=F):j=w(),void 0===M?j:o.f(j,M)}},56480:(a,p,t)=>{var s=t(2252),o=t(46263),u=t(25330),l=t(43392),v=t(79264),P=t(89042);p.f=s&&!o?Object.defineProperties:function(O,g){l(O);for(var A,R=v(g),S=P(g),T=S.length,x=0;T>x;)u.f(O,A=S[x++],R[A]);return O}},25330:(a,p,t)=>{var s=t(2252),o=t(78212),u=t(46263),l=t(43392),v=t(71420),P=TypeError,h=Object.defineProperty,O=Object.getOwnPropertyDescriptor,g="enumerable",R="configurable",S="writable";p.f=s?u?function(x,A,I){if(l(x),A=v(A),l(I),"function"==typeof x&&"prototype"===A&&"value"in I&&S in I&&!I[S]){var N=O(x,A);N&&N[S]&&(x[A]=I.value,I={configurable:R in I?I[R]:N[R],enumerable:g in I?I[g]:N[g],writable:!1})}return h(x,A,I)}:h:function(x,A,I){if(l(x),A=v(A),l(I),o)try{return h(x,A,I)}catch{}if("get"in I||"set"in I)throw new P("Accessors not supported");return"value"in I&&(x[A]=I.value),x}},24634:(a,p,t)=>{var s=t(2252),o=t(33656),u=t(15691),l=t(29319),v=t(79264),P=t(71420),h=t(19368),O=t(78212),g=Object.getOwnPropertyDescriptor;p.f=s?g:function(S,T){if(S=v(S),T=P(T),O)try{return g(S,T)}catch{}if(h(S,T))return l(!o(u.f,S,T),S[T])}},88901:(a,p,t)=>{var s=t(68138),u=t(85523).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(v){return s(v,u)}},77133:(a,p)=>{p.f=Object.getOwnPropertySymbols},61721:(a,p,t)=>{var s=t(19368),o=t(15304),u=t(11222),l=t(25697),v=t(86994),P=l("IE_PROTO"),h=Object,O=h.prototype;a.exports=v?h.getPrototypeOf:function(g){var R=u(g);if(s(R,P))return R[P];var S=R.constructor;return o(S)&&R instanceof S?S.prototype:R instanceof h?O:null}},74345:(a,p,t)=>{var s=t(15406);a.exports=s({}.isPrototypeOf)},68138:(a,p,t)=>{var s=t(15406),o=t(19368),u=t(79264),l=t(5572).indexOf,v=t(4108),P=s([].push);a.exports=function(h,O){var T,g=u(h),R=0,S=[];for(T in g)!o(v,T)&&o(g,T)&&P(S,T);for(;O.length>R;)o(g,T=O[R++])&&(~l(S,T)||P(S,T));return S}},89042:(a,p,t)=>{var s=t(68138),o=t(85523);a.exports=Object.keys||function(l){return s(l,o)}},15691:(a,p)=>{var t={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!t.call({1:2},1);p.f=o?function(l){var v=s(this,l);return!!v&&v.enumerable}:t},68163:(a,p,t)=>{var s=t(64997),o=t(72032),u=t(3729),l=t(99497);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,v=!1,P={};try{(h=s(Object.prototype,"__proto__","set"))(P,[]),v=P instanceof Array}catch{}return function(g,R){return u(g),l(R),o(g)&&(v?h(g,R):g.__proto__=R),g}}():void 0)},50576:(a,p,t)=>{var s=t(33656),o=t(15304),u=t(72032),l=TypeError;a.exports=function(v,P){var h,O;if("string"===P&&o(h=v.toString)&&!u(O=s(h,v))||o(h=v.valueOf)&&!u(O=s(h,v))||"string"!==P&&o(h=v.toString)&&!u(O=s(h,v)))return O;throw new l("Can't convert object to primitive value")}},81842:(a,p,t)=>{var s=t(63028),o=t(15406),u=t(88901),l=t(77133),v=t(43392),P=o([].concat);a.exports=s("Reflect","ownKeys")||function(O){var g=u.f(v(O)),R=l.f;return R?P(g,R(O)):g}},99581:a=>{a.exports=function(p){try{return{error:!1,value:p()}}catch(t){return{error:!0,value:t}}}},60628:(a,p,t)=>{var s=t(60011),o=t(39523),u=t(15304),l=t(2040),v=t(3591),P=t(78483),h=t(96262),O=t(86908),g=t(86554),R=t(21737),S=o&&o.prototype,T=P("species"),x=!1,A=u(s.PromiseRejectionEvent),I=l("Promise",function(){var N=v(o),G=N!==String(o);if(!G&&66===R||g&&(!S.catch||!S.finally))return!0;if(!R||R<51||!/native code/.test(N)){var w=new o(function(M){M(1)}),b=function(M){M(function(){},function(){})};if((w.constructor={})[T]=b,!(x=w.then(function(){})instanceof b))return!0}return!G&&(h||O)&&!A});a.exports={CONSTRUCTOR:I,REJECTION_EVENT:A,SUBCLASSING:x}},39523:(a,p,t)=>{var s=t(60011);a.exports=s.Promise},43957:(a,p,t)=>{var s=t(43392),o=t(72032),u=t(42361);a.exports=function(l,v){if(s(l),o(v)&&v.constructor===l)return v;var P=u.f(l);return(0,P.resolve)(v),P.promise}},38491:(a,p,t)=>{var s=t(39523),o=t(15710),u=t(60628).CONSTRUCTOR;a.exports=u||!o(function(l){s.all(l).then(void 0,function(){})})},15:a=>{var p=function(){this.head=null,this.tail=null};p.prototype={add:function(t){var s={item:t,next:null},o=this.tail;o?o.next=s:this.head=s,this.tail=s},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},a.exports=p},82215:(a,p,t)=>{var s=t(33656),o=t(43392),u=t(15304),l=t(39214),v=t(36936),P=TypeError;a.exports=function(h,O){var g=h.exec;if(u(g)){var R=s(g,h,O);return null!==R&&o(R),R}if("RegExp"===l(h))return s(v,h,O);throw new P("RegExp#exec called on incompatible receiver")}},36936:(a,p,t)=>{var j,K,s=t(33656),o=t(15406),u=t(25155),l=t(31933),v=t(94102),P=t(55386),h=t(50635),O=t(57447).get,g=t(60398),R=t(34922),S=P("native-string-replace",String.prototype.replace),T=RegExp.prototype.exec,x=T,A=o("".charAt),I=o("".indexOf),N=o("".replace),G=o("".slice),w=(K=/b*/g,s(T,j=/a/,"a"),s(T,K,"a"),0!==j.lastIndex||0!==K.lastIndex),b=v.BROKEN_CARET,F=void 0!==/()??/.exec("")[1];(w||F||b||g||R)&&(x=function(K){var k,re,X,$,Y,fe,Z,V=this,Q=O(V),J=u(K),_=Q.raw;if(_)return _.lastIndex=V.lastIndex,k=s(x,_,J),V.lastIndex=_.lastIndex,k;var se=Q.groups,B=b&&V.sticky,pe=s(l,V),ve=V.source,ge=0,Oe=J;if(B&&(pe=N(pe,"y",""),-1===I(pe,"g")&&(pe+="g"),Oe=G(J,V.lastIndex),V.lastIndex>0&&(!V.multiline||V.multiline&&"\n"!==A(J,V.lastIndex-1))&&(ve="(?: "+ve+")",Oe=" "+Oe,ge++),re=new RegExp("^(?:"+ve+")",pe)),F&&(re=new RegExp("^"+ve+"$(?!\\s)",pe)),w&&(X=V.lastIndex),$=s(T,B?re:V,Oe),B?$?($.input=G($.input,ge),$[0]=G($[0],ge),$.index=V.lastIndex,V.lastIndex+=$[0].length):V.lastIndex=0:w&&$&&(V.lastIndex=V.global?$.index+$[0].length:X),F&&$&&$.length>1&&s(S,$[0],re,function(){for(Y=1;Y<arguments.length-2;Y++)void 0===arguments[Y]&&($[Y]=void 0)}),$&&se)for($.groups=fe=h(null),Y=0;Y<se.length;Y++)fe[(Z=se[Y])[0]]=$[Z[1]];return $}),a.exports=x},31933:(a,p,t)=>{var s=t(43392);a.exports=function(){var o=s(this),u="";return o.hasIndices&&(u+="d"),o.global&&(u+="g"),o.ignoreCase&&(u+="i"),o.multiline&&(u+="m"),o.dotAll&&(u+="s"),o.unicode&&(u+="u"),o.unicodeSets&&(u+="v"),o.sticky&&(u+="y"),u}},94102:(a,p,t)=>{var s=t(8295),u=t(60011).RegExp,l=s(function(){var h=u("a","y");return h.lastIndex=2,null!==h.exec("abcd")}),v=l||s(function(){return!u("a","y").sticky}),P=l||s(function(){var h=u("^r","gy");return h.lastIndex=2,null!==h.exec("str")});a.exports={BROKEN_CARET:P,MISSED_STICKY:v,UNSUPPORTED_Y:l}},60398:(a,p,t)=>{var s=t(8295),u=t(60011).RegExp;a.exports=s(function(){var l=u(".","s");return!(l.dotAll&&l.test("\n")&&"s"===l.flags)})},34922:(a,p,t)=>{var s=t(8295),u=t(60011).RegExp;a.exports=s(function(){var l=u("(?<a>b)","g");return"b"!==l.exec("b").groups.a||"bc"!=="b".replace(l,"$<a>c")})},3729:(a,p,t)=>{var s=t(85546),o=TypeError;a.exports=function(u){if(s(u))throw new o("Can't call method on "+u);return u}},97797:(a,p,t)=>{var s=t(60011),o=t(2252),u=Object.getOwnPropertyDescriptor;a.exports=function(l){if(!o)return s[l];var v=u(s,l);return v&&v.value}},2195:(a,p,t)=>{var s=t(63028),o=t(76362),u=t(78483),l=t(2252),v=u("species");a.exports=function(P){var h=s(P);l&&h&&!h[v]&&o(h,v,{configurable:!0,get:function(){return this}})}},52420:(a,p,t)=>{var s=t(25330).f,o=t(19368),l=t(78483)("toStringTag");a.exports=function(v,P,h){v&&!h&&(v=v.prototype),v&&!o(v,l)&&s(v,l,{configurable:!0,value:P})}},25697:(a,p,t)=>{var s=t(55386),o=t(85554),u=s("keys");a.exports=function(l){return u[l]||(u[l]=o(l))}},73681:(a,p,t)=>{var s=t(86554),o=t(60011),u=t(88566),l="__core-js_shared__",v=a.exports=o[l]||u(l,{});(v.versions||(v.versions=[])).push({version:"3.37.0",mode:s?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},55386:(a,p,t)=>{var s=t(73681);a.exports=function(o,u){return s[o]||(s[o]=u||{})}},47385:(a,p,t)=>{var s=t(43392),o=t(60086),u=t(85546),v=t(78483)("species");a.exports=function(P,h){var g,O=s(P).constructor;return void 0===O||u(g=s(O)[v])?h:o(g)}},587:(a,p,t)=>{var s=t(15406),o=t(66929),u=t(25155),l=t(3729),v=s("".charAt),P=s("".charCodeAt),h=s("".slice),O=function(g){return function(R,S){var I,N,T=u(l(R)),x=o(S),A=T.length;return x<0||x>=A?g?"":void 0:(I=P(T,x))<55296||I>56319||x+1===A||(N=P(T,x+1))<56320||N>57343?g?v(T,x):I:g?h(T,x,x+2):N-56320+(I-55296<<10)+65536}};a.exports={codeAt:O(!1),charAt:O(!0)}},93272:(a,p,t)=>{var s=t(21737),o=t(8295),l=t(60011).String;a.exports=!!Object.getOwnPropertySymbols&&!o(function(){var v=Symbol("symbol detection");return!l(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&s&&s<41})},28834:(a,p,t)=>{var K,V,Q,J,s=t(60011),o=t(68326),u=t(12602),l=t(15304),v=t(19368),P=t(8295),h=t(33436),O=t(27725),g=t(3369),R=t(34764),S=t(46456),T=t(99061),x=s.setImmediate,A=s.clearImmediate,I=s.process,N=s.Dispatch,G=s.Function,w=s.MessageChannel,b=s.String,F=0,M={},j="onreadystatechange";P(function(){K=s.location});var _=function($){if(v(M,$)){var Y=M[$];delete M[$],Y()}},k=function($){return function(){_($)}},re=function($){_($.data)},X=function($){s.postMessage(b($),K.protocol+"//"+K.host)};(!x||!A)&&(x=function(Y){R(arguments.length,1);var fe=l(Y)?Y:G(Y),Z=O(arguments,1);return M[++F]=function(){o(fe,void 0,Z)},V(F),F},A=function(Y){delete M[Y]},T?V=function($){I.nextTick(k($))}:N&&N.now?V=function($){N.now(k($))}:w&&!S?(J=(Q=new w).port2,Q.port1.onmessage=re,V=u(J.postMessage,J)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&K&&"file:"!==K.protocol&&!P(X)?(V=X,s.addEventListener("message",re,!1)):V=j in g("script")?function($){h.appendChild(g("script"))[j]=function(){h.removeChild(this),_($)}}:function($){setTimeout(k($),0)}),a.exports={set:x,clear:A}},15648:(a,p,t)=>{var s=t(66929),o=Math.max,u=Math.min;a.exports=function(l,v){var P=s(l);return P<0?o(P+v,0):u(P,v)}},79264:(a,p,t)=>{var s=t(58939),o=t(3729);a.exports=function(u){return s(o(u))}},66929:(a,p,t)=>{var s=t(90712);a.exports=function(o){var u=+o;return u!=u||0===u?0:s(u)}},73624:(a,p,t)=>{var s=t(66929),o=Math.min;a.exports=function(u){var l=s(u);return l>0?o(l,9007199254740991):0}},11222:(a,p,t)=>{var s=t(3729),o=Object;a.exports=function(u){return o(s(u))}},34478:(a,p,t)=>{var s=t(33656),o=t(72032),u=t(23709),l=t(62390),v=t(50576),P=t(78483),h=TypeError,O=P("toPrimitive");a.exports=function(g,R){if(!o(g)||u(g))return g;var T,S=l(g,O);if(S){if(void 0===R&&(R="default"),T=s(S,g,R),!o(T)||u(T))return T;throw new h("Can't convert object to primitive value")}return void 0===R&&(R="number"),v(g,R)}},71420:(a,p,t)=>{var s=t(34478),o=t(23709);a.exports=function(u){var l=s(u,"string");return o(l)?l:l+""}},58899:(a,p,t)=>{var u={};u[t(78483)("toStringTag")]="z",a.exports="[object z]"===String(u)},25155:(a,p,t)=>{var s=t(49034),o=String;a.exports=function(u){if("Symbol"===s(u))throw new TypeError("Cannot convert a Symbol value to a string");return o(u)}},409:a=>{var p=String;a.exports=function(t){try{return p(t)}catch{return"Object"}}},85554:(a,p,t)=>{var s=t(15406),o=0,u=Math.random(),l=s(1..toString);a.exports=function(v){return"Symbol("+(void 0===v?"":v)+")_"+l(++o+u,36)}},25272:(a,p,t)=>{var s=t(93272);a.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},46263:(a,p,t)=>{var s=t(2252),o=t(8295);a.exports=s&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},34764:a=>{var p=TypeError;a.exports=function(t,s){if(t<s)throw new p("Not enough arguments");return t}},78106:(a,p,t)=>{var s=t(60011),o=t(15304),u=s.WeakMap;a.exports=o(u)&&/native code/.test(String(u))},78483:(a,p,t)=>{var s=t(60011),o=t(55386),u=t(19368),l=t(85554),v=t(93272),P=t(25272),h=s.Symbol,O=o("wks"),g=P?h.for||h:h&&h.withoutSetter||l;a.exports=function(R){return u(O,R)||(O[R]=v&&u(h,R)?h[R]:g("Symbol."+R)),O[R]}},95872:(a,p,t)=>{var s=t(62340),o=t(5572).includes,u=t(8295),l=t(22196);s({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(h){return o(this,h,arguments.length>1?arguments[1]:void 0)}}),l("includes")},35628:(a,p,t)=>{var s=t(79264),o=t(22196),u=t(78629),l=t(57447),v=t(25330).f,P=t(71273),h=t(41494),O=t(86554),g=t(2252),R="Array Iterator",S=l.set,T=l.getterFor(R);a.exports=P(Array,"Array",function(A,I){S(this,{type:R,target:s(A),index:0,kind:I})},function(){var A=T(this),I=A.target,N=A.index++;if(!I||N>=I.length)return A.target=void 0,h(void 0,!0);switch(A.kind){case"keys":return h(N,!1);case"values":return h(I[N],!1)}return h([N,I[N]],!1)},"values");var x=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!O&&g&&"values"!==x.name)try{v(x,"name",{value:"values"})}catch{}},59832:(a,p,t)=>{var s=t(62340),o=t(15406),u=t(2411),l=t(11222),v=t(79834),P=t(48590),h=t(25155),O=t(8295),g=t(5200),R=t(77918),S=t(85444),T=t(24973),x=t(21737),A=t(18760),I=[],N=o(I.sort),G=o(I.push),w=O(function(){I.sort(void 0)}),b=O(function(){I.sort(null)}),F=R("sort"),M=!O(function(){if(x)return x<70;if(!(S&&S>3)){if(T)return!0;if(A)return A<603;var Q,J,_,k,V="";for(Q=65;Q<76;Q++){switch(J=String.fromCharCode(Q),Q){case 66:case 69:case 70:case 72:_=3;break;case 68:case 71:_=4;break;default:_=2}for(k=0;k<47;k++)I.push({k:J+k,v:_})}for(I.sort(function(re,X){return X.v-re.v}),k=0;k<I.length;k++)J=I[k].k.charAt(0),V.charAt(V.length-1)!==J&&(V+=J);return"DGBEFHACIJK"!==V}});s({target:"Array",proto:!0,forced:w||!b||!F||!M},{sort:function(Q){void 0!==Q&&u(Q);var J=l(this);if(M)return void 0===Q?N(J):N(J,Q);var re,X,_=[],k=v(J);for(X=0;X<k;X++)X in J&&G(_,J[X]);for(g(_,function(V){return function(Q,J){return void 0===J?-1:void 0===Q?1:void 0!==V?+V(Q,J)||0:h(Q)>h(J)?1:-1}}(Q)),re=v(_),X=0;X<re;)J[X]=_[X++];for(;X<k;)P(J,X++);return J}})},45413:(a,p,t)=>{var s=t(62340),o=t(33656),u=t(2411),l=t(42361),v=t(99581),P=t(36391);s({target:"Promise",stat:!0,forced:t(38491)},{all:function(g){var R=this,S=l.f(R),T=S.resolve,x=S.reject,A=v(function(){var I=u(R.resolve),N=[],G=0,w=1;P(g,function(b){var F=G++,M=!1;w++,o(I,R,b).then(function(j){M||(M=!0,N[F]=j,--w||T(N))},x)}),--w||T(N)});return A.error&&x(A.value),S.promise}})},9076:(a,p,t)=>{var s=t(62340),o=t(86554),u=t(60628).CONSTRUCTOR,l=t(39523),v=t(63028),P=t(15304),h=t(55612),O=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(R){return this.then(void 0,R)}}),!o&&P(l)){var g=v("Promise").prototype.catch;O.catch!==g&&h(O,"catch",g,{unsafe:!0})}},65349:(a,p,t)=>{var Te,Fe,Me,s=t(62340),o=t(86554),u=t(99061),l=t(60011),v=t(33656),P=t(55612),h=t(68163),O=t(52420),g=t(2195),R=t(2411),S=t(15304),T=t(72032),x=t(55657),A=t(47385),I=t(28834).set,N=t(53281),G=t(79034),w=t(99581),b=t(15),F=t(57447),M=t(39523),j=t(60628),K=t(42361),V="Promise",Q=j.CONSTRUCTOR,J=j.REJECTION_EVENT,_=j.SUBCLASSING,k=F.getterFor(V),re=F.set,X=M&&M.prototype,$=M,Y=X,fe=l.TypeError,Z=l.document,se=l.process,B=K.f,pe=B,ve=!!(Z&&Z.createEvent&&l.dispatchEvent),ge="unhandledrejection",y=function(L){var W;return!(!T(L)||!S(W=L.then))&&W},Ie=function(L,W){var de,z,Ve,te=W.value,q=1===W.state,ie=q?L.ok:L.fail,Le=L.resolve,$e=L.reject,Ue=L.domain;try{ie?(q||(2===W.rejection&&ze(W),W.rejection=1),!0===ie?de=te:(Ue&&Ue.enter(),de=ie(te),Ue&&(Ue.exit(),Ve=!0)),de===L.promise?$e(new fe("Promise-chain cycle")):(z=y(de))?v(z,de,Le,$e):Le(de)):$e(te)}catch(me){Ue&&!Ve&&Ue.exit(),$e(me)}},oe=function(L,W){L.notified||(L.notified=!0,N(function(){for(var q,te=L.reactions;q=te.get();)Ie(q,L);L.notified=!1,W&&!L.rejection&&Ke(L)}))},Ge=function(L,W,te){var q,ie;ve?((q=Z.createEvent("Event")).promise=W,q.reason=te,q.initEvent(L,!1,!0),l.dispatchEvent(q)):q={promise:W,reason:te},!J&&(ie=l["on"+L])?ie(q):L===ge&&G("Unhandled promise rejection",te)},Ke=function(L){v(I,l,function(){var ie,W=L.facade,te=L.value;if(We(L)&&(ie=w(function(){u?se.emit("unhandledRejection",te,W):Ge(ge,W,te)}),L.rejection=u||We(L)?2:1,ie.error))throw ie.value})},We=function(L){return 1!==L.rejection&&!L.parent},ze=function(L){v(I,l,function(){var W=L.facade;u?se.emit("rejectionHandled",W):Ge("rejectionhandled",W,L.value)})},xe=function(L,W,te){return function(q){L(W,q,te)}},Se=function(L,W,te){L.done||(L.done=!0,te&&(L=te),L.value=W,L.state=2,oe(L,!0))},we=function(L,W,te){if(!L.done){L.done=!0,te&&(L=te);try{if(L.facade===W)throw new fe("Promise can't be resolved itself");var q=y(W);q?N(function(){var ie={done:!1};try{v(q,W,xe(we,ie,L),xe(Se,ie,L))}catch(Le){Se(ie,Le,L)}}):(L.value=W,L.state=1,oe(L,!1))}catch(ie){Se({done:!1},ie,L)}}};if(Q&&($=function(W){x(this,Y),R(W),v(Te,this);var te=k(this);try{W(xe(we,te),xe(Se,te))}catch(q){Se(te,q)}},(Te=function(W){re(this,{type:V,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:0,value:void 0})}).prototype=P(Y=$.prototype,"then",function(W,te){var q=k(this),ie=B(A(this,$));return q.parent=!0,ie.ok=!S(W)||W,ie.fail=S(te)&&te,ie.domain=u?se.domain:void 0,0===q.state?q.reactions.add(ie):N(function(){Ie(ie,q)}),ie.promise}),Fe=function(){var L=new Te,W=k(L);this.promise=L,this.resolve=xe(we,W),this.reject=xe(Se,W)},K.f=B=function(L){return L===$||void 0===L?new Fe(L):pe(L)},!o&&S(M)&&X!==Object.prototype)){Me=X.then,_||P(X,"then",function(W,te){var q=this;return new $(function(ie,Le){v(Me,q,ie,Le)}).then(W,te)},{unsafe:!0});try{delete X.constructor}catch{}h&&h(X,Y)}s({global:!0,constructor:!0,wrap:!0,forced:Q},{Promise:$}),O($,V,!1,!0),g(V)},39858:(a,p,t)=>{t(65349),t(45413),t(9076),t(80956),t(28869),t(42948)},80956:(a,p,t)=>{var s=t(62340),o=t(33656),u=t(2411),l=t(42361),v=t(99581),P=t(36391);s({target:"Promise",stat:!0,forced:t(38491)},{race:function(g){var R=this,S=l.f(R),T=S.reject,x=v(function(){var A=u(R.resolve);P(g,function(I){o(A,R,I).then(S.resolve,T)})});return x.error&&T(x.value),S.promise}})},28869:(a,p,t)=>{var s=t(62340),o=t(42361);s({target:"Promise",stat:!0,forced:t(60628).CONSTRUCTOR},{reject:function(v){var P=o.f(this);return(0,P.reject)(v),P.promise}})},42948:(a,p,t)=>{var s=t(62340),o=t(63028),u=t(86554),l=t(39523),v=t(60628).CONSTRUCTOR,P=t(43957),h=o("Promise"),O=u&&!v;s({target:"Promise",stat:!0,forced:u||v},{resolve:function(R){return P(O&&this===h?l:this,R)}})},7436:(a,p,t)=>{var s=t(62340),o=t(36936);s({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},16795:(a,p,t)=>{var A,s=t(62340),o=t(46767),u=t(24634).f,l=t(73624),v=t(25155),P=t(60632),h=t(3729),O=t(84765),g=t(86554),R=o("".slice),S=Math.min,T=O("endsWith");s({target:"String",proto:!0,forced:!(!g&&!T&&(A=u(String.prototype,"endsWith"),A&&!A.writable)||T)},{endsWith:function(I){var N=v(h(this));P(I);var G=arguments.length>1?arguments[1]:void 0,w=N.length,b=void 0===G?w:S(l(G),w),F=v(I);return R(N,b-F.length,b)===F}})},37075:(a,p,t)=>{var s=t(62340),o=t(15406),u=t(60632),l=t(3729),v=t(25155),P=t(84765),h=o("".indexOf);s({target:"String",proto:!0,forced:!P("includes")},{includes:function(g){return!!~h(v(l(this)),v(u(g)),arguments.length>1?arguments[1]:void 0)}})},90250:(a,p,t)=>{var s=t(68326),o=t(33656),u=t(15406),l=t(50559),v=t(8295),P=t(43392),h=t(15304),O=t(85546),g=t(66929),R=t(73624),S=t(25155),T=t(3729),x=t(38137),A=t(62390),I=t(6190),N=t(82215),w=t(78483)("replace"),b=Math.max,F=Math.min,M=u([].concat),j=u([].push),K=u("".indexOf),V=u("".slice),Q=function(re){return void 0===re?re:String(re)},J="$0"==="a".replace(/./,"$0"),_=!!/./[w]&&""===/./[w]("a","$0");l("replace",function(re,X,$){var Y=_?"$":"$0";return[function(Z,se){var B=T(this),pe=O(Z)?void 0:A(Z,w);return pe?o(pe,Z,B,se):o(X,S(B),Z,se)},function(fe,Z){var se=P(this),B=S(fe);if("string"==typeof Z&&-1===K(Z,Y)&&-1===K(Z,"$<")){var pe=$(X,se,B,Z);if(pe.done)return pe.value}var ve=h(Z);ve||(Z=S(Z));var Oe,ge=se.global;ge&&(Oe=se.unicode,se.lastIndex=0);for(var Pe,ue=[];null!==(Pe=N(se,B))&&(j(ue,Pe),ge);)""===S(Pe[0])&&(se.lastIndex=x(B,R(se.lastIndex),Oe));for(var De="",be=0,Te=0;Te<ue.length;Te++){for(var y,Fe=S((Pe=ue[Te])[0]),Ne=b(F(g(Pe.index),B.length),0),Me=[],Ie=1;Ie<Pe.length;Ie++)j(Me,Q(Pe[Ie]));var oe=Pe.groups;if(ve){var Ge=M([Fe],Me,Ne,B);void 0!==oe&&j(Ge,oe),y=S(s(Z,void 0,Ge))}else y=I(Fe,B,Ne,Me,oe,Z);Ne>=be&&(De+=V(B,be,Ne)+y,be=Ne+Fe.length)}return De+V(B,be)}]},!!v(function(){var re=/./;return re.exec=function(){var X=[];return X.groups={a:"7"},X},"7"!=="".replace(re,"$<a>")})||!J||_)},2272:(a,p,t)=>{var A,s=t(62340),o=t(46767),u=t(24634).f,l=t(73624),v=t(25155),P=t(60632),h=t(3729),O=t(84765),g=t(86554),R=o("".slice),S=Math.min,T=O("startsWith");s({target:"String",proto:!0,forced:!(!g&&!T&&(A=u(String.prototype,"startsWith"),A&&!A.writable)||T)},{startsWith:function(I){var N=v(h(this));P(I);var G=l(S(arguments.length>1?arguments[1]:void 0,N.length)),w=v(I);return R(N,G,G+w.length)===w}})},52650:(a,p,t)=>{var s=t(62340),o=t(2252),u=t(60011),l=t(15406),v=t(19368),P=t(15304),h=t(74345),O=t(25155),g=t(76362),R=t(75705),S=u.Symbol,T=S&&S.prototype;if(o&&P(S)&&(!("description"in T)||void 0!==S().description)){var x={},A=function(){var j=arguments.length<1||void 0===arguments[0]?void 0:O(arguments[0]),K=h(T,this)?new S(j):void 0===j?S():S(j);return""===j&&(x[K]=!0),K};R(A,S),A.prototype=T,T.constructor=A;var I="Symbol(description detection)"===String(S("description detection")),N=l(T.valueOf),G=l(T.toString),w=/^Symbol\((.*)\)[^)]+$/,b=l("".replace),F=l("".slice);g(T,"description",{configurable:!0,get:function(){var j=N(this);if(v(x,j))return"";var K=G(j),V=I?F(K,7,-1):b(K,w,"$1");return""===V?void 0:V}}),s({global:!0,constructor:!0,forced:!0},{Symbol:A})}},48210:(a,p,t)=>{var s=t(60011),o=t(91460),u=t(86553),l=t(35628),v=t(55572),P=t(52420),O=t(78483)("iterator"),g=l.values,R=function(T,x){if(T){if(T[O]!==g)try{v(T,O,g)}catch{T[O]=g}if(P(T,x,!0),o[x])for(var A in l)if(T[A]!==l[A])try{v(T,A,l[A])}catch{T[A]=l[A]}}};for(var S in o)R(s[S]&&s[S].prototype,S);R(u,"DOMTokenList")},12519:(a,p,t)=>{t.r(p),t.d(p,{AbstractActionHandler:()=>ut,AbstractDontCodeStoreProvider:()=>ot,AbstractSchemaItem:()=>ue,Action:()=>Ve,ActionContextType:()=>L,ActionType:()=>W,Change:()=>de,ChangeType:()=>z,DataTransformationInfo:()=>Ze,DontCodeChangeManager:()=>_e,DontCodeCore:()=>et,DontCodeGroupOperationType:()=>Se,DontCodeModel:()=>y,DontCodeModelManager:()=>me,DontCodeModelPointer:()=>oe,DontCodePluginManager:()=>Ke,DontCodePreviewManager:()=>ze,DontCodeProject:()=>dt,DontCodeReportGroupShowType:()=>xe,DontCodeSchema:()=>Ie,DontCodeSchemaEnum:()=>be,DontCodeSchemaEnumValue:()=>Te,DontCodeSchemaManager:()=>Ge,DontCodeSchemaObject:()=>Ce,DontCodeSchemaProperty:()=>Me,DontCodeSchemaRef:()=>Ne,DontCodeSchemaRoot:()=>De,DontCodeSchemaValue:()=>Fe,DontCodeSortDirectionType:()=>we,DontCodeStoreAggregate:()=>Ue,DontCodeStoreCriteria:()=>ie,DontCodeStoreCriteriaOperator:()=>q,DontCodeStoreGroupby:()=>$e,DontCodeStoreGroupedByEntities:()=>nt,DontCodeStoreGroupedByValues:()=>st,DontCodeStoreManager:()=>te,DontCodeStorePreparedEntities:()=>rt,DontCodeStoreSort:()=>Le,DontCodeTestManager:()=>Be,Message:()=>at,MessageType:()=>Qe,ModelQuerySingleResult:()=>it,MoneyAmount:()=>lt,SpecialFields:()=>tt,StoreProviderHelper:()=>Ae,TestProviderInterface:()=>vt,concatIterable:()=>Pe,dtcde:()=>Je}),t(35628),t(48210),t(7436),t(90250),t(2272),t(16795);var h=t(56241);function S(f){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(f)}function T(f,e){if(!(f instanceof e))throw new TypeError("Cannot call a class as a function")}function x(f,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(f,n.key,n)}}function A(f,e,r){return e&&x(f.prototype,e),r&&x(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}function N(f){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(f)}function G(f,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(f,e)}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(f,e,r){return(b=w()?Reflect.construct.bind():function(i,c,d){var E=[null];E.push.apply(E,c);var C=new(Function.bind.apply(i,E));return d&&G(C,d.prototype),C}).apply(null,arguments)}function M(f){var e="function"==typeof Map?new Map:void 0;return M=function(n){if(null===n||!function F(f){return-1!==Function.toString.call(f).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return b(n,arguments,N(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),G(i,n)},M(f)}function k(f,e){if(f){if("string"==typeof f)return re(f,e);var r=Object.prototype.toString.call(f).slice(8,-1);if("Object"===r&&f.constructor&&(r=f.constructor.name),"Map"===r||"Set"===r)return Array.from(f);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(f,e)}}function re(f,e){(null==e||e>f.length)&&(e=f.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=f[r];return n}t(95872),t(59832),t(37075);var Y=Object.prototype.hasOwnProperty;function fe(f,e){return(f=f.slice()).push(e),f}function Z(f,e){return(e=e.slice()).unshift(f),e}var se=function(f){!function I(f,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&G(f,e)}(r,f);var e=function V(f){var e=w();return function(){var i,n=N(f);if(e){var c=N(this).constructor;i=Reflect.construct(n,arguments,c)}else i=n.apply(this,arguments);return function K(f,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function j(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f)}(this,i)}}(r);function r(n){var i;return T(this,r),(i=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,i.value=n,i.name="NewError",i}return A(r)}(M(Error));function B(f,e,r,n,i){if(!(this instanceof B))try{return new B(f,e,r,n,i)}catch(m){if(!m.avoidNew)throw m;return m.value}"string"==typeof f&&(i=n,n=r,r=e,e=f,f=null);var c=f&&"object"===S(f);if(this.json=(f=f||{}).json||r,this.path=f.path||e,this.resultType=f.resultType||"value",this.flatten=f.flatten||!1,this.wrap=!Y.call(f,"wrap")||f.wrap,this.sandbox=f.sandbox||{},this.preventEval=f.preventEval||!1,this.parent=f.parent||null,this.parentProperty=f.parentProperty||null,this.callback=f.callback||n||null,this.otherTypeCallback=f.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==f.autostart){var d={path:c?f.path:e};c?"json"in f&&(d.json=f.json):d.json=r;var E=this.evaluate(d);if(!E||"object"!==S(E))throw new se(E);return E}}B.prototype.evaluate=function(f,e,r,n){var i=this,c=this.parent,d=this.parentProperty,E=this.flatten,m=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(f=f||this.path)&&"object"===S(f)&&!Array.isArray(f)){if(!f.path&&""!==f.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Y.call(f,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=f.json,E=Y.call(f,"flatten")?f.flatten:E,this.currResultType=Y.call(f,"resultType")?f.resultType:this.currResultType,this.currSandbox=Y.call(f,"sandbox")?f.sandbox:this.currSandbox,m=Y.call(f,"wrap")?f.wrap:m,this.currPreventEval=Y.call(f,"preventEval")?f.preventEval:this.currPreventEval,r=Y.call(f,"callback")?f.callback:r,this.currOtherTypeCallback=Y.call(f,"otherTypeCallback")?f.otherTypeCallback:this.currOtherTypeCallback,c=Y.call(f,"parent")?f.parent:c,d=Y.call(f,"parentProperty")?f.parentProperty:d,f=f.path}if(c=c||null,d=d||null,Array.isArray(f)&&(f=B.toPathString(f)),(f||""===f)&&e){var D=B.toPathArray(f);"$"===D[0]&&D.length>1&&D.shift(),this._hasParentSelector=null;var U=this._trace(D,e,["$"],c,d,r).filter(function(ee){return ee&&!ee.isParentSelector});return U.length?m||1!==U.length||U[0].hasArrExpr?U.reduce(function(ee,le){var Ee=i._getPreferredOutput(le);return E&&Array.isArray(Ee)?ee=ee.concat(Ee):ee.push(Ee),ee},[]):this._getPreferredOutput(U[0]):m?[]:void 0}},B.prototype._getPreferredOutput=function(f){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(f.path)?f.path:B.toPathArray(f.path);return f.pointer=B.toPointer(r),f.path="string"==typeof f.path?f.path:B.toPathString(f.path),f;case"value":case"parent":case"parentProperty":return f[e];case"path":return B.toPathString(f[e]);case"pointer":return B.toPointer(f.path);default:throw new TypeError("Unknown result type")}},B.prototype._handleCallback=function(f,e,r){if(e){var n=this._getPreferredOutput(f);f.path="string"==typeof f.path?f.path:B.toPathString(f.path),e(n,r,f)}},B.prototype._trace=function(f,e,r,n,i,c,d,E){var C,m=this;if(!f.length)return this._handleCallback(C={path:r,value:e,parent:n,parentProperty:i,hasArrExpr:d},c,"value"),C;var D=f[0],U=f.slice(1),ee=[];function le(he){Array.isArray(he)?he.forEach(function(pt){ee.push(pt)}):ee.push(he)}if(("string"!=typeof D||E)&&e&&Y.call(e,D))le(this._trace(U,e[D],fe(r,D),e,D,c,d));else if("*"===D)this._walk(e,function(he){le(m._trace(U,e[he],fe(r,he),e,he,c,!0,!0))});else if(".."===D)le(this._trace(U,e,r,n,i,c,d)),this._walk(e,function(he){"object"===S(e[he])&&le(m._trace(f.slice(),e[he],fe(r,he),e,he,c,!0))});else{if("^"===D)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:U,isParentSelector:!0};if("~"===D)return C={path:fe(r,D),value:i,parent:n,parentProperty:null},this._handleCallback(C,c,"property"),C;if("$"===D)le(this._trace(U,e,r,null,null,c,d));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(D))le(this._slice(D,U,e,r,n,i,c));else if(0===D.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var Ee=D.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(he){m._eval(Ee,e[he],he,r,n,i)&&le(m._trace(U,e[he],fe(r,he),e,he,c,!0))})}else if("("===D[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");le(this._trace(Z(this._eval(D,e,r[r.length-1],r.slice(0,-1),n,i),U),e,r,n,i,c,d))}else if("@"===D[0]){var ce=!1,H=D.slice(1,-2);switch(H){case"scalar":(!e||!["object","function"].includes(S(e)))&&(ce=!0);break;case"boolean":case"string":case"undefined":case"function":S(e)===H&&(ce=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(ce=!0);break;case"number":Number.isFinite(e)&&(ce=!0);break;case"nonFinite":"number"==typeof e&&!Number.isFinite(e)&&(ce=!0);break;case"object":e&&S(e)===H&&(ce=!0);break;case"array":Array.isArray(e)&&(ce=!0);break;case"other":ce=this.currOtherTypeCallback(e,r,n,i);break;case"null":null===e&&(ce=!0);break;default:throw new TypeError("Unknown value type "+H)}if(ce)return this._handleCallback(C={path:r,value:e,parent:n,parentProperty:i},c,"value"),C}else if("`"===D[0]&&e&&Y.call(e,D.slice(1))){var ne=D.slice(1);le(this._trace(U,e[ne],fe(r,ne),e,ne,c,d,!0))}else if(D.includes(",")){var Re,ye=function $(f,e){var r=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!r){if(Array.isArray(f)||(r=k(f))||e&&f&&"number"==typeof f.length){r&&(f=r);var n=0,i=function(){};return{s:i,n:function(){return n>=f.length?{done:!0}:{done:!1,value:f[n++]}},e:function(m){throw m},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E,c=!0,d=!1;return{s:function(){r=r.call(f)},n:function(){var m=r.next();return c=m.done,m},e:function(m){d=!0,E=m},f:function(){try{!c&&null!=r.return&&r.return()}finally{if(d)throw E}}}}(D.split(","));try{for(ye.s();!(Re=ye.n()).done;)le(this._trace(Z(Re.value,U),e,r,n,i,c,!0))}catch(he){ye.e(he)}finally{ye.f()}}else!E&&e&&Y.call(e,D)&&le(this._trace(U,e[D],fe(r,D),e,D,c,d,!0))}if(this._hasParentSelector)for(var je=0;je<ee.length;je++){var Xe=ee[je];if(Xe&&Xe.isParentSelector){var He=this._trace(Xe.expr,e,Xe.path,n,i,c,d);if(Array.isArray(He)){ee[je]=He[0];for(var ht=He.length,qe=1;qe<ht;qe++)je++,ee.splice(je,0,He[qe])}else ee[je]=He}}return ee},B.prototype._walk=function(f,e){if(Array.isArray(f))for(var r=f.length,n=0;n<r;n++)e(n);else f&&"object"===S(f)&&Object.keys(f).forEach(function(i){e(i)})},B.prototype._slice=function(f,e,r,n,i,c,d){if(Array.isArray(r)){var E=r.length,m=f.split(":"),C=m[2]&&Number.parseInt(m[2])||1,D=m[0]&&Number.parseInt(m[0])||0,U=m[1]&&Number.parseInt(m[1])||E;D=D<0?Math.max(0,D+E):Math.min(E,D),U=U<0?Math.max(0,U+E):Math.min(E,U);for(var ee=[],le=D;le<U;le+=C)this._trace(Z(le,e),r,n,i,c,d,!0).forEach(function(ce){ee.push(ce)});return ee}},B.prototype._eval=function(f,e,r,n,i,c){this.currSandbox._$_parentProperty=c,this.currSandbox._$_parent=i,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var d=f.includes("@path");d&&(this.currSandbox._$_path=B.toPathString(n.concat([r])));var E="script:"+f;if(!B.cache[E]){var m=f.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");d&&(m=m.replace(/@path/g,"_$_path")),B.cache[E]=new this.vm.Script(m)}try{return B.cache[E].runInNewContext(this.currSandbox)}catch(C){throw new Error("jsonPath: "+C.message+": "+f)}},B.cache={},B.toPathString=function(f){for(var e=f,r=e.length,n="$",i=1;i<r;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[i])||(n+=/^[\*0-9]+$/.test(e[i])?"["+e[i]+"]":"['"+e[i]+"']");return n},B.toPointer=function(f){for(var e=f,r=e.length,n="",i=1;i<r;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[i])||(n+="/"+e[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},B.toPathArray=function(f){var e=B.cache;if(e[f])return e[f].concat();var r=[],i=f.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(c,d){return"[#"+(r.push(d)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(c,d){return"['"+d.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(c,d){return";"+d.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(c){var d=c.match(/#([0-9]+)/);return d&&d[1]?r[d[1]]:c});return e[f]=i,e[f].concat()},B.prototype.vm={Script:function(){function f(e){T(this,f),this.code=e}return A(f,[{key:"runInNewContext",value:function(r){var n=this.code,i=Object.keys(r),c=[];!function(e,r,n){for(var i=e.length,c=0;c<i;c++)n(e[c])&&r.push(e.splice(c--,1)[0])}(i,c,function(D){return"function"==typeof r[D]});var d=i.map(function(D,U){return r[D]}),E=c.reduce(function(D,U){var ee=r[U].toString();return/function/.test(ee)||(ee="function "+ee),"var "+U+"="+ee+";"+D},"");!/(["'])use strict\1/.test(n=E+n)&&!i.includes("arguments")&&(n="var arguments = undefined;"+n);var m=(n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),C=m>-1?n.slice(0,m+1)+" return "+n.slice(m+1):" return "+n;return b(Function,i.concat([C])).apply(void 0,function Q(f){return function J(f){if(Array.isArray(f))return re(f)}(f)||function _(f){if(typeof Symbol<"u"&&null!=f[Symbol.iterator]||null!=f["@@iterator"])return Array.from(f)}(f)||k(f)||function X(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d))}}]),f}()},t(39858),t(52650);class ue{constructor(e,r){this.array=!1,this.readOnly=!1,this.hidden=!1,this.parent=e,this.relativeId=r}isArray(){return this.array}setArray(e){this.array=e}isEnum(){return!1}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}isHidden(){return this.hidden}setHidden(e){this.hidden=e}isReadonly(){return this.readOnly}setReadonly(e){this.readOnly=e}static generateItem(e,r,n){let c,i=Array.isArray(e);if(i)return console.error("arrays are not supported",e),e;if(i=!1,e.type)switch(e.type){case"object":c=new Ce(e,r,n);break;case"array":c=this.generateItem(e.items,r,n),i=!0;break;default:c=new Fe(e,r,n)}else if(e.enum)c=new be(e,r,n);else{if(!e.$ref)return e;c=new Ne(e,r,n)}return!0===e.readOnly&&c.setReadonly(!0),!0===e.writeOnly&&c.setHidden(!0),c.setArray(i),c}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static goto(e,r){let n=e;return r.split("/").forEach(i=>{"#"!==i&&""!=i&&(n=n?.getChild(i)),n||console.error("Cannot find "+i+" of "+r+" in the following item ",e)}),n}upsertWith(e){return!1}getParent(){return this.parent}getChild(e){}getChildren(){return(new Map).entries()}updateWith(e){}allProperties(){return[].values()}getProperties(e){}hasProperties(e){return!1}getRelativeId(){return this.relativeId}setRelativeId(e){this.relativeId=e}getTargetPath(){return this.targetPath}setTargetPath(e){this.targetPath=e}isPossibleDynamicProperty(e){const r=this.getChildren();for(const n of r){const i=n[1].allProperties();for(const c of i)if(c[1].getChild(e))return c[1]}}getAllPossibleDynamicProperties(){const e=this.getChildren(),r=new Map;for(const n of e){const i=n[1].allProperties();for(const c of i)for(const d of c[1].getChildren())r.has(d[0])&&console.warn("Dynamic Property "+d[0]+" is being defined by multiple children."),r.set(d[0],d[1])}return r.entries()}getChildrenAndPossibleProperties(){return Pe(this.getChildren(),this.getAllPossibleDynamicProperties())}}function*Pe(...f){for(let e of f){let r;for(e=e[Symbol.iterator]();r=e.next(),!r.done;)yield r.value}}class Ce extends ue{constructor(e,r,n){super(n,r),this.children=new Map,e&&this.readJson(e)}readJson(e){const r=e.properties;if(r)for(const n in r)this.children.set(n,ue.generateItem(r[n],n,this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!1}upsertWith(e){const r=this.getChild(e.location.id);if(r)r.updateWith(e);else if(null!=e.location.id){const n=ue.generateItem(e.update,e.location.id,this);if(e.location.after){const i=new Map;this.children.forEach((c,d)=>{i.set(d,c),d===e.location.after&&null!=e.location.id&&i.set(e.location.id,n)}),this.children=i}else this.children.set(e.location.id,n);n.updateWith(e)}return!0}updateWith(e){super.updateWith(e)}getChild(e){if(e)return this.children.get(e)}getChildren(){return this.children.entries()}}class De extends Ce{constructor(e){super(e,void 0)}readJson(e){super.readJson(e);const r=e.$defs;r&&this.children.set("$defs",new Ce({properties:r},"$defs",this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!0}}class be extends ue{constructor(e,r,n){super(n,r),this.values=new Array,this.properties=new Map,this.updateValues(e.enum,this.values),this.targetPath=e.format}isEnum(){return!0}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}getValues(){return this.values}updateWith(e){super.updateWith(e),this.updateValues(e.update.enum,this.values,e)}updateValues(e,r,n){e.forEach(i=>{if("string"==typeof i){if(r.find(c=>c.getValue()===i)||r.push(new Te(i)),n?.props){const c=new Me(n,this.relativeId+"="+i,this);c.isEmpty()||this.properties.set(i,c)}}else for(const c in i)if(i.hasOwnProperty(c)){let d=r.find(E=>E.getValue()===i);d||(d=new Te(c),r.push(d)),d.getChildren()||d.setChildren([]),this.updateValues(i[c].enum,d.getChildren(),n)}})}allProperties(){return this.properties.entries()}getProperties(e){return this.properties.get(e)}hasProperties(e){return this.properties.has(e)}}class Te{constructor(e,r){this._children=new Array,this._value=e,this._label=r||e}getLabel(){return this._label?this._label:this._value}setLabel(e){this._label=e}getValue(){return this._value}setValue(e){this._value=e}getChildren(){return this._children}setChildren(e){this._children=e}}class Fe extends ue{constructor(e,r,n){super(n,r),this.type=e.type,this.targetPath=e.format}isValue(){return!0}getType(){return this.type}}class Ne extends ue{constructor(e,r,n){super(n,r),this.resolvedRef=new Map,this.ref=e.$ref}isReference(){return!0}getReference(){return this.ref}resolveReference(e){this.resolvedRef.set("",e)}getChildren(){return this.resolvedRef.entries()}}class Me extends Ce{constructor(e,r,n){super({type:"object",properties:e.props},r,n),this.replace=!!e.replace&&e.replace,this.posAfter=e.location.after}isEmpty(){return 0==this.children.size}isReplace(){return this.replace}getPosAfter(){return this.posAfter}}class y{}y.ROOT="creation",y.APP_NAME_NODE="name",y.APP_TYPE_NODE="type",y.APP_TYPE=y.ROOT+"/"+y.APP_TYPE_NODE,y.APP_NAME=y.ROOT+"/"+y.APP_NAME_NODE,y.APP_ENTITIES_NODE="entities",y.APP_ENTITIES=y.ROOT+"/"+y.APP_ENTITIES_NODE,y.APP_ENTITIES_FROM_NODE="from",y.APP_ENTITIES_FROM=y.APP_ENTITIES+"/"+y.APP_ENTITIES_FROM_NODE,y.APP_ENTITIES_NAME_NODE="name",y.APP_ENTITIES_NAME=y.APP_ENTITIES+"/"+y.APP_ENTITIES_NAME_NODE,y.APP_FIELDS_NODE="fields",y.APP_FIELDS=y.APP_ENTITIES+"/"+y.APP_FIELDS_NODE,y.APP_FIELDS_NAME_NODE="name",y.APP_FIELDS_NAME=y.APP_FIELDS+"/"+y.APP_FIELDS_NAME_NODE,y.APP_FIELDS_TYPE_NODE="type",y.APP_FIELDS_TYPE=y.APP_FIELDS+"/"+y.APP_FIELDS_TYPE_NODE,y.APP_SHARING_NODE="sharing",y.APP_SHARING=y.ROOT+"/"+y.APP_SHARING_NODE,y.APP_SHARING_WITH_NODE="with",y.APP_SHARING_WITH=y.APP_SHARING+"/"+y.APP_SHARING_WITH_NODE,y.APP_REPORTS_NODE="reports",y.APP_REPORTS=y.ROOT+"/"+y.APP_REPORTS_NODE,y.APP_REPORTS_TITLE_NODE="title",y.APP_REPORTS_TITLE=y.APP_REPORTS+"/"+y.APP_REPORTS_TITLE_NODE,y.APP_REPORTS_FOR_NODE="for",y.APP_REPORTS_FOR=y.APP_REPORTS+"/"+y.APP_REPORTS_FOR_NODE,y.APP_REPORTS_GROUP_NODE="groupedBy",y.APP_REPORTS_GROUP=y.APP_REPORTS+"/"+y.APP_REPORTS_GROUP_NODE,y.APP_REPORTS_SORT_NODE="sortedBy",y.APP_REPORTS_SORT=y.APP_REPORTS+"/"+y.APP_REPORTS_SORT_NODE,y.APP_REPORTS_DISPLAY_NODE="as",y.APP_REPORTS_DISPLAY=y.APP_REPORTS+"/"+y.APP_REPORTS_DISPLAY_NODE,y.APP_REPORTS_GROUP_LABEL_NODE="label",y.APP_REPORTS_GROUP_LABEL=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_LABEL_NODE,y.APP_REPORTS_GROUP_OF_NODE="of",y.APP_REPORTS_GROUP_OF=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_OF_NODE,y.APP_REPORTS_GROUP_SHOW_NODE="show",y.APP_REPORTS_GROUP_SHOW=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_SHOW_NODE,y.APP_REPORTS_GROUP_AGGREGATE_NODE="display",y.APP_REPORTS_GROUP_AGGREGATE=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_AGGREGATE_NODE,y.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE="label",y.APP_REPORTS_GROUP_AGGREGATE_LABEL=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE,y.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE="operation",y.APP_REPORTS_GROUP_AGGREGATE_OPERATION=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE,y.APP_REPORTS_GROUP_AGGREGATE_OF_NODE="of",y.APP_REPORTS_GROUP_AGGREGATE_OF=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_OF_NODE,y.APP_REPORTS_SORT_BY_NODE="by",y.APP_REPORTS_SORT_BY=y.APP_REPORTS_SORT+"/"+y.APP_REPORTS_SORT_BY_NODE,y.APP_REPORTS_SORT_DIRECTION_NODE="direction",y.APP_REPORTS_SORT_DIRECTION=y.APP_REPORTS_SORT+"/"+y.APP_REPORTS_SORT_DIRECTION_NODE,y.APP_REPORTS_DISPLAY_TITLE_NODE="title",y.APP_REPORTS_DISPLAY_TITLE=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_TITLE_NODE,y.APP_REPORTS_DISPLAY_TYPE_NODE="type",y.APP_REPORTS_DISPLAY_TYPE=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_TYPE_NODE,y.APP_REPORTS_DISPLAY_OF_NODE="of",y.APP_REPORTS_DISPLAY_OF=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_OF_NODE,y.APP_REPORTS_DISPLAY_BY_NODE="by",y.APP_REPORTS_DISPLAY_BY=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_BY_NODE,y.APP_SOURCES_NODE="sources",y.APP_SOURCES=y.ROOT+"/"+y.APP_SOURCES_NODE,y.APP_SOURCES_NAME_NODE="name",y.APP_SOURCES_NAME=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_NAME_NODE,y.APP_SOURCES_TYPE_NODE="type",y.APP_SOURCES_TYPE=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_TYPE_NODE,y.APP_SOURCES_URL_NODE="url",y.APP_SOURCES_URL=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_URL_NODE,y.APP_SCREENS_NODE="screens",y.APP_SCREENS=y.ROOT+"/"+y.APP_SCREENS_NODE,y.APP_SCREENS_NAME_NODE="name",y.APP_SCREENS_NAME=y.APP_SCREENS+"/"+y.APP_SCREENS_NAME_NODE,y.APP_SCREENS_LAYOUT_NODE="layout",y.APP_SCREENS_LAYOUT=y.APP_SCREENS+"/"+y.APP_SCREENS_LAYOUT_NODE,y.APP_COMPONENTS_NODE="components",y.APP_COMPONENTS=y.APP_SCREENS+"/"+y.APP_COMPONENTS_NODE,y.APP_COMPONENTS_TYPE_NODE="type",y.APP_COMPONENTS_TYPE=y.APP_COMPONENTS+"/"+y.APP_COMPONENTS_TYPE_NODE,y.APP_COMPONENTS_ENTITY_NODE="entity",y.APP_COMPONENTS_ENTITY=y.APP_COMPONENTS+"/"+y.APP_COMPONENTS_ENTITY_NODE;class Ie{}Ie.ROOT="/properties/"+y.ROOT,Ie.defaultv1={$id:"https://dont-code.net/v1/dont-code-schema.json",$schema:"https://json-schema.org/draft/2020-12/schema",description:"JSON Schema v1 for dont-code",type:"object",required:["creation"],properties:{creation:{type:"object",properties:{type:{enum:["Application"]},name:{type:"string"},entities:{type:"array",items:{$ref:"#/$defs/entity"}},sharing:{$ref:"#/$defs/sharing"},reports:{type:"array",items:{$ref:"#/$defs/report"}},sources:{type:"array",items:{$ref:"#/$defs/source"}},screens:{type:"array",items:{$ref:"#/$defs/screen"}}},additionalProperties:!1}},$defs:{entity:{type:"object",properties:{from:{type:"string",format:"$.creation.sources.name"},name:{type:"string"},fields:{type:"array",items:{$ref:"#/$defs/field"}}},additionalProperties:!1},field:{type:"object",properties:{name:{type:"string"},type:{enum:["Text","Number","Boolean",{Time:{enum:["Date","Date & Time","Time"]}},{Money:{enum:["Dollar","Euro","Other currency"]},Web:{enum:["Website (url)","Image"]}},{Special:{enum:["Reference"]}}]}},additionalProperties:!1},sharing:{type:"object",properties:{with:{enum:["No-one"]}},additionalProperties:!1},source:{type:"object",properties:{name:{type:"string"},type:{enum:["Unknown"]}}},report:{type:"object",properties:{title:{type:"string"},for:{type:"string",format:"$.creation.entities.name"},groupedBy:{type:"array",items:{$ref:"#/$defs/report-group"}},sortedBy:{type:"array",items:{$ref:"#/$defs/report-sort"}},as:{type:"array",items:{$ref:"#/$defs/report-display"}}},additionalProperties:!1},"report-group":{type:"object",properties:{of:{type:"string",format:".fields.name"},label:{type:"string"},show:{enum:["OnlyLowest","OnlyHighest"]},display:{type:"array",items:{$ref:"#/$defs/report-group-aggregate"}}},additionalProperties:!1},"report-group-aggregate":{type:"object",properties:{operation:{enum:["Count","Sum","Average","Minimum","Maximum"]},of:{type:"string",format:".@parent.fields.name"},label:{type:"string"}},additionalProperties:!1},"report-sort":{type:"object",properties:{by:{type:"string",format:".fields.name"},direction:{enum:["None","Ascending","Descending"]}},additionalProperties:!1},"report-display":{type:"object",properties:{type:{enum:["Table","Bar","Line","Pie"]},of:{type:"string",format:".@parent.fields.name"},by:{type:"string",format:".@parent.fields.name"},title:{type:"string"}},additionalProperties:!1},screen:{type:"object",properties:{name:{type:"string"},layout:{enum:["Flow","Grid"]},components:{type:"array",items:{$ref:"#/$defs/component"}}},additionalProperties:!1},component:{type:"object",properties:{type:{enum:["List","Edit","View"]},entity:{type:"string",format:"$.creation.entities.name"}},additionalProperties:!1}}};class oe{constructor(e,r,n,i,c,d){this.position=e,this.positionInSchema=r,this.containerPosition=n,this.containerPositionInSchema=i,this.lastElement=c||"",this.isProperty=d,this.fillMissingElements()}fillMissingElements(e){var r,n,i;if(null==this.position||null==this.positionInSchema)throw new Error("Cannot fill Elements for an empty position");null==this.containerPosition&&(this.containerPosition=null!==(r=oe.parentPosition(this.position))&&void 0!==r?r:void 0),null==this.containerPositionInSchema&&(this.containerPositionInSchema=null!==(n=oe.parentPosition(this.positionInSchema))&&void 0!==n?n:void 0),(null==this.lastElement||0==this.lastElement.length)&&(this.lastElement=null!==(i=oe.lastElementOf(this.position))&&void 0!==i?i:this.position),null==this.isProperty&&e&&(this.isProperty=!this.containerPositionInSchema||null!=e.locateItem(this.containerPositionInSchema,!0).getChild(this.lastElement))}static lastElementOf(e){return null==e?e:e.substring(e.lastIndexOf("/")+1)}static nextItemAndPosition(e,r){let n=e.indexOf("/",r);n===r&&(n=e.indexOf("/",r+=1)),-1!==n?n-=1:n=n===r?-1:e.length-1;let i=null;return-1!==n&&(i=e.substring(r,n+1)),{pos:n,value:i}}calculateKeyOrContainer(){var e;return!0===this.isProperty?this.lastElement:null!==(e=oe.lastElementOf(this.containerPosition))&&void 0!==e?e:""}calculateItemIdOrContainer(){var e;return!1===this.isProperty?this.lastElement:null!==(e=oe.lastElementOf(this.containerPosition))&&void 0!==e?e:""}isSubItemOf(e){return e.position===this.containerPosition?this.lastElement:null}isUnderSubItemOf(e){if(this.positionInSchema.startsWith(e.positionInSchema)){const r=this.positionInSchema.indexOf("/",e.positionInSchema.length+1);return-1==r?this.positionInSchema.substring(e.positionInSchema.length+1):this.positionInSchema.substring(e.positionInSchema.length+1,r)}return null}subItemOrPropertyPointer(e,r){return r?this.subPropertyPointer(e):this.subItemPointer(e)}subPropertyPointer(e){return new oe(""===this.position?e:this.position+"/"+e,""===this.positionInSchema?e:this.positionInSchema+"/"+e,this.position,this.positionInSchema,e,!0)}subItemPointer(e){return new oe(""===this.position?e:this.position+"/"+e,this.positionInSchema,this.position,this.containerPositionInSchema,e,!1)}safeParentPointer(e){const r=this.parentPointer(e);if(void 0===r)throw new Error("No parent position for pointer "+this.position);return r}parentPointer(e){if(null==this.containerPosition||null==this.containerPositionInSchema)return;const r=new oe(this.containerPosition,this.containerPositionInSchema);return null!=e&&r.fillMissingElements(e),r}isParentOf(e,r){if(!0===r){const n=oe.parentPosition(e);return null!=n&&this.position==n}return e.startsWith(this.position)}static parentPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?"":e.substring(0,r)}static splitPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?{parent:"",element:e}:{parent:e.substring(0,r),element:e.substring(r+1)}}}class Ge{constructor(){this.reset()}getSchema(){return this.currentSchema}convertSchemaToMap(e){return new De(e)}registerChanges(e){if(e["schema-updates"]){const r=e["schema-updates"];for(const n of r){const i=n.changes;for(const c of i)if(c.location.id){const d=this.locateItem(c.location.parent);if(!d)throw"Cannot find parent element: "+c.location.parent;d.upsertWith(c)}}}}locateItem(e,r){const n=e.split("/");let i=this.currentSchema;for(const c of n){if(!i)throw console.error("Could not find subItem "+c+" of "+e),new Error("Could not find subItem "+c+" of "+e);if(c&&c.length>0&&"#"!==c){if(i.isReference()&&(i=this.resolveReference(i)),!i)throw console.error("Could not find reference "+i?.getReference()+" of "+e),new Error("Could not find reference "+i?.getReference()+" of "+e);i=i.getChild(c)}}if(r&&i?.isReference()&&(i=this.resolveReference(i)),null!=i)return i;throw new Error("Could not find item at schema position "+e)}resolveReference(e){return this.locateItem(e.getReference())}generateParentPointer(e){if(null!=e.containerPosition)return this.generateSchemaPointer(e.containerPosition)}generateSchemaPointer(e){var r;let n;const i=e,c=i.split("/");if(0===c.length||0===c[0].length)return n=new oe(e,e),n;n=new oe(e,"");let d=this.currentSchema,E=!1;for(const m of c)if(E)n.isProperty=!1,E=!1;else{let C=null!==(r=d.getChild(m))&&void 0!==r?r:d.isPossibleDynamicProperty(m);if(!C)throw new Error("Cannot parse '"+i+"' from the schema as "+m+" is not a child of "+d.getRelativeId());if(n.isProperty=!0,n.containerPositionInSchema=n.positionInSchema,n.positionInSchema=null!==n.positionInSchema&&n.positionInSchema.length>0?n.positionInSchema+"/"+m:m,E=!!C.isArray(),C.isReference()&&(C=this.resolveReference(C)),null==C)throw new Error("Cannot parse '"+i+"' from the schema as "+C+" is reference an unknown element");d=C}return n.containerPositionInSchema=n.positionInSchema.substring(0,n.positionInSchema.lastIndexOf("/")),n.containerPosition=n.position.substring(0,n.position.lastIndexOf("/")),n.lastElement=c[c.length-1],n}generateSubSchemaPointer(e,r){return this.locateItem(e.positionInSchema,!0).getChild(r)?e.subPropertyPointer(r):e.subItemPointer(r)}reset(){this.readSchema=Ie.defaultv1,this.currentSchema=this.convertSchemaToMap(this.readSchema)}}class Ke{constructor(){this.plugins=new Map}registerPlugin(e,r,n){const i=e.getConfiguration(),c=i.plugin.id+"-v"+i.plugin.version;null==this.plugins.get(c)&&(r.registerChanges(i),n.registerHandlers(i),this.plugins.set(c,new We(e)))}initPlugins(e){this.plugins.forEach(r=>{var n;if(!1===r.initCalled)try{const i=null===(n=r.plugin.getConfiguration())||void 0===n?void 0:n["definition-updates"];e.getChangeManager().applyPluginConfigUpdates(i),r.plugin.pluginInit(e),r.initCalled=!0}catch(i){console.error("Error calling "+r.plugin+" init method:",i)}})}reset(){this.plugins.clear()}}class We{constructor(e,r){this.plugin=e,this.initCalled=null!=r&&r}}class ze{constructor(){this.reset()}reset(){this.handlersPerLocations=new Map,this.globalHandlersPerLocations=new Map,this.actionHandlersPerLocation=new Map,this.globalHandlers=new h.ReplaySubject}registerHandlers(e){if(e["preview-handlers"]&&e["preview-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r)}),e["global-handlers"]&&e["global-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r),n=this.globalHandlersPerLocations.get(r.location.parent),n||(n=new Array,this.globalHandlersPerLocations.set(r.location.parent,n)),n.push(r),this.globalHandlers.next(r)}),e["action-handlers"])for(const r of e["action-handlers"]){let n=this.actionHandlersPerLocation.get({position:r.location.parent,context:r["action-context"]});n||(n=new Array,this.actionHandlersPerLocation.set({position:r.location.parent,context:r["action-context"]},n)),n.push(r)}}getGlobalHandlers(){return this.globalHandlersPerLocations}receiveGlobalHandlers(){return this.globalHandlers}retrieveHandlerConfig(e,r){const n=this.handlersPerLocations.get(e);let i=null,c=!1;if(n)for(const d of n)if(d.location.values)if(r){let E=r;d.location.id&&(E=r[d.location.id]),this.extractValuesAsArray(d.location.values).forEach(m=>{m!==E||(i=d)})}else c=!0;else null===i&&(i=d);else if("string"==typeof r&&e.lastIndexOf("/")>0){e.endsWith("/")&&(e=e.substring(0,e.length-1));const E={};return E[e.substring(e.lastIndexOf("/")+1)]=r,this.retrieveHandlerConfig(e.substring(0,e.lastIndexOf("/")),E)}if(null===i&&c)throw new Error("Content must be provided in order to select an handler for position "+e);return i}retrieveActionHandlers(e,r,n){return this.actionHandlersPerLocation.get({position:e,context:r})??[]}extractValuesAsArray(e){const r=new Array;return this.extractValuesToArray(e,r),r}extractValuesToArray(e,r){if(Array.isArray(e))e.forEach(n=>{"string"==typeof n?r.push(n):this.extractValuesToArray(n,r)});else for(const n in e)e.hasOwnProperty(n)&&this.extractValuesToArray(e[n],r)}}var xe=(()=>{return(f=xe||(xe={})).OnlyLowest="OnlyLowest",f.OnlyHighest="OnlyHighest",xe;var f})(),Se=(()=>{return(f=Se||(Se={})).Count="Count",f.Sum="Sum",f.Average="Average",f.Minimum="Minimum",f.Maximum="Maximum",Se;var f})(),we=(()=>{return(f=we||(we={})).None="None",f.Ascending="Ascending",f.Descending="Descending",we;var f})(),L=(()=>{return(f=L||(L={})).LIST="list",f.EDIT="edit",f.VIEW="view",L;var f})(),W=(()=>{return(f=W||(W={})).EXTRACT="extract",f.UPDATE="update",f.CALCULATE="calculate",W;var f})();class te{constructor(e,r){this.modelMgr=e,this.providerByPosition=new Map,this.providerByType=new Map,this._default=r,this.reset()}reset(){this.providerByPosition.clear(),this.providerByType.clear()}getProvider(e){var r;if(null==e)return this._default;{let n=null;const i=null===(r=this.modelMgr.findTargetOfProperty(y.APP_ENTITIES_FROM_NODE,e))||void 0===r?void 0:r.value;return i&&(n=this.providerByType.get(i.type)),n||(n=this.providerByPosition.get(e)),n??this._default}}getProviderSafe(e){const r=this.getProvider(e);if(null==r)throw new Error("Trying to get an undefined or null provider");return r}getDefaultProvider(){return this.getProvider()}getDefaultProviderSafe(){return this.getProviderSafe()}setProvider(e,r){null==r?this._default=e:this.providerByPosition.set(r,e)}setProviderForSourceType(e,r){this.providerByType.set(r,e)}setDefaultProvider(e){this.setProvider(e)}removeProvider(e){null==e?this._default=void 0:this.providerByPosition.delete(e)}removeProviderForSourceType(e){this.providerByType.delete(e)}removeDefaultProvider(){this.removeProvider()}storeEntity(e,r){return this.getProviderSafe(e).storeEntity(e,r)}loadEntity(e,r){return this.getProviderSafe(e).loadEntity(e,r)}safeLoadEntity(e,r){return this.getProviderSafe(e).safeLoadEntity(e,r)}deleteEntity(e,r){return this.getProviderSafe(e).deleteEntity(e,r)}searchEntities(e,...r){return this.getProviderSafe(e).searchEntities(e,...r)}searchAndPrepareEntities(e,r,n,i,...c){return this.getProviderSafe(e).searchAndPrepareEntities(e,r,n,i,...c)}canStoreDocument(e){var r;return(null===(r=this.getProvider(e))||void 0===r?void 0:r.canStoreDocument(e))||!1}storeDocuments(e,r){return this.getProviderSafe(r).storeDocuments(e,r)}}var q=(()=>{return(f=q||(q={})).EQUALS="=",f.LESS_THAN="<",f.LESS_THAN_EQUAL="<=",q;var f})();class ie{constructor(e,r,n){this.name=e,this.value=r,this.operator=n||q.EQUALS}}class Le{constructor(e,r,n){this.by=e,this.subSort=n,this.direction=null==r?we.None:r}}class $e{constructor(e,r,n){this.of=e,this.show=n,this.display=null==r?{}:r}atLeastOneGroupIsRequested(){return null!=this.display&&Object.keys(this.display).length>0}getRequiredListOfFields(){const e=new Set;if(null!=this.display)for(const r of Object.values(this.display))e.add(r.of);return e}}class Ue{constructor(e,r){this.of=e,this.operation=r}}class de{constructor(e,r,n,i,c,d){if(this.type=e,this.position=r,"/"===r)throw new Error("Root position is defined by empty string and not slash anymore");this.value=n,this.pointer=i,this.beforeKey=c,this.oldPosition=d}getSafeParentPosition(){const e=this.getParentPosition();if(null==e)throw new Error("No Parent position for root changes.");return e}getParentPosition(){var e;return null!=this.pointer?null!==(e=this.pointer.containerPosition)&&void 0!==e?e:null:oe.parentPosition(this.position)}}var z=(()=>{return(f=z||(z={})).ADD="ADD",f.UPDATE="UPDATE",f.DELETE="DELETE",f.MOVE="MOVE",f.RESET="RESET",f.ACTION="ACTION",z;var f})();class Ve extends de{constructor(e,r,n,i,c,d,E){super(E??z.ACTION,e,r,c),this.running=new h.Subject,this.context=n,this.actionType=i,null!=d&&(this.running=d)}}class me{constructor(e){this.schemaMgr=e,this.reset()}reset(){this.content=void 0}getContent(){return this.content}resetContent(e){this.content=e}static isHidden(e){return 1==e?.$hidden}static isReadonly(e){return 1==e?.$readOnly}applyChange(e){var r,n;let i=null!==(r=e.pointer)&&void 0!==r?r:this.schemaMgr.generateSchemaPointer(e.position);e.pointer=i;const d=null===(n=e.pointer)||void 0===n?void 0:n.lastElement;null!=i.containerPosition&&null!=d&&(i=this.schemaMgr.generateParentPointer(i));const E=new ke;E.isRoot=!0,E.name=i.position;let m=E,C=this.findAtPosition(i.position);if(null==C){if(e.type===z.DELETE)return[];{C=this.findAtPosition(i.position,!0,E);let U=i.position;for(;m.subChanges.length>0;)U=U.substring(0,U.lastIndexOf("/")),m=m.subChanges[0];E.name=U}}e.type===z.ACTION&&(m.type=z.ACTION);const D=this.applyChangeRecursive(e,C,e.value,e.pointer,m);return this.generateChanges(e,E,D,this.schemaMgr.generateSchemaPointer(E.name))}applyChangeRecursive(e,r,n,i,c,d){if(null==e.pointer)throw new Error("Cannot apply a change without a pointer at position "+e.position);let E=!0;null==d&&(d=e.oldPosition);const m=i.lastElement;if(m||0===m.length){const C=0===m.length?r:r[m];switch(e.type){case z.ACTION:{const D=c.createSubChange(z.ACTION,m,c.value);this.compareRecursiveIfNeeded(e,C,null,i,D);break}case z.ADD:case z.UPDATE:case z.RESET:{let D;if(e.type===z.RESET&&e.position===i.position)"object"==typeof n&&this.isTheSameForParent(C,n)?D=c.createSubChange(void 0,m,null):("object"==typeof n||C!==n)&&(D=c.createSubChange(z.RESET,m,n));else if(null==C)D=c.createSubChange(z.ADD,m,n);else if("object"==typeof n&&this.isTheSameForParent(C,n))D=c.createSubChange(void 0,m,null);else if("object"==typeof n||C!==n){if("object"==typeof C&&e.type==z.ADD){E=!1;for(const U of Object.getOwnPropertyNames(n))if(null!=C[U]){E=!0;break}}D=c.createSubChange(z.UPDATE,m,n)}D&&this.compareRecursiveIfNeeded(e,C,n,i,D),m.length>0&&E&&this.insertProperty(r,m,n,e.beforeKey)}break;case z.DELETE:if(r[m]){const D=c.createSubChange(z.DELETE,m,null);this.compareRecursiveIfNeeded(e,r[m],n,i,D),delete r[m]}break;case z.MOVE:if(e.position===i.position){if(null==d)throw new Error("Cannot process MOVE change without oldPosition"+e.position);if(null==n&&(n=this.findAtPosition(d)),n){const D=c.createSubChange(z.MOVE,m,n,d);if(e.position!==d){this.compareRecursiveIfNeeded(e,null,n,i,D,d),this.insertProperty(r,m,n,e.beforeKey);const U=oe.splitPosition(d);delete this.findAtPosition(U.parent)[U.element]}else this.compareRecursiveIfNeeded(e,null,n,i,D,d),this.insertProperty(r,m,n,e.beforeKey)}}else{const D=c.createSubChange(z.MOVE,m,null,d);this.compareRecursiveIfNeeded(e,r,n,i,D,d)}break;default:throw new Error("No support for change of type "+e.type)}}else this.compareRecursiveIfNeeded(e,r,n,i,c,d);return E}isTheSameForParent(e,r){if(r===e)return!0;if(null==r||null==e)return!1;if("object"==typeof e&&"object"==typeof r){const n=Object.keys(e),i=Object.keys(r);return n.length===i.length&&n.every((c,d)=>c===i[d])}return e===r}compareRecursiveIfNeeded(e,r,n,i,c,d){(null==r||"object"!=typeof r)&&(r={}),(null==n||"object"!=typeof n)&&(n={});const E=new Set;for(const m in r){const C=this.schemaMgr.generateSubSchemaPointer(i,m),D=C.position;E.add(m),n.hasOwnProperty(m)?this.applyChangeRecursive(e,r,n[m],C,c,d):e.type==z.ACTION?this.applyChangeRecursive(new Ve(D,e.value,e.context,e.actionType,C,e.running),r,null,C,c):e.type!=z.ADD&&this.applyChangeRecursive(new de(z.DELETE,D,null,C),r,null,C,c,d)}for(const m in n)if(e.type===z.MOVE){const C=this.schemaMgr.generateSubSchemaPointer(i,m);this.applyChangeRecursive(e,r,n[m],C,c,d+"/"+m)}else if(!E.has(m)){const C=this.schemaMgr.generateSubSchemaPointer(i,m);this.applyChangeRecursive(new de(z.ADD,C.position,n[m],C),r,n[m],C,c)}}generateChanges(e,r,n,i,c){if(null==c&&(c=new Array),null==e.pointer)throw new Error("Cannot generate changes without the pointer");if(null==i&&(i=e.pointer),null!=r.type)if(r.type===z.MOVE){if(null==r.oldPosition)throw new Error("A Move Change must have an oldPosition set "+i.position);r.oldPosition!==i.position&&e.position===i.position&&c.push(new de(z.UPDATE,oe.parentPosition(r.oldPosition),r.value)),c.push(new de(z.MOVE,i.position,r.value,i,void 0,r.oldPosition))}else c.push(r.type===z.ACTION?new Ve(i.position,e.value,e.context,e.actionType,i,e.running):new de(r.type,i.position,r.value,i));else for(let d=0;d<r.subChanges.length;d++){const E=r.subChanges[d];if(null!=E.type&&E.type!==z.UPDATE&&E.name.length>0){1==n&&c.push(new de(z.UPDATE,i.position,this.findAtPosition(i.position),i));break}}for(let d=0;d<r.subChanges.length;d++){const E=r.subChanges[d];this.generateChanges(e,E,!0,this.schemaMgr.generateSubSchemaPointer(i,E.name),c)}return c}generateNextKeyForPosition(e,r=!1){const n=this.findAtPosition(e,r);if(null==n)throw new Error("No element at position "+e);return me.generateNextKey(n)}static generateNextKey(e){let r;r=null!=e.size?e:new Set(Object.keys(e));let n=r.size,i=!1;const c=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;let d;do{d="";do{const E=Math.trunc(n/c);d=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS[n%c].concat(d),n=E-1}while(n>=0);i=r.has(d),n++}while(i);return d}findAtPosition(e,r,n){const i=e.split("/");if(null==this.content){if(!r)return null;this.content={}}let c=this.content,d="";return i.forEach(E=>{if(""===E||null===c)return c;if(d=0===d.length?E:d+"/"+E,!c[E]){if(!r)return c=null,null;c[E]={},n&&(n=n.createSubChange(z.ADD,E,{}))}c=c[E]}),c}queryModelToArray(e,r){let n=this.content;return r&&(n=this.findAtPosition(r,!1)),B({path:e,json:n,resultType:"value",wrap:!1,flatten:!0})}queryModelToSingle(e,r){var n;let i=this.content;r&&(i=this.findAtPosition(r,!1));let c=B({path:e,json:i,resultType:"all",wrap:!1});if(Array.isArray(c)){if(!(c.length<=1))throw new Error("Multiple results returned by queryModelToSingle with path "+e);c=c[0]}return!(null===(n=c?.pointer)||void 0===n)&&n.startsWith("/")&&(c.pointer=c.pointer.substring(1)),null!=c&&(delete c.path,delete c.parent,delete c.parentProperty),c}findAllPossibleTargetsOfProperty(e,r,n){if(null==n){const c=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(c.subPropertyPointer(e).positionInSchema,!0)}const i=n?.getTargetPath();if(n&&i){const c=i.lastIndexOf(".");return this.queryModelToArray(i.substring(0,c)+".*")}throw new Error("No Schema or no format definition for "+r+"/"+e)}findTargetOfProperty(e,r,n){const i=this.findAtPosition(r,!1);if(i&&i[e]){if(null==n){const d=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(d.subPropertyPointer(e).positionInSchema,!0)}const c=n?.getTargetPath();if(n&&c){const d=c.lastIndexOf("."),E=c.substring(0,d)+"[?(@['"+c.substring(d+1)+"']===\""+i[e]+'")]';return this.queryModelToSingle(E)}throw new Error("No Schema or no format definition for "+r+"/"+e)}return null}insertProperty(e,r,n,i){if(i){const c=Object.keys(e);for(const d of c)if(d!==r){const E=e[d];delete e[d],d===i&&(void 0!==e[r]&&delete e[r],e[r]=n),e[d]=E}}else void 0!==e[r]&&delete e[r],e[r]=n}convertToChange(e){let r=this.schemaMgr.generateSchemaPointer(e.location.parent);return this.schemaMgr.locateItem(r.positionInSchema,!1).isArray()?r=r.subItemPointer(null==e.location.id||"*"===e.location.id?this.generateNextKeyForPosition(r.position,!0):e.location.id):null!=e.location.id&&(r=r.subItemPointer(e.location.id)),new de(z.ADD,r.position,e.update,r,e.location.after)}guessNamePropertyOfElement(e,r){if(null==r){if(null==e)throw new Error("Either position or model must be provided");if(null==(r=this.findAtPosition(e,!1)))throw new Error("Position "+e+" does not exist in model")}null!=r.fields&&Array.isArray(r.fields)&&(r=r.fields);const n={score:-1,field:null};for(const i in r)if(me.scoreFieldAsName(r[i].name,r[i].type,n))break;return n.score>0?n.field:null}static guessNamePropertyOfObject(e){const r={score:-1,field:null};for(const n in e)me.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static guessNamePropertyFromList(...e){const r={score:-1,field:null};for(const n of e)me.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static scoreFieldAsName(e,r,n){if(null==e)return!1;const i=e.toLowerCase();for(const[c,d]of this.NAME_PROPERTY_NAMES)if(i===c){const E=d??0;if(n.score<E&&(n.score=E,n.field=e,100==n.score))return!0}else if(i.includes(c)){const E=(d??0)/2;n.score<E&&(n.score=E,n.field=e)}return"Text"==r&&n.score<20&&(n.score=20,n.field=e),n.score>0}extractValue(e,r,n,i){if(null==e||(r.parsed||this.extractMetaData(e,r,n,i),r.direct))return e;if(r.array){if(!(e.length>0))return e;e=e[0]}if(null!=r.subValue)return e[r.subValue];if(null!=r.subValues){for(let c=0;c<r.subValues.length&&null!=(e=e[r.subValues[c]]);c++);return e}}applyValue(e,r,n,i,c,d){if(null==e||(n.parsed||this.extractMetaData(e,n,c,d),n.direct))return r;if(n.array){if(!(e.length>0))return null!=r&&e.push(r),e;e=e[0]}if(null!=n.subValue)void 0===r?delete e[n.subValue]:e[n.subValue]=r;else if(null!=n.subValues){let E=e;if(void 0===r){for(let m=0;m<n.subValues.length-1&&(E=E[n.subValues[m]],null!=E);m++);null!=E&&null!=E[n.subValues[n.subValues.length-1]]&&delete E[n.subValues[n.subValues.length-1]]}else{for(let m=0;m<n.subValues.length-1;m++)null==E[n.subValues[m]]&&(E[n.subValues[m]]={}),E=E[n.subValues[m]];if(null==E[n.subValues[n.subValues.length-1]]&&null!=i){let m=i;for(let C=0;C<n.subValues.length-1;C++){if(null==m[n.subValues[C]]){m=null;break}m=m[n.subValues[C]]}if(null!=m)for(const C in m)null==E[C]&&null!=m[C]&&(E[C]=structuredClone(m[C]))}E[n.subValues[n.subValues.length-1]]=r}}return e}sortValues(e,r=1,n,i,c,d){const E=i??new Ze;if(!E.parsed)for(const m of e)if(this.extractMetaData(this.extractField(m,n),E,c,d),E.parsed)break;E.parsed?e.sort((m,C)=>{const D=this.extractValue(this.extractField(m,n),E,c,d),U=this.extractValue(this.extractField(C,n),E,c,d);return null==D?null==U?0:-r:null==U?r:"string"==typeof D&&"string"==typeof U?r*D.localeCompare(U):D<U?-r:D>U?r:0}):console.warn("Cannot sort array of unknown values")}extractMetaData(e,r,n,i){if(null!=e)if(r.parsed=!0,r.subValue=null,r.subValues=null,"object"!=typeof e)null!=e?r.direct=!0:r.parsed=!1;else if(Array.isArray(e)&&(r.array=!0,console.debug("Getting an array as a value for metadata extraction",e),e.length>0?e=e[0]:r.parsed=!1),e instanceof Date)r.direct=!0;else if(void 0!==e.value)r.subValue="value";else if(void 0!==e.amount)r.subValue="amount";else if(void 0!==e.cost)r.subValues=["cost","amount"];else{let c=null;for(const d in e)null==c&&(c=d),null!=e[d]&&"object"!=typeof e[d]&&(r.subValue=d);null==r.subValue&&null==r.subValues&&("object"!=typeof e||e instanceof Date?(r.subValue=c,console.warn("Guessed value key of "+r.subValue+" for object:",e)):(console.warn("Cannot guess value for object: ",e),r.parsed=!1,r.subValue=null,r.subValues=null,r.direct=!1,r.array=!1))}}modifyValues(e,r,n,i,c,d){if(null==e)throw new Error("Cannot modify value of null object");const C=i(this.extractValue(e,n,c,d),this.extractValue(r,n,c,d));return this.applyValue(e,C,n,r,c,d)}extractField(e,r){return null!=r&&null!=e?e[r]:e}}me.POSSIBLE_CHARS_FOR_ARRAY_KEYS="abcdefghijklmnopqrstuvxyz",me.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length,me.NAME_PROPERTY_NAMES=new Map([["name",100],["nom",100],["title",80],["titre",80],["lastname",80],["label",70],["libell\xe9",70]]);class Ze{constructor(){this.parsed=!1,this.array=!1,this.direct=!1,this.subValue=null,this.subValues=null}}class ke{constructor(e,r,n,i){this.name="",this.subChanges=new Array,this.isRoot=!1,e&&(this.type=e),r&&(this.name=r),this.oldPosition=i,this.value=n}createSubChange(e,r,n,i){const c=new ke(e,r,n,i);return this.subChanges.push(c),c}}class it{}class _e{constructor(e,r){this.schemaManager=e,this.modelManager=r,this.listeners=new Map,this.listenerCachePerPosition=new Map,this.reset()}reset(){null!=this.receivedChanges&&this.receivedChanges.complete(),this.receivedChanges=new h.Subject,this.listeners.clear(),this.listenerCachePerPosition.clear()}isInterestedIn(e,r,n){let i=!1;if("?"===e[e.length-1]&&(i=!0,e=e.substring(0,e.length-1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),null!=n.position&&n.position.startsWith(e)){let c=oe.nextItemAndPosition(n.position,e.length+1);const d=c.value;return r?d===r||(c=oe.nextItemAndPosition(n.position,c.pos+1),c.value===r):!i||null!=d&&(c=oe.nextItemAndPosition(n.position,c.pos+1),""===c.value)}return!1}createNewListener(e,r){const n={position:e,property:r};this.clearEmptyListeners();let i=this.listeners.get(n);if(null==i&&(i=new h.ReplaySubject(1),this.listeners.set(n,i),this.listenerCachePerPosition.clear()),1==i.observed)return(0,h.throwError)(()=>new Error("Several components listen to the same position {"+e+", "+r));const c=this.cleanPosition(e),d=this.modelManager.findAtPosition(c,!1);if(null!=d){let E=new de(z.RESET,c,d,this.schemaManager.generateSchemaPointer(c));if(this.isInterestedIn(e,r,E))i.next(E);else if(null!=r)for(const m in d)E=new de(z.RESET,c+"/"+m,d[m],this.schemaManager.generateSchemaPointer(c+"/"+m)),this.isInterestedIn(e,r,E)?i.next(E):null!=r&&null!=d[m][r]&&(E=new de(z.RESET,c+"/"+m+"/"+r,d[m][r],this.schemaManager.generateSchemaPointer(c+"/"+m+"/"+r)),this.isInterestedIn(e,r,E)&&i.next(E))}return i}addToListenerCache(e,r){let n=this.listenerCachePerPosition.get(e);n||(n=new Array,this.listenerCachePerPosition.set(e,n)),n.push(r)}getJsonAt(e){return this.modelManager.findAtPosition(e,!1)}applyPluginConfigUpdates(e){if(null!=e)for(const r of e)this.pushChange(this.modelManager.convertToChange(r))}pushChange(e){let r=!1;const n=this.modelManager.applyChange(e);r=this.manageChangeInternally(e);for(const i of n)if(i.type!==e.type||i.position!==e.position){const c=this.manageChangeInternally(i);r=r||c}return r}manageChangeInternally(e){return e.pointer||(e.pointer=this.calculatePointerFor(e.position)),this.receivedChanges.next(e),this.findAndNotify(e,new Map)}findAndNotify(e,r){var n;let i=!1;this.listenerCachePerPosition.get(e.position)||this.listeners.forEach((d,E)=>{this.isInterestedIn(E.position,E.property,e)&&this.addToListenerCache(e.position,d)});const c=this.listenerCachePerPosition.get(e.position);if(null!=c)for(const d of c){let E=!0;const m=r.get(d);if(m)for(const C of m)e.position.startsWith(C)&&(E=!1);else r.set(d,new Array);E&&(i=!0,d.next(e),null===(n=r.get(d))||void 0===n||n.push(e.position))}return i}receiveCommands(e,r){return e?this.createNewListener(e,r):this.receivedChanges}getSchemaManager(){return this.schemaManager}calculatePointerFor(e){return this.schemaManager.generateSchemaPointer(e)}close(){this.receivedChanges.complete()}cleanPosition(e){return(e=e.endsWith("?")?e.substring(0,e.length-1):e).endsWith("/")?e.substring(0,e.length-1):e}clearEmptyListeners(){const e=new Array;for(const r of this.listeners)r[1].observed||e.push(r[0]);for(const r of e)this.listeners.delete(r)}}class et{constructor(){console.debug("Init core"),this.schemaManager=new Ge,this.pluginManager=new Ke,this.previewManager=new ze,this.modelManager=new me(this.schemaManager),this.changeManager=new _e(this.schemaManager,this.modelManager),this.storeManager=new te(this.modelManager)}reset(){return this.schemaManager.reset(),this.pluginManager.reset(),this.previewManager.reset(),this.modelManager.reset(),this.changeManager.reset(),this.storeManager.reset(),this}registerPlugin(e){this.pluginManager.registerPlugin(e,this.schemaManager,this.previewManager)}initPlugins(){this.pluginManager.initPlugins(this)}getSchemaUri(){return"schemas/v1/dont-code-schema.json"}getSchemaManager(){return this.schemaManager}getPreviewManager(){return this.previewManager}getStoreManager(){return this.storeManager}getModelManager(){return this.modelManager}getChangeManager(){return this.changeManager}}self.dontCodeCore||(self.dontCodeCore=new et);var Je=self.dontCodeCore;class at{constructor(e,r,n){this.type=e,this.sessionId=r,this.change=n}}var Qe=(()=>{return(f=Qe||(Qe={})).INIT="INIT",f.CHANGE="CHANGE",Qe;var f})();class lt{}class ut{performAction(e){return new Promise(()=>{this.performSynchronousAction(e)})}performSynchronousAction(e){throw new Error("Action "+e+" for "+e.context.valueOf()+" at "+e.position+" not implemented yet")}}class Ae{static clearConfigCache(){this.specialFieldsCache.clear()}static applyFilters(e,...r){return null==r||0==r.length?e:e.filter(n=>{for(const i of r){const c=n[i.name];switch(i.operator){case q.EQUALS:return i.value==c;case q.LESS_THAN:return c<i.value;case q.LESS_THAN_EQUAL:return c<=i.value;default:throw new Error("Operator "+i.operator+" unknown")}}return!0})}static findSpecialFields(e,r){var n,i,c;let d=Ae.specialFieldsCache.get(e);if(null!=d)return d;const E={score:-1,field:null};d=new tt;const m=r.fields;if(null!=m){let C;for(C in m)"Date"===(null===(n=m[C])||void 0===n?void 0:n.type)||"Date & Time"===(null===(i=m[C])||void 0===i?void 0:i.type)?d.addDateField(null===(c=m[C])||void 0===c?void 0:c.name):Ae.scoreIdFieldFromEntityField(m[C],E)}return E.score>0&&(d.idField=E.field),Ae.specialFieldsCache.set(e,d),console.debug("Found special fields for entity at position "+e,d),d}static findSpecialFieldsFromData(e,r){if(null==r.idField&&e?.length>0){const n=e[0],i={score:-1,field:null};let c;for(c in n)Ae.scoreIdFieldFromProperty(c,i);if(i.score>0){const d=e.length>1?e[Math.floor((e.length+1)/2)]:null;(null==d||d[i.field]!=n[i.field])&&(r.idField=i.field)}}}static scoreIdFieldFromEntityField(e,r){return Ae.scoreIdFieldFromProperty(e?.name,r)}static scoreIdFieldFromProperty(e,r){if(null==e)return!1;const n=e.toLowerCase();return"_id"===n?(r.field="_id",r.score=100,!0):("id"==n||"uniqueid"==n||"identifier"==n||"key"==n||"primaryKey"==n||"uniqueKey"==n?r.score<80&&(r.score=80,r.field=e):n.includes("unique")||n.includes("primary")?r.score<50&&(r.score=50,r.field=e):(n.includes("id")||n.includes("key"))&&r.score<30&&(r.score=30,r.field=e),!1)}static cleanUpDataBeforeSaving(e,r){null!=r?.idField&&"_id"!=r?.idField&&e.forEach(n=>{delete n._id})}static cleanUpLoadedData(e,r){null!=r&&(null==r.idField&&Ae.findSpecialFieldsFromData(e,r),e.forEach(n=>{var i;null!=r.idField&&"_id"!=r.idField&&(n._id=n[r.idField]),null===(i=r.dateFields)||void 0===i||i.forEach(c=>{const d=n[c];if(null!=d){let E=Date.parse(d);if(isNaN(E)){const m=d.lastIndexOf("[");-1!=m&&(E=Date.parse(d.substring(0,m)))}isNaN(E)?delete n[c]:n[c]=new Date(E)}})}))}static multiSortArray(e,r){return e}static calculateGroupedByValues(e,r,n,i,c){var d,E;if(null!=r&&null!=r.display){let m=r.of;null!=r.show&&(m=r.show.valueOf());const C=new Map;let D,U=new Map;const ee=r.getRequiredListOfFields();for(const Ee of e){if(Ee[m]!=D){D=Ee[m];const ce=C.get(D);null==ce?(U=new Map,C.set(D,U)):U=ce}for(const ce of ee){let H=U?.get(ce);null==H&&(H=new ft,U.set(ce,H));const ne=Ee[ce],ae=ne;if(null!=ne)if("object"!=typeof ne||ne instanceof Date||null==n)"number"==typeof ae?(null==H.sum&&(H.sum=0),H.sum=H.sum+ae,(null==H.minimum||ae<H.minimum)&&(H.minimum=ne,H.minAsValue=ne),(null==H.maximum||ae>H.maximum)&&(H.maximum=ne,H.maxAsValue=ne),H.count++):(ae instanceof Date&&!isNaN(ae.getTime())&&(H.sum=null,(null==H.minimum||ae.valueOf()<H.minimum.valueOf())&&(H.minimum=ne),(null==H.maximum||ae.valueOf()>H.maximum.valueOf())&&(H.maximum=ne)),H.count++);else{H.sum=null==H.sum?structuredClone(ne):n.modifyValues(H.sum,ne,H.metaData,(Re,Ye)=>null!=Re&&null!=Ye?Re+Ye:null==Re?Ye:null==Ye?Re:void 0,i,c);const ye=n.extractValue(ne,H.metaData,i,c);if(null==H.minimum)H.minimum=ne,H.minAsValue=ye;else{const Re=H.minAsValue;null!=ye&&(null==Re||ye<Re)&&(H.minimum=ne,H.minAsValue=ye)}if(null==H.maximum)H.maximum=ne,H.maxAsValue=ye;else{const Re=H.maxAsValue;null!=ye&&(null==Re||ye>Re)&&(H.maximum=ne,H.maxAsValue=ye)}null!=ye&&H.count++}}}let le;if(C.size>0){le=new nt(r,new Map);for(const Ee of C.keys()){const ce=C.get(Ee);for(const H of Object.values(r.display)){let ne;const ae=ce.get(H.of);if(null!=ae){switch(H.operation){case Se.Count:ne=ae.count;break;case Se.Sum:ne=ae.sum;break;case Se.Average:ne=null==ae.sum||0==ae.count?null:"object"!=typeof ae.sum||ae.sum instanceof Date||null==n?ae.sum/ae.count:n.applyValue(structuredClone(ae.sum),n.extractValue(ae.sum,ae.metaData,i,c)/ae.count,ae.metaData,void 0,i,c);break;case Se.Minimum:ne=ae.minimum;break;case Se.Maximum:ne=ae.maximum}let ye=null===(d=le.values)||void 0===d?void 0:d.get(Ee);null==ye&&(ye=new Array,null===(E=le.values)||void 0===E||E.set(Ee,ye)),ye.push(new st(H,ne))}}}return le.values.size>0?le:void 0}}}}Ae.specialFieldsCache=new Map;class ft{constructor(){this.count=0,this.minAsValue=null,this.maxAsValue=null,this.metaData=new Ze}}class tt{constructor(){this.dateFields=null,this.idField=null}addDateField(e){null==this.dateFields&&(this.dateFields=new Array),this.dateFields.push(e)}}class rt{constructor(e,r,n){this.sortedData=e,this.sortInfo=r,this.groupedByEntities=n}}class nt{constructor(e,r){this.groupInfo=e,this.values=r,null==r&&(this.values=new Map)}}class st{constructor(e,r){this.forAggregate=e,this.value=r}}class ot{constructor(e){this.modelMgr=e}safeLoadEntity(e,r){return this.loadEntity(e,r).then(n=>n??Promise.reject("Not found"))}searchEntities(e,...r){return this.listEntities(e).pipe((0,h.map)(n=>Ae.applyFilters(n,...r)))}listEntities(e){return this.searchEntities(e)}searchAndPrepareEntities(e,r,n,i,...c){return this.searchEntities(e,...c).pipe((0,h.map)(d=>null!=i?i.postLoadingTransformation(d):d),(0,h.map)(d=>{let E;return(null!=r||!0===n?.atLeastOneGroupIsRequested())&&(d=Ae.multiSortArray(d,this.calculateSortHierarchy(r,n)),null!=n&&(E=Ae.calculateGroupedByValues(d,n,this.modelMgr))),new rt(d,r,E)}))}calculateSortHierarchy(e,r){let n;return n=null!=r?new Le(r.of,void 0,e):e,n}}class Be{static createDeleteChange(e,r,n,i,c){return Be.createAnyChange(z.DELETE,e,r,n,i,null,c)}static createMoveChange(e,r,n,i,c,d,E){const m=Be.createAnyChange(z.MOVE,n,i,c,d,null,E);return m.oldPosition=e,r&&(m.beforeKey=r),m}static createTestChange(e,r,n,i,c,d){return Be.createAnyChange(z.ADD,e,r,n,i,c,d)}static addDummyProviderFromContent(e,r,n){Je.getStoreManager().setProvider(new ct(r,n),e)}static waitUntilTrue(e,r,n,i){Be.waitUntilTrueAndEmit(e,n,i).then(c=>{c?r():r("Timeout waiting for an event")},c=>{r(c)})}static waitUntilTrueAndEmit(e,r,n){return n=n??50,(0,h.firstValueFrom)((0,h.timer)(r=r??50,r).pipe((0,h.take)(n),(0,h.filter)(()=>e()),(0,h.map)(()=>!0)),{defaultValue:!1})}static createAnyChange(e,r,n,i,c,d,E){var m;const C=n?"/"+n:"",D=c?"/"+c:"";let U=i?"/"+i:"";0==r.length&&(U=i||"");let ee=E?"/"+E:"";return 0==r.length&&0==U.length&&(ee=E||""),new de(e,r+C+U+D+ee,d,new oe(r+C+U+D+ee,r+U+ee,r+C+(E?U+D:c?U:""),r+(E?U:""),null!==(m=E??c)&&void 0!==m?m:void 0,null!=E))}}class ct extends ot{constructor(e,r){super(r),this.content=e}canStoreDocument(e){return!1}deleteEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}loadEntity(e,r){return null!=this.content[r]?Promise.resolve(this.content[r]):Promise.reject("Not found")}searchEntities(e,...r){return Array.isArray(this.content)?(0,h.from)([this.content]):(0,h.from)([[this.content]])}storeDocuments(e,r){return(0,h.throwError)(()=>new Error("Not implemented by Dummy tester"))}storeEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}}class vt{constructor(e){this.toRet=e}getJsonAt(e){return this.toRet}receiveCommands(e,r){return new h.Observable}calculatePointerFor(e){return Je.getSchemaManager().generateSchemaPointer(e)}getSchemaManager(){return Je.getSchemaManager()}sendCommand(e){return Promise.resolve(void 0)}}class dt{constructor(){this.name="",this.template=!1,this.description=""}}}}]);