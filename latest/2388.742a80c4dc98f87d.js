(self.webpackChunkplugin_tester=self.webpackChunkplugin_tester||[]).push([[2388],{19662:(u,p,t)=>{var o=t(60614),i=t(66330),a=TypeError;u.exports=function(l){if(o(l))return l;throw a(i(l)+" is not a function")}},39483:(u,p,t)=>{var o=t(4411),i=t(66330),a=TypeError;u.exports=function(l){if(o(l))return l;throw a(i(l)+" is not a constructor")}},96077:(u,p,t)=>{var o=t(60614),i=String,a=TypeError;u.exports=function(l){if("object"==typeof l||o(l))return l;throw a("Can't set "+i(l)+" as a prototype")}},51223:(u,p,t)=>{var o=t(5112),i=t(70030),a=t(3070).f,l=o("unscopables"),v=Array.prototype;void 0===v[l]&&a(v,l,{configurable:!0,value:i(null)}),u.exports=function(P){v[l][P]=!0}},31530:(u,p,t)=>{var o=t(28710).charAt;u.exports=function(i,a,l){return a+(l?o(i,a).length:1)}},25787:(u,p,t)=>{var o=t(47976),i=TypeError;u.exports=function(a,l){if(o(l,a))return a;throw i("Incorrect invocation")}},19670:(u,p,t)=>{var o=t(70111),i=String,a=TypeError;u.exports=function(l){if(o(l))return l;throw a(i(l)+" is not an object")}},41318:(u,p,t)=>{var o=t(45656),i=t(51400),a=t(26244),l=function(v){return function(P,h,E){var R,O=o(P),m=a(O),g=i(E,m);if(v&&h!=h){for(;m>g;)if((R=O[g++])!=R)return!0}else for(;m>g;g++)if((v||g in O)&&O[g]===h)return v||g||0;return!v&&-1}};u.exports={includes:l(!0),indexOf:l(!1)}},50206:(u,p,t)=>{var o=t(1702);u.exports=o([].slice)},17072:(u,p,t)=>{var i=t(5112)("iterator"),a=!1;try{var l=0,v={next:function(){return{done:!!l++}},return:function(){a=!0}};v[i]=function(){return this},Array.from(v,function(){throw 2})}catch{}u.exports=function(P,h){if(!h&&!a)return!1;var E=!1;try{var O={};O[i]=function(){return{next:function(){return{done:E=!0}}}},P(O)}catch{}return E}},84326:(u,p,t)=>{var o=t(1702),i=o({}.toString),a=o("".slice);u.exports=function(l){return a(i(l),8,-1)}},70648:(u,p,t)=>{var o=t(51694),i=t(60614),a=t(84326),v=t(5112)("toStringTag"),P=Object,h="Arguments"===a(function(){return arguments}());u.exports=o?a:function(O){var m,g,R;return void 0===O?"Undefined":null===O?"Null":"string"==typeof(g=function(O,m){try{return O[m]}catch{}}(m=P(O),v))?g:h?a(m):"Object"===(R=a(m))&&i(m.callee)?"Arguments":R}},99920:(u,p,t)=>{var o=t(92597),i=t(53887),a=t(31236),l=t(3070);u.exports=function(v,P,h){for(var E=i(P),O=l.f,m=a.f,g=0;g<E.length;g++){var R=E[g];!o(v,R)&&(!h||!o(h,R))&&O(v,R,m(P,R))}}},84964:(u,p,t)=>{var i=t(5112)("match");u.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,"/./"[a](l)}catch{}}return!1}},49920:(u,p,t)=>{var o=t(47293);u.exports=!o(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},76178:u=>{u.exports=function(p,t){return{value:p,done:t}}},68880:(u,p,t)=>{var o=t(19781),i=t(3070),a=t(79114);u.exports=o?function(l,v,P){return i.f(l,v,a(1,P))}:function(l,v,P){return l[v]=P,l}},79114:u=>{u.exports=function(p,t){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:t}}},47045:(u,p,t)=>{var o=t(56339),i=t(3070);u.exports=function(a,l,v){return v.get&&o(v.get,l,{getter:!0}),v.set&&o(v.set,l,{setter:!0}),i.f(a,l,v)}},98052:(u,p,t)=>{var o=t(60614),i=t(3070),a=t(56339),l=t(13072);u.exports=function(v,P,h,E){E||(E={});var O=E.enumerable,m=void 0!==E.name?E.name:P;if(o(h)&&a(h,m,E),E.global)O?v[P]=h:l(P,h);else{try{E.unsafe?v[P]&&(O=!0):delete v[P]}catch{}O?v[P]=h:i.f(v,P,{value:h,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return v}},13072:(u,p,t)=>{var o=t(17854),i=Object.defineProperty;u.exports=function(a,l){try{i(o,a,{value:l,configurable:!0,writable:!0})}catch{o[a]=l}return l}},19781:(u,p,t)=>{var o=t(47293);u.exports=!o(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4154:u=>{var p="object"==typeof document&&document.all;u.exports={all:p,IS_HTMLDDA:typeof p>"u"&&void 0!==p}},80317:(u,p,t)=>{var o=t(17854),i=t(70111),a=o.document,l=i(a)&&i(a.createElement);u.exports=function(v){return l?a.createElement(v):{}}},48324:u=>{u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(u,p,t)=>{var i=t(80317)("span").classList,a=i&&i.constructor&&i.constructor.prototype;u.exports=a===Object.prototype?void 0:a},7871:(u,p,t)=>{var o=t(83823),i=t(35268);u.exports=!o&&!i&&"object"==typeof window&&"object"==typeof document},83823:u=>{u.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},71528:(u,p,t)=>{var o=t(88113);u.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},6833:(u,p,t)=>{var o=t(88113);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},35268:(u,p,t)=>{var o=t(17854),i=t(84326);u.exports="process"===i(o.process)},71036:(u,p,t)=>{var o=t(88113);u.exports=/web0s(?!.*chrome)/i.test(o)},88113:u=>{u.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:(u,p,t)=>{var h,E,o=t(17854),i=t(88113),a=o.process,l=o.Deno,v=a&&a.versions||l&&l.version,P=v&&v.v8;P&&(E=(h=P.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!E&&i&&(!(h=i.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=i.match(/Chrome\/(\d+)/))&&(E=+h[1]),u.exports=E},80748:u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(u,p,t)=>{var o=t(17854),i=t(31236).f,a=t(68880),l=t(98052),v=t(13072),P=t(99920),h=t(54705);u.exports=function(E,O){var I,N,b,C,L,m=E.target,g=E.global,R=E.stat;if(I=g?o:R?o[m]||v(m,{}):(o[m]||{}).prototype)for(N in O){if(C=O[N],b=E.dontCallGetSet?(L=i(I,N))&&L.value:I[N],!h(g?N:m+(R?".":"#")+N,E.forced)&&void 0!==b){if(typeof C==typeof b)continue;P(C,b)}(E.sham||b&&b.sham)&&a(C,"sham",!0),l(I,N,C,E)}}},47293:u=>{u.exports=function(p){try{return!!p()}catch{return!0}}},27007:(u,p,t)=>{t(74916);var o=t(21470),i=t(98052),a=t(22261),l=t(47293),v=t(5112),P=t(68880),h=v("species"),E=RegExp.prototype;u.exports=function(O,m,g,R){var A=v(O),I=!l(function(){var L={};return L[A]=function(){return 7},7!==""[O](L)}),N=I&&!l(function(){var L=!1,T=/a/;return"split"===O&&((T={}).constructor={},T.constructor[h]=function(){return T},T.flags="",T[A]=/./[A]),T.exec=function(){return L=!0,null},T[A](""),!L});if(!I||!N||g){var b=o(/./[A]),C=m(A,""[O],function(L,T,M,F,$){var W=o(L),V=T.exec;return V===a||V===E.exec?I&&!$?{done:!0,value:b(T,M,F)}:{done:!0,value:W(M,T,F)}:{done:!1}});i(String.prototype,O,C[0]),i(E,A,C[1])}R&&P(E[A],"sham",!0)}},22104:(u,p,t)=>{var o=t(34374),i=Function.prototype,a=i.apply,l=i.call;u.exports="object"==typeof Reflect&&Reflect.apply||(o?l.bind(a):function(){return l.apply(a,arguments)})},49974:(u,p,t)=>{var o=t(21470),i=t(19662),a=t(34374),l=o(o.bind);u.exports=function(v,P){return i(v),void 0===P?v:a?l(v,P):function(){return v.apply(P,arguments)}}},34374:(u,p,t)=>{var o=t(47293);u.exports=!o(function(){var i=function(){}.bind();return"function"!=typeof i||i.hasOwnProperty("prototype")})},46916:(u,p,t)=>{var o=t(34374),i=Function.prototype.call;u.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},76530:(u,p,t)=>{var o=t(19781),i=t(92597),a=Function.prototype,l=o&&Object.getOwnPropertyDescriptor,v=i(a,"name"),P=v&&"something"===function(){}.name,h=v&&(!o||o&&l(a,"name").configurable);u.exports={EXISTS:v,PROPER:P,CONFIGURABLE:h}},75668:(u,p,t)=>{var o=t(1702),i=t(19662);u.exports=function(a,l,v){try{return o(i(Object.getOwnPropertyDescriptor(a,l)[v]))}catch{}}},21470:(u,p,t)=>{var o=t(84326),i=t(1702);u.exports=function(a){if("Function"===o(a))return i(a)}},1702:(u,p,t)=>{var o=t(34374),i=Function.prototype,a=i.call,l=o&&i.bind.bind(a,a);u.exports=o?l:function(v){return function(){return a.apply(v,arguments)}}},35005:(u,p,t)=>{var o=t(17854),i=t(60614),a=function(l){return i(l)?l:void 0};u.exports=function(l,v){return arguments.length<2?a(o[l]):o[l]&&o[l][v]}},71246:(u,p,t)=>{var o=t(70648),i=t(58173),a=t(68554),l=t(97497),P=t(5112)("iterator");u.exports=function(h){if(!a(h))return i(h,P)||i(h,"@@iterator")||l[o(h)]}},18554:(u,p,t)=>{var o=t(46916),i=t(19662),a=t(19670),l=t(66330),v=t(71246),P=TypeError;u.exports=function(h,E){var O=arguments.length<2?v(h):E;if(i(O))return a(o(O,h));throw P(l(h)+" is not iterable")}},58173:(u,p,t)=>{var o=t(19662),i=t(68554);u.exports=function(a,l){var v=a[l];return i(v)?void 0:o(v)}},10647:(u,p,t)=>{var o=t(1702),i=t(47908),a=Math.floor,l=o("".charAt),v=o("".replace),P=o("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;u.exports=function(O,m,g,R,A,I){var N=g+O.length,b=R.length,C=E;return void 0!==A&&(A=i(A),C=h),v(I,C,function(L,T){var M;switch(l(T,0)){case"$":return"$";case"&":return O;case"`":return P(m,0,g);case"'":return P(m,N);case"<":M=A[P(T,1,-1)];break;default:var F=+T;if(0===F)return L;if(F>b){var $=a(F/10);return 0===$?L:$<=b?void 0===R[$-1]?l(T,1):R[$-1]+l(T,1):L}M=R[F-1]}return void 0===M?"":M})}},17854:function(u){var p=function(t){return t&&t.Math===Math&&t};u.exports=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},92597:(u,p,t)=>{var o=t(1702),i=t(47908),a=o({}.hasOwnProperty);u.exports=Object.hasOwn||function(v,P){return a(i(v),P)}},3501:u=>{u.exports={}},842:u=>{u.exports=function(p,t){try{1===arguments.length?console.error(p):console.error(p,t)}catch{}}},60490:(u,p,t)=>{var o=t(35005);u.exports=o("document","documentElement")},64664:(u,p,t)=>{var o=t(19781),i=t(47293),a=t(80317);u.exports=!o&&!i(function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},68361:(u,p,t)=>{var o=t(1702),i=t(47293),a=t(84326),l=Object,v=o("".split);u.exports=i(function(){return!l("z").propertyIsEnumerable(0)})?function(P){return"String"===a(P)?v(P,""):l(P)}:l},42788:(u,p,t)=>{var o=t(1702),i=t(60614),a=t(5465),l=o(Function.toString);i(a.inspectSource)||(a.inspectSource=function(v){return l(v)}),u.exports=a.inspectSource},29909:(u,p,t)=>{var R,A,I,o=t(94811),i=t(17854),a=t(70111),l=t(68880),v=t(92597),P=t(5465),h=t(6200),E=t(3501),O="Object already initialized",m=i.TypeError;if(o||P.state){var C=P.state||(P.state=new(0,i.WeakMap));C.get=C.get,C.has=C.has,C.set=C.set,R=function(T,M){if(C.has(T))throw m(O);return M.facade=T,C.set(T,M),M},A=function(T){return C.get(T)||{}},I=function(T){return C.has(T)}}else{var L=h("state");E[L]=!0,R=function(T,M){if(v(T,L))throw m(O);return M.facade=T,l(T,L,M),M},A=function(T){return v(T,L)?T[L]:{}},I=function(T){return v(T,L)}}u.exports={set:R,get:A,has:I,enforce:function(T){return I(T)?A(T):R(T,{})},getterFor:function(T){return function(M){var F;if(!a(M)||(F=A(M)).type!==T)throw m("Incompatible receiver, "+T+" required");return F}}}},97659:(u,p,t)=>{var o=t(5112),i=t(97497),a=o("iterator"),l=Array.prototype;u.exports=function(v){return void 0!==v&&(i.Array===v||l[a]===v)}},60614:(u,p,t)=>{var o=t(4154),i=o.all;u.exports=o.IS_HTMLDDA?function(a){return"function"==typeof a||a===i}:function(a){return"function"==typeof a}},4411:(u,p,t)=>{var o=t(1702),i=t(47293),a=t(60614),l=t(70648),v=t(35005),P=t(42788),h=function(){},E=[],O=v("Reflect","construct"),m=/^\s*(?:class|function)\b/,g=o(m.exec),R=!m.exec(h),A=function(b){if(!a(b))return!1;try{return O(h,E,b),!0}catch{return!1}},I=function(b){if(!a(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return R||!!g(m,P(b))}catch{return!0}};I.sham=!0,u.exports=!O||i(function(){var N;return A(A.call)||!A(Object)||!A(function(){N=!0})||N})?I:A},54705:(u,p,t)=>{var o=t(47293),i=t(60614),a=/#|\.prototype\./,l=function(O,m){var g=P[v(O)];return g===E||g!==h&&(i(m)?o(m):!!m)},v=l.normalize=function(O){return String(O).replace(a,".").toLowerCase()},P=l.data={},h=l.NATIVE="N",E=l.POLYFILL="P";u.exports=l},68554:u=>{u.exports=function(p){return null==p}},70111:(u,p,t)=>{var o=t(60614),i=t(4154),a=i.all;u.exports=i.IS_HTMLDDA?function(l){return"object"==typeof l?null!==l:o(l)||l===a}:function(l){return"object"==typeof l?null!==l:o(l)}},31913:u=>{u.exports=!1},47850:(u,p,t)=>{var o=t(70111),i=t(84326),l=t(5112)("match");u.exports=function(v){var P;return o(v)&&(void 0!==(P=v[l])?!!P:"RegExp"===i(v))}},52190:(u,p,t)=>{var o=t(35005),i=t(60614),a=t(47976),l=t(43307),v=Object;u.exports=l?function(P){return"symbol"==typeof P}:function(P){var h=o("Symbol");return i(h)&&a(h.prototype,v(P))}},20408:(u,p,t)=>{var o=t(49974),i=t(46916),a=t(19670),l=t(66330),v=t(97659),P=t(26244),h=t(47976),E=t(18554),O=t(71246),m=t(99212),g=TypeError,R=function(I,N){this.stopped=I,this.result=N},A=R.prototype;u.exports=function(I,N,b){var W,V,ne,le,_,oe,se,L=!(!b||!b.AS_ENTRIES),T=!(!b||!b.IS_RECORD),M=!(!b||!b.IS_ITERATOR),F=!(!b||!b.INTERRUPTED),$=o(N,b&&b.that),ie=function(B){return W&&m(W,"normal",B),new R(!0,B)},j=function(B){return L?(a(B),F?$(B[0],B[1],ie):$(B[0],B[1])):F?$(B,ie):$(B)};if(T)W=I.iterator;else if(M)W=I;else{if(!(V=O(I)))throw g(l(I)+" is not iterable");if(v(V)){for(ne=0,le=P(I);le>ne;ne++)if((_=j(I[ne]))&&h(A,_))return _;return new R(!1)}W=E(I,V)}for(oe=T?I.next:W.next;!(se=i(oe,W)).done;){try{_=j(se.value)}catch(B){m(W,"throw",B)}if("object"==typeof _&&_&&h(A,_))return _}return new R(!1)}},99212:(u,p,t)=>{var o=t(46916),i=t(19670),a=t(58173);u.exports=function(l,v,P){var h,E;i(l);try{if(!(h=a(l,"return"))){if("throw"===v)throw P;return P}h=o(h,l)}catch(O){E=!0,h=O}if("throw"===v)throw P;if(E)throw h;return i(h),P}},63061:(u,p,t)=>{var o=t(13383).IteratorPrototype,i=t(70030),a=t(79114),l=t(58003),v=t(97497),P=function(){return this};u.exports=function(h,E,O,m){var g=E+" Iterator";return h.prototype=i(o,{next:a(+!m,O)}),l(h,g,!1,!0),v[g]=P,h}},51656:(u,p,t)=>{var o=t(82109),i=t(46916),a=t(31913),l=t(76530),v=t(60614),P=t(63061),h=t(79518),E=t(27674),O=t(58003),m=t(68880),g=t(98052),R=t(5112),A=t(97497),I=t(13383),N=l.PROPER,b=l.CONFIGURABLE,C=I.IteratorPrototype,L=I.BUGGY_SAFARI_ITERATORS,T=R("iterator"),M="keys",F="values",$="entries",W=function(){return this};u.exports=function(V,ne,le,_,oe,se,ie){P(le,ne,_);var de,ge,ce,j=function(ye){if(ye===oe&&U)return U;if(!L&&ye in J)return J[ye];switch(ye){case M:case F:case $:return function(){return new le(this,ye)}}return function(){return new le(this)}},B=ne+" Iterator",ue=!1,J=V.prototype,ee=J[T]||J["@@iterator"]||oe&&J[oe],U=!L&&ee||j(oe),Pe="Array"===ne&&J.entries||ee;if(Pe&&(de=h(Pe.call(new V)))!==Object.prototype&&de.next&&(!a&&h(de)!==C&&(E?E(de,C):v(de[T])||g(de,T,W)),O(de,B,!0,!0),a&&(A[B]=W)),N&&oe===F&&ee&&ee.name!==F&&(!a&&b?m(J,"name",F):(ue=!0,U=function(){return i(ee,this)})),oe)if(ge={values:j(F),keys:se?U:j(M),entries:j($)},ie)for(ce in ge)(L||ue||!(ce in J))&&g(J,ce,ge[ce]);else o({target:ne,proto:!0,forced:L||ue},ge);return(!a||ie)&&J[T]!==U&&g(J,T,U,{name:oe}),A[ne]=U,ge}},13383:(u,p,t)=>{var g,R,A,o=t(47293),i=t(60614),a=t(70111),l=t(70030),v=t(79518),P=t(98052),h=t(5112),E=t(31913),O=h("iterator"),m=!1;[].keys&&("next"in(A=[].keys())?(R=v(v(A)))!==Object.prototype&&(g=R):m=!0),!a(g)||o(function(){var N={};return g[O].call(N)!==N})?g={}:E&&(g=l(g)),i(g[O])||P(g,O,function(){return this}),u.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:m}},97497:u=>{u.exports={}},26244:(u,p,t)=>{var o=t(17466);u.exports=function(i){return o(i.length)}},56339:(u,p,t)=>{var o=t(1702),i=t(47293),a=t(60614),l=t(92597),v=t(19781),P=t(76530).CONFIGURABLE,h=t(42788),E=t(29909),O=E.enforce,m=E.get,g=String,R=Object.defineProperty,A=o("".slice),I=o("".replace),N=o([].join),b=v&&!i(function(){return 8!==R(function(){},"length",{value:8}).length}),C=String(String).split("String"),L=u.exports=function(T,M,F){"Symbol("===A(g(M),0,7)&&(M="["+I(g(M),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(M="get "+M),F&&F.setter&&(M="set "+M),(!l(T,"name")||P&&T.name!==M)&&(v?R(T,"name",{value:M,configurable:!0}):T.name=M),b&&F&&l(F,"arity")&&T.length!==F.arity&&R(T,"length",{value:F.arity});try{F&&l(F,"constructor")&&F.constructor?v&&R(T,"prototype",{writable:!1}):T.prototype&&(T.prototype=void 0)}catch{}var $=O(T);return l($,"source")||($.source=N(C,"string"==typeof M?M:"")),T};Function.prototype.toString=L(function(){return a(this)&&m(this).source||h(this)},"toString")},74758:u=>{var p=Math.ceil,t=Math.floor;u.exports=Math.trunc||function(i){var a=+i;return(a>0?t:p)(a)}},95948:(u,p,t)=>{var b,C,L,T,M,o=t(17854),i=t(49974),a=t(31236).f,l=t(20261).set,v=t(18572),P=t(6833),h=t(71528),E=t(71036),O=t(35268),m=o.MutationObserver||o.WebKitMutationObserver,g=o.document,R=o.process,A=o.Promise,I=a(o,"queueMicrotask"),N=I&&I.value;if(!N){var F=new v,$=function(){var W,V;for(O&&(W=R.domain)&&W.exit();V=F.get();)try{V()}catch(ne){throw F.head&&b(),ne}W&&W.enter()};P||O||E||!m||!g?!h&&A&&A.resolve?((T=A.resolve(void 0)).constructor=A,M=i(T.then,T),b=function(){M($)}):O?b=function(){R.nextTick($)}:(l=i(l,o),b=function(){l($)}):(C=!0,L=g.createTextNode(""),new m($).observe(L,{characterData:!0}),b=function(){L.data=C=!C}),N=function(W){F.head||b(),F.add(W)}}u.exports=N},78523:(u,p,t)=>{var o=t(19662),i=TypeError,a=function(l){var v,P;this.promise=new l(function(h,E){if(void 0!==v||void 0!==P)throw i("Bad Promise constructor");v=h,P=E}),this.resolve=o(v),this.reject=o(P)};u.exports.f=function(l){return new a(l)}},3929:(u,p,t)=>{var o=t(47850),i=TypeError;u.exports=function(a){if(o(a))throw i("The method doesn't accept regular expressions");return a}},70030:(u,p,t)=>{var C,o=t(19670),i=t(36048),a=t(80748),l=t(3501),v=t(60490),P=t(80317),h=t(6200),m="prototype",g="script",R=h("IE_PROTO"),A=function(){},I=function(T){return"<"+g+">"+T+"</"+g+">"},N=function(T){T.write(I("")),T.close();var M=T.parentWindow.Object;return T=null,M},L=function(){try{C=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&C?N(C):function(){var F,T=P("iframe"),M="java"+g+":";return T.style.display="none",v.appendChild(T),T.src=String(M),(F=T.contentWindow.document).open(),F.write(I("document.F=Object")),F.close(),F.F}():N(C);for(var T=a.length;T--;)delete L[m][a[T]];return L()};l[R]=!0,u.exports=Object.create||function(M,F){var $;return null!==M?(A[m]=o(M),$=new A,A[m]=null,$[R]=M):$=L(),void 0===F?$:i.f($,F)}},36048:(u,p,t)=>{var o=t(19781),i=t(3353),a=t(3070),l=t(19670),v=t(45656),P=t(81956);p.f=o&&!i?Object.defineProperties:function(E,O){l(E);for(var I,m=v(O),g=P(O),R=g.length,A=0;R>A;)a.f(E,I=g[A++],m[I]);return E}},3070:(u,p,t)=>{var o=t(19781),i=t(64664),a=t(3353),l=t(19670),v=t(34948),P=TypeError,h=Object.defineProperty,E=Object.getOwnPropertyDescriptor,O="enumerable",m="configurable",g="writable";p.f=o?a?function(A,I,N){if(l(A),I=v(I),l(N),"function"==typeof A&&"prototype"===I&&"value"in N&&g in N&&!N[g]){var b=E(A,I);b&&b[g]&&(A[I]=N.value,N={configurable:m in N?N[m]:b[m],enumerable:O in N?N[O]:b[O],writable:!1})}return h(A,I,N)}:h:function(A,I,N){if(l(A),I=v(I),l(N),i)try{return h(A,I,N)}catch{}if("get"in N||"set"in N)throw P("Accessors not supported");return"value"in N&&(A[I]=N.value),A}},31236:(u,p,t)=>{var o=t(19781),i=t(46916),a=t(55296),l=t(79114),v=t(45656),P=t(34948),h=t(92597),E=t(64664),O=Object.getOwnPropertyDescriptor;p.f=o?O:function(g,R){if(g=v(g),R=P(R),E)try{return O(g,R)}catch{}if(h(g,R))return l(!i(a.f,g,R),g[R])}},8006:(u,p,t)=>{var o=t(16324),a=t(80748).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(v){return o(v,a)}},25181:(u,p)=>{p.f=Object.getOwnPropertySymbols},79518:(u,p,t)=>{var o=t(92597),i=t(60614),a=t(47908),l=t(6200),v=t(49920),P=l("IE_PROTO"),h=Object,E=h.prototype;u.exports=v?h.getPrototypeOf:function(O){var m=a(O);if(o(m,P))return m[P];var g=m.constructor;return i(g)&&m instanceof g?g.prototype:m instanceof h?E:null}},47976:(u,p,t)=>{var o=t(1702);u.exports=o({}.isPrototypeOf)},16324:(u,p,t)=>{var o=t(1702),i=t(92597),a=t(45656),l=t(41318).indexOf,v=t(3501),P=o([].push);u.exports=function(h,E){var R,O=a(h),m=0,g=[];for(R in O)!i(v,R)&&i(O,R)&&P(g,R);for(;E.length>m;)i(O,R=E[m++])&&(~l(g,R)||P(g,R));return g}},81956:(u,p,t)=>{var o=t(16324),i=t(80748);u.exports=Object.keys||function(l){return o(l,i)}},55296:(u,p)=>{var t={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!t.call({1:2},1);p.f=i?function(l){var v=o(this,l);return!!v&&v.enumerable}:t},27674:(u,p,t)=>{var o=t(75668),i=t(19670),a=t(96077);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var P,l=!1,v={};try{(P=o(Object.prototype,"__proto__","set"))(v,[]),l=v instanceof Array}catch{}return function(E,O){return i(E),a(O),l?P(E,O):E.__proto__=O,E}}():void 0)},92140:(u,p,t)=>{var o=t(46916),i=t(60614),a=t(70111),l=TypeError;u.exports=function(v,P){var h,E;if("string"===P&&i(h=v.toString)&&!a(E=o(h,v))||i(h=v.valueOf)&&!a(E=o(h,v))||"string"!==P&&i(h=v.toString)&&!a(E=o(h,v)))return E;throw l("Can't convert object to primitive value")}},53887:(u,p,t)=>{var o=t(35005),i=t(1702),a=t(8006),l=t(25181),v=t(19670),P=i([].concat);u.exports=o("Reflect","ownKeys")||function(E){var O=a.f(v(E)),m=l.f;return m?P(O,m(E)):O}},12534:u=>{u.exports=function(p){try{return{error:!1,value:p()}}catch(t){return{error:!0,value:t}}}},63702:(u,p,t)=>{var o=t(17854),i=t(2492),a=t(60614),l=t(54705),v=t(42788),P=t(5112),h=t(7871),E=t(83823),O=t(31913),m=t(7392),g=i&&i.prototype,R=P("species"),A=!1,I=a(o.PromiseRejectionEvent),N=l("Promise",function(){var b=v(i),C=b!==String(i);if(!C&&66===m||O&&(!g.catch||!g.finally))return!0;if(!m||m<51||!/native code/.test(b)){var L=new i(function(F){F(1)}),T=function(F){F(function(){},function(){})};if((L.constructor={})[R]=T,!(A=L.then(function(){})instanceof T))return!0}return!C&&(h||E)&&!I});u.exports={CONSTRUCTOR:N,REJECTION_EVENT:I,SUBCLASSING:A}},2492:(u,p,t)=>{var o=t(17854);u.exports=o.Promise},69478:(u,p,t)=>{var o=t(19670),i=t(70111),a=t(78523);u.exports=function(l,v){if(o(l),i(v)&&v.constructor===l)return v;var P=a.f(l);return(0,P.resolve)(v),P.promise}},80612:(u,p,t)=>{var o=t(2492),i=t(17072),a=t(63702).CONSTRUCTOR;u.exports=a||!i(function(l){o.all(l).then(void 0,function(){})})},18572:u=>{var p=function(){this.head=null,this.tail=null};p.prototype={add:function(t){var o={item:t,next:null},i=this.tail;i?i.next=o:this.head=o,this.tail=o},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},u.exports=p},97651:(u,p,t)=>{var o=t(46916),i=t(19670),a=t(60614),l=t(84326),v=t(22261),P=TypeError;u.exports=function(h,E){var O=h.exec;if(a(O)){var m=o(O,h,E);return null!==m&&i(m),m}if("RegExp"===l(h))return o(v,h,E);throw P("RegExp#exec called on incompatible receiver")}},22261:(u,p,t)=>{var $,W,o=t(46916),i=t(1702),a=t(41340),l=t(67066),v=t(52999),P=t(72309),h=t(70030),E=t(29909).get,O=t(9441),m=t(38173),g=P("native-string-replace",String.prototype.replace),R=RegExp.prototype.exec,A=R,I=i("".charAt),N=i("".indexOf),b=i("".replace),C=i("".slice),L=(W=/b*/g,o(R,$=/a/,"a"),o(R,W,"a"),0!==$.lastIndex||0!==W.lastIndex),T=v.BROKEN_CARET,M=void 0!==/()??/.exec("")[1];(L||M||T||O||m)&&(A=function(W){var oe,se,ie,j,B,ue,J,V=this,ne=E(V),le=a(W),_=ne.raw;if(_)return _.lastIndex=V.lastIndex,oe=o(A,_,le),V.lastIndex=_.lastIndex,oe;var ee=ne.groups,U=T&&V.sticky,Pe=o(l,V),de=V.source,ge=0,ce=le;if(U&&(Pe=b(Pe,"y",""),-1===N(Pe,"g")&&(Pe+="g"),ce=C(le,V.lastIndex),V.lastIndex>0&&(!V.multiline||V.multiline&&"\n"!==I(le,V.lastIndex-1))&&(de="(?: "+de+")",ce=" "+ce,ge++),se=new RegExp("^(?:"+de+")",Pe)),M&&(se=new RegExp("^"+de+"$(?!\\s)",Pe)),L&&(ie=V.lastIndex),j=o(R,U?se:V,ce),U?j?(j.input=C(j.input,ge),j[0]=C(j[0],ge),j.index=V.lastIndex,V.lastIndex+=j[0].length):V.lastIndex=0:L&&j&&(V.lastIndex=V.global?j.index+j[0].length:ie),M&&j&&j.length>1&&o(g,j[0],se,function(){for(B=1;B<arguments.length-2;B++)void 0===arguments[B]&&(j[B]=void 0)}),j&&ee)for(j.groups=ue=h(null),B=0;B<ee.length;B++)ue[(J=ee[B])[0]]=j[J[1]];return j}),u.exports=A},67066:(u,p,t)=>{var o=t(19670);u.exports=function(){var i=o(this),a="";return i.hasIndices&&(a+="d"),i.global&&(a+="g"),i.ignoreCase&&(a+="i"),i.multiline&&(a+="m"),i.dotAll&&(a+="s"),i.unicode&&(a+="u"),i.unicodeSets&&(a+="v"),i.sticky&&(a+="y"),a}},52999:(u,p,t)=>{var o=t(47293),a=t(17854).RegExp,l=o(function(){var h=a("a","y");return h.lastIndex=2,null!==h.exec("abcd")}),v=l||o(function(){return!a("a","y").sticky}),P=l||o(function(){var h=a("^r","gy");return h.lastIndex=2,null!==h.exec("str")});u.exports={BROKEN_CARET:P,MISSED_STICKY:v,UNSUPPORTED_Y:l}},9441:(u,p,t)=>{var o=t(47293),a=t(17854).RegExp;u.exports=o(function(){var l=a(".","s");return!(l.dotAll&&l.exec("\n")&&"s"===l.flags)})},38173:(u,p,t)=>{var o=t(47293),a=t(17854).RegExp;u.exports=o(function(){var l=a("(?<a>b)","g");return"b"!==l.exec("b").groups.a||"bc"!=="b".replace(l,"$<a>c")})},84488:(u,p,t)=>{var o=t(68554),i=TypeError;u.exports=function(a){if(o(a))throw i("Can't call method on "+a);return a}},96340:(u,p,t)=>{var o=t(35005),i=t(47045),a=t(5112),l=t(19781),v=a("species");u.exports=function(P){var h=o(P);l&&h&&!h[v]&&i(h,v,{configurable:!0,get:function(){return this}})}},58003:(u,p,t)=>{var o=t(3070).f,i=t(92597),l=t(5112)("toStringTag");u.exports=function(v,P,h){v&&!h&&(v=v.prototype),v&&!i(v,l)&&o(v,l,{configurable:!0,value:P})}},6200:(u,p,t)=>{var o=t(72309),i=t(69711),a=o("keys");u.exports=function(l){return a[l]||(a[l]=i(l))}},5465:(u,p,t)=>{var o=t(17854),i=t(13072),a="__core-js_shared__",l=o[a]||i(a,{});u.exports=l},72309:(u,p,t)=>{var o=t(31913),i=t(5465);(u.exports=function(a,l){return i[a]||(i[a]=void 0!==l?l:{})})("versions",[]).push({version:"3.32.1",mode:o?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.1/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:(u,p,t)=>{var o=t(19670),i=t(39483),a=t(68554),v=t(5112)("species");u.exports=function(P,h){var O,E=o(P).constructor;return void 0===E||a(O=o(E)[v])?h:i(O)}},28710:(u,p,t)=>{var o=t(1702),i=t(19303),a=t(41340),l=t(84488),v=o("".charAt),P=o("".charCodeAt),h=o("".slice),E=function(O){return function(m,g){var N,b,R=a(l(m)),A=i(g),I=R.length;return A<0||A>=I?O?"":void 0:(N=P(R,A))<55296||N>56319||A+1===I||(b=P(R,A+1))<56320||b>57343?O?v(R,A):N:O?h(R,A,A+2):b-56320+(N-55296<<10)+65536}};u.exports={codeAt:E(!1),charAt:E(!0)}},36293:(u,p,t)=>{var o=t(7392),i=t(47293),l=t(17854).String;u.exports=!!Object.getOwnPropertySymbols&&!i(function(){var v=Symbol("symbol detection");return!l(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&o&&o<41})},20261:(u,p,t)=>{var W,V,ne,le,o=t(17854),i=t(22104),a=t(49974),l=t(60614),v=t(92597),P=t(47293),h=t(60490),E=t(50206),O=t(80317),m=t(48053),g=t(6833),R=t(35268),A=o.setImmediate,I=o.clearImmediate,N=o.process,b=o.Dispatch,C=o.Function,L=o.MessageChannel,T=o.String,M=0,F={},$="onreadystatechange";P(function(){W=o.location});var _=function(j){if(v(F,j)){var B=F[j];delete F[j],B()}},oe=function(j){return function(){_(j)}},se=function(j){_(j.data)},ie=function(j){o.postMessage(T(j),W.protocol+"//"+W.host)};(!A||!I)&&(A=function(B){m(arguments.length,1);var ue=l(B)?B:C(B),J=E(arguments,1);return F[++M]=function(){i(ue,void 0,J)},V(M),M},I=function(B){delete F[B]},R?V=function(j){N.nextTick(oe(j))}:b&&b.now?V=function(j){b.now(oe(j))}:L&&!g?(le=(ne=new L).port2,ne.port1.onmessage=se,V=a(le.postMessage,le)):o.addEventListener&&l(o.postMessage)&&!o.importScripts&&W&&"file:"!==W.protocol&&!P(ie)?(V=ie,o.addEventListener("message",se,!1)):V=$ in O("script")?function(j){h.appendChild(O("script"))[$]=function(){h.removeChild(this),_(j)}}:function(j){setTimeout(oe(j),0)}),u.exports={set:A,clear:I}},51400:(u,p,t)=>{var o=t(19303),i=Math.max,a=Math.min;u.exports=function(l,v){var P=o(l);return P<0?i(P+v,0):a(P,v)}},45656:(u,p,t)=>{var o=t(68361),i=t(84488);u.exports=function(a){return o(i(a))}},19303:(u,p,t)=>{var o=t(74758);u.exports=function(i){var a=+i;return a!=a||0===a?0:o(a)}},17466:(u,p,t)=>{var o=t(19303),i=Math.min;u.exports=function(a){return a>0?i(o(a),9007199254740991):0}},47908:(u,p,t)=>{var o=t(84488),i=Object;u.exports=function(a){return i(o(a))}},57593:(u,p,t)=>{var o=t(46916),i=t(70111),a=t(52190),l=t(58173),v=t(92140),P=t(5112),h=TypeError,E=P("toPrimitive");u.exports=function(O,m){if(!i(O)||a(O))return O;var R,g=l(O,E);if(g){if(void 0===m&&(m="default"),R=o(g,O,m),!i(R)||a(R))return R;throw h("Can't convert object to primitive value")}return void 0===m&&(m="number"),v(O,m)}},34948:(u,p,t)=>{var o=t(57593),i=t(52190);u.exports=function(a){var l=o(a,"string");return i(l)?l:l+""}},51694:(u,p,t)=>{var a={};a[t(5112)("toStringTag")]="z",u.exports="[object z]"===String(a)},41340:(u,p,t)=>{var o=t(70648),i=String;u.exports=function(a){if("Symbol"===o(a))throw TypeError("Cannot convert a Symbol value to a string");return i(a)}},66330:u=>{var p=String;u.exports=function(t){try{return p(t)}catch{return"Object"}}},69711:(u,p,t)=>{var o=t(1702),i=0,a=Math.random(),l=o(1..toString);u.exports=function(v){return"Symbol("+(void 0===v?"":v)+")_"+l(++i+a,36)}},43307:(u,p,t)=>{var o=t(36293);u.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(u,p,t)=>{var o=t(19781),i=t(47293);u.exports=o&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},48053:u=>{var p=TypeError;u.exports=function(t,o){if(t<o)throw p("Not enough arguments");return t}},94811:(u,p,t)=>{var o=t(17854),i=t(60614),a=o.WeakMap;u.exports=i(a)&&/native code/.test(String(a))},5112:(u,p,t)=>{var o=t(17854),i=t(72309),a=t(92597),l=t(69711),v=t(36293),P=t(43307),h=o.Symbol,E=i("wks"),O=P?h.for||h:h&&h.withoutSetter||l;u.exports=function(m){return a(E,m)||(E[m]=v&&a(h,m)?h[m]:O("Symbol."+m)),E[m]}},26699:(u,p,t)=>{var o=t(82109),i=t(41318).includes,a=t(47293),l=t(51223);o({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),l("includes")},66992:(u,p,t)=>{var o=t(45656),i=t(51223),a=t(97497),l=t(29909),v=t(3070).f,P=t(51656),h=t(76178),E=t(31913),O=t(19781),m="Array Iterator",g=l.set,R=l.getterFor(m);u.exports=P(Array,"Array",function(I,N){g(this,{type:m,target:o(I),index:0,kind:N})},function(){var I=R(this),N=I.target,b=I.kind,C=I.index++;if(!N||C>=N.length)return I.target=void 0,h(void 0,!0);switch(b){case"keys":return h(C,!1);case"values":return h(N[C],!1)}return h([C,N[C]],!1)},"values");var A=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!E&&O&&"values"!==A.name)try{v(A,"name",{value:"values"})}catch{}},70821:(u,p,t)=>{var o=t(82109),i=t(46916),a=t(19662),l=t(78523),v=t(12534),P=t(20408);o({target:"Promise",stat:!0,forced:t(80612)},{all:function(O){var m=this,g=l.f(m),R=g.resolve,A=g.reject,I=v(function(){var N=a(m.resolve),b=[],C=0,L=1;P(O,function(T){var M=C++,F=!1;L++,i(N,m,T).then(function($){F||(F=!0,b[M]=$,--L||R(b))},A)}),--L||R(b)});return I.error&&A(I.value),g.promise}})},94164:(u,p,t)=>{var o=t(82109),i=t(31913),a=t(63702).CONSTRUCTOR,l=t(2492),v=t(35005),P=t(60614),h=t(98052),E=l&&l.prototype;if(o({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(m){return this.then(void 0,m)}}),!i&&P(l)){var O=v("Promise").prototype.catch;E.catch!==O&&h(E,"catch",O,{unsafe:!0})}},43401:(u,p,t)=>{var Ie,De,y,o=t(82109),i=t(31913),a=t(35268),l=t(17854),v=t(46916),P=t(98052),h=t(27674),E=t(58003),O=t(96340),m=t(19662),g=t(60614),R=t(70111),A=t(25787),I=t(36707),N=t(20261).set,b=t(95948),C=t(842),L=t(12534),T=t(18572),M=t(29909),F=t(2492),$=t(63702),W=t(78523),V="Promise",ne=$.CONSTRUCTOR,le=$.REJECTION_EVENT,_=$.SUBCLASSING,oe=M.getterFor(V),se=M.set,ie=F&&F.prototype,j=F,B=ie,ue=l.TypeError,J=l.document,ee=l.process,U=W.f,Pe=U,de=!!(J&&J.createEvent&&l.dispatchEvent),ge="unhandledrejection",xe=function(w){var z;return!(!R(w)||!g(z=w.then))&&z},te=function(w,z){var K,Be,Oe,Q=z.value,X=1===z.state,q=X?w.ok:w.fail,we=w.resolve,$e=w.reject,he=w.domain;try{q?(X||(2===z.rejection&&Ue(z),z.rejection=1),!0===q?K=Q:(he&&he.enter(),K=q(Q),he&&(he.exit(),Oe=!0)),K===w.promise?$e(ue("Promise-chain cycle")):(Be=xe(K))?v(Be,K,we,$e):we(K)):$e(Q)}catch(Ke){he&&!Oe&&he.exit(),$e(Ke)}},Ce=function(w,z){w.notified||(w.notified=!0,b(function(){for(var X,Q=w.reactions;X=Q.get();)te(X,w);w.notified=!1,z&&!w.rejection&&Qe(w)}))},Me=function(w,z,Q){var X,q;de?((X=J.createEvent("Event")).promise=z,X.reason=Q,X.initEvent(w,!1,!0),l.dispatchEvent(X)):X={promise:z,reason:Q},!le&&(q=l["on"+w])?q(X):w===ge&&C("Unhandled promise rejection",Q)},Qe=function(w){v(N,l,function(){var q,z=w.facade,Q=w.value;if(Ye(w)&&(q=L(function(){a?ee.emit("unhandledRejection",Q,z):Me(ge,z,Q)}),w.rejection=a||Ye(w)?2:1,q.error))throw q.value})},Ye=function(w){return 1!==w.rejection&&!w.parent},Ue=function(w){v(N,l,function(){var z=w.facade;a?ee.emit("rejectionHandled",z):Me("rejectionhandled",z,w.value)})},Se=function(w,z,Q){return function(X){w(z,X,Q)}},Re=function(w,z,Q){w.done||(w.done=!0,Q&&(w=Q),w.value=z,w.state=2,Ce(w,!0))},Le=function(w,z,Q){if(!w.done){w.done=!0,Q&&(w=Q);try{if(w.facade===z)throw ue("Promise can't be resolved itself");var X=xe(z);X?b(function(){var q={done:!1};try{v(X,z,Se(Le,q,w),Se(Re,q,w))}catch(we){Re(q,we,w)}}):(w.value=z,w.state=1,Ce(w,!1))}catch(q){Re({done:!1},q,w)}}};if(ne&&(j=function(z){A(this,B),m(z),v(Ie,this);var Q=oe(this);try{z(Se(Le,Q),Se(Re,Q))}catch(X){Re(Q,X)}},(Ie=function(z){se(this,{type:V,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=P(B=j.prototype,"then",function(z,Q){var X=oe(this),q=U(I(this,j));return X.parent=!0,q.ok=!g(z)||z,q.fail=g(Q)&&Q,q.domain=a?ee.domain:void 0,0===X.state?X.reactions.add(q):b(function(){te(q,X)}),q.promise}),De=function(){var w=new Ie,z=oe(w);this.promise=w,this.resolve=Se(Le,z),this.reject=Se(Re,z)},W.f=U=function(w){return w===j||void 0===w?new De(w):Pe(w)},!i&&g(F)&&ie!==Object.prototype)){y=ie.then,_||P(ie,"then",function(z,Q){var X=this;return new j(function(q,we){v(y,X,q,we)}).then(z,Q)},{unsafe:!0});try{delete ie.constructor}catch{}h&&h(ie,B)}o({global:!0,constructor:!0,wrap:!0,forced:ne},{Promise:j}),E(j,V,!1,!0),O(V)},88674:(u,p,t)=>{t(43401),t(70821),t(94164),t(6027),t(60683),t(96294)},6027:(u,p,t)=>{var o=t(82109),i=t(46916),a=t(19662),l=t(78523),v=t(12534),P=t(20408);o({target:"Promise",stat:!0,forced:t(80612)},{race:function(O){var m=this,g=l.f(m),R=g.reject,A=v(function(){var I=a(m.resolve);P(O,function(N){i(I,m,N).then(g.resolve,R)})});return A.error&&R(A.value),g.promise}})},60683:(u,p,t)=>{var o=t(82109),i=t(46916),a=t(78523);o({target:"Promise",stat:!0,forced:t(63702).CONSTRUCTOR},{reject:function(P){var h=a.f(this);return i(h.reject,void 0,P),h.promise}})},96294:(u,p,t)=>{var o=t(82109),i=t(35005),a=t(31913),l=t(2492),v=t(63702).CONSTRUCTOR,P=t(69478),h=i("Promise"),E=a&&!v;o({target:"Promise",stat:!0,forced:a||v},{resolve:function(m){return P(E&&this===h?l:this,m)}})},74916:(u,p,t)=>{var o=t(82109),i=t(22261);o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},27852:(u,p,t)=>{var N,o=t(82109),i=t(21470),a=t(31236).f,l=t(17466),v=t(41340),P=t(3929),h=t(84488),E=t(84964),O=t(31913),m=i("".endsWith),g=i("".slice),R=Math.min,A=E("endsWith");o({target:"String",proto:!0,forced:!(!O&&!A&&(N=a(String.prototype,"endsWith"),N&&!N.writable)||A)},{endsWith:function(b){var C=v(h(this));P(b);var L=arguments.length>1?arguments[1]:void 0,T=C.length,M=void 0===L?T:R(l(L),T),F=v(b);return m?m(C,F,M):g(C,M-F.length,M)===F}})},32023:(u,p,t)=>{var o=t(82109),i=t(1702),a=t(3929),l=t(84488),v=t(41340),P=t(84964),h=i("".indexOf);o({target:"String",proto:!0,forced:!P("includes")},{includes:function(O){return!!~h(v(l(this)),v(a(O)),arguments.length>1?arguments[1]:void 0)}})},15306:(u,p,t)=>{var o=t(22104),i=t(46916),a=t(1702),l=t(27007),v=t(47293),P=t(19670),h=t(60614),E=t(68554),O=t(19303),m=t(17466),g=t(41340),R=t(84488),A=t(31530),I=t(58173),N=t(10647),b=t(97651),L=t(5112)("replace"),T=Math.max,M=Math.min,F=a([].concat),$=a([].push),W=a("".indexOf),V=a("".slice),ne=function(se){return void 0===se?se:String(se)},le="$0"==="a".replace(/./,"$0"),_=!!/./[L]&&""===/./[L]("a","$0");l("replace",function(se,ie,j){var B=_?"$":"$0";return[function(J,ee){var U=R(this),Pe=E(J)?void 0:I(J,L);return Pe?i(Pe,J,U,ee):i(ie,g(U),J,ee)},function(ue,J){var ee=P(this),U=g(ue);if("string"==typeof J&&-1===W(J,B)&&-1===W(J,"$<")){var Pe=j(ie,ee,U,J);if(Pe.done)return Pe.value}var de=h(J);de||(J=g(J));var ce,ge=ee.global;ge&&(ce=ee.unicode,ee.lastIndex=0);for(var fe,ye=[];null!==(fe=b(ee,U))&&($(ye,fe),ge);)""===g(fe[0])&&(ee.lastIndex=A(U,m(ee.lastIndex),ce));for(var be="",Ae=0,Ie=0;Ie<ye.length;Ie++){for(var xe,De=g((fe=ye[Ie])[0]),Ne=T(M(O(fe.index),U.length),0),y=[],te=1;te<fe.length;te++)$(y,ne(fe[te]));var Ce=fe.groups;if(de){var Me=F([De],y,Ne,U);void 0!==Ce&&$(Me,Ce),xe=g(o(J,void 0,Me))}else xe=N(De,U,Ne,y,Ce,J);Ne>=Ae&&(be+=V(U,Ae,Ne)+xe,Ae=Ne+De.length)}return be+V(U,Ae)}]},!!v(function(){var se=/./;return se.exec=function(){var ie=[];return ie.groups={a:"7"},ie},"7"!=="".replace(se,"$<a>")})||!le||_)},23157:(u,p,t)=>{var N,o=t(82109),i=t(21470),a=t(31236).f,l=t(17466),v=t(41340),P=t(3929),h=t(84488),E=t(84964),O=t(31913),m=i("".startsWith),g=i("".slice),R=Math.min,A=E("startsWith");o({target:"String",proto:!0,forced:!(!O&&!A&&(N=a(String.prototype,"startsWith"),N&&!N.writable)||A)},{startsWith:function(b){var C=v(h(this));P(b);var L=l(R(arguments.length>1?arguments[1]:void 0,C.length)),T=v(b);return m?m(C,T,L):g(C,L,L+T.length)===T}})},41817:(u,p,t)=>{var o=t(82109),i=t(19781),a=t(17854),l=t(1702),v=t(92597),P=t(60614),h=t(47976),E=t(41340),O=t(47045),m=t(99920),g=a.Symbol,R=g&&g.prototype;if(i&&P(g)&&(!("description"in R)||void 0!==g().description)){var A={},I=function(){var $=arguments.length<1||void 0===arguments[0]?void 0:E(arguments[0]),W=h(R,this)?new g($):void 0===$?g():g($);return""===$&&(A[W]=!0),W};m(I,g),I.prototype=R,R.constructor=I;var N="Symbol(description detection)"===String(g("description detection")),b=l(R.valueOf),C=l(R.toString),L=/^Symbol\((.*)\)[^)]+$/,T=l("".replace),M=l("".slice);O(R,"description",{configurable:!0,get:function(){var $=b(this);if(v(A,$))return"";var W=C($),V=N?M(W,7,-1):T(W,L,"$1");return""===V?void 0:V}}),o({global:!0,constructor:!0,forced:!0},{Symbol:I})}},33948:(u,p,t)=>{var o=t(17854),i=t(48324),a=t(98509),l=t(66992),v=t(68880),P=t(5112),h=P("iterator"),E=P("toStringTag"),O=l.values,m=function(R,A){if(R){if(R[h]!==O)try{v(R,h,O)}catch{R[h]=O}if(R[E]||v(R,E,A),i[A])for(var I in l)if(R[I]!==l[I])try{v(R,I,l[I])}catch{R[I]=l[I]}}};for(var g in i)m(o[g]&&o[g].prototype,g);m(a,"DOMTokenList")},62388:(u,p,t)=>{t.r(p),t.d(p,{AbstractActionHandler:()=>lt,AbstractDontCodeStoreProvider:()=>ot,AbstractSchemaItem:()=>ce,Action:()=>Be,ActionContextType:()=>Le,ActionType:()=>w,Change:()=>he,ChangeType:()=>K,DataTransformationInfo:()=>Ke,DontCodeChangeManager:()=>qe,DontCodeCore:()=>_e,DontCodeGroupOperationType:()=>Se,DontCodeModel:()=>y,DontCodeModelManager:()=>Oe,DontCodeModelPointer:()=>te,DontCodePluginManager:()=>Me,DontCodePreviewManager:()=>Ye,DontCodeProject:()=>vt,DontCodeReportGroupShowType:()=>Ue,DontCodeSchema:()=>xe,DontCodeSchemaEnum:()=>be,DontCodeSchemaEnumValue:()=>Ae,DontCodeSchemaManager:()=>Ce,DontCodeSchemaObject:()=>fe,DontCodeSchemaProperty:()=>Ne,DontCodeSchemaRef:()=>De,DontCodeSchemaRoot:()=>je,DontCodeSchemaValue:()=>Ie,DontCodeSortDirectionType:()=>Re,DontCodeStoreAggregate:()=>$e,DontCodeStoreCriteria:()=>X,DontCodeStoreCriteriaOperator:()=>Q,DontCodeStoreGroupby:()=>we,DontCodeStoreGroupedByEntities:()=>rt,DontCodeStoreGroupedByValues:()=>nt,DontCodeStoreManager:()=>z,DontCodeStorePreparedEntities:()=>tt,DontCodeStoreSort:()=>q,DontCodeTestManager:()=>Ve,Message:()=>it,MessageType:()=>ze,ModelQuerySingleResult:()=>st,MoneyAmount:()=>at,SpecialFields:()=>et,StoreProviderHelper:()=>Te,TestProviderInterface:()=>ft,concatIterable:()=>ye,dtcde:()=>We}),t(66992),t(33948),t(41817),t(74916),t(15306),t(23157),t(27852);var E=t(92256);function g(c){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(c)}function R(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function A(c,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function I(c,e,r){return e&&A(c.prototype,e),r&&A(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function b(c){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(c)}function C(c,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n})(c,e)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(c,e,r){return(T=L()?Reflect.construct.bind():function(s,f,d){var S=[null];S.push.apply(S,f);var D=new(Function.bind.apply(s,S));return d&&C(D,d.prototype),D}).apply(null,arguments)}function F(c){var e="function"==typeof Map?new Map:void 0;return F=function(n){if(null===n||!function M(c){return-1!==Function.toString.call(c).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return T(n,arguments,b(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),C(s,n)},F(c)}function oe(c,e){if(c){if("string"==typeof c)return se(c,e);var r=Object.prototype.toString.call(c).slice(8,-1);if("Object"===r&&c.constructor&&(r=c.constructor.name),"Map"===r||"Set"===r)return Array.from(c);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(c,e)}}function se(c,e){(null==e||e>c.length)&&(e=c.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=c[r];return n}t(26699),t(32023);var B=Object.prototype.hasOwnProperty;function ue(c,e){return(c=c.slice()).push(e),c}function J(c,e){return(e=e.slice()).unshift(c),e}var ee=function(c){!function N(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&C(c,e)}(r,c);var e=function V(c){var e=L();return function(){var s,n=b(c);if(e){var f=b(this).constructor;s=Reflect.construct(n,arguments,f)}else s=n.apply(this,arguments);return function W(c,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function $(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}(this,s)}}(r);function r(n){var s;return R(this,r),(s=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,s.value=n,s.name="NewError",s}return I(r)}(F(Error));function U(c,e,r,n,s){if(!(this instanceof U))try{return new U(c,e,r,n,s)}catch(x){if(!x.avoidNew)throw x;return x.value}"string"==typeof c&&(s=n,n=r,r=e,e=c,c=null);var f=c&&"object"===g(c);if(this.json=(c=c||{}).json||r,this.path=c.path||e,this.resultType=c.resultType||"value",this.flatten=c.flatten||!1,this.wrap=!B.call(c,"wrap")||c.wrap,this.sandbox=c.sandbox||{},this.preventEval=c.preventEval||!1,this.parent=c.parent||null,this.parentProperty=c.parentProperty||null,this.callback=c.callback||n||null,this.otherTypeCallback=c.otherTypeCallback||s||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==c.autostart){var d={path:f?c.path:e};f?"json"in c&&(d.json=c.json):d.json=r;var S=this.evaluate(d);if(!S||"object"!==g(S))throw new ee(S);return S}}U.prototype.evaluate=function(c,e,r,n){var s=this,f=this.parent,d=this.parentProperty,S=this.flatten,x=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(c=c||this.path)&&"object"===g(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!B.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=c.json,S=B.call(c,"flatten")?c.flatten:S,this.currResultType=B.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=B.call(c,"sandbox")?c.sandbox:this.currSandbox,x=B.call(c,"wrap")?c.wrap:x,this.currPreventEval=B.call(c,"preventEval")?c.preventEval:this.currPreventEval,r=B.call(c,"callback")?c.callback:r,this.currOtherTypeCallback=B.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,f=B.call(c,"parent")?c.parent:f,d=B.call(c,"parentProperty")?c.parentProperty:d,c=c.path}if(f=f||null,d=d||null,Array.isArray(c)&&(c=U.toPathString(c)),(c||""===c)&&e){var G=U.toPathArray(c);"$"===G[0]&&G.length>1&&G.shift(),this._hasParentSelector=null;var Y=this._trace(G,e,["$"],f,d,r).filter(function(Z){return Z&&!Z.isParentSelector});return Y.length?x||1!==Y.length||Y[0].hasArrExpr?Y.reduce(function(Z,ae){var Ee=s._getPreferredOutput(ae);return S&&Array.isArray(Ee)?Z=Z.concat(Ee):Z.push(Ee),Z},[]):this._getPreferredOutput(Y[0]):x?[]:void 0}},U.prototype._getPreferredOutput=function(c){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(c.path)?c.path:U.toPathArray(c.path);return c.pointer=U.toPointer(r),c.path="string"==typeof c.path?c.path:U.toPathString(c.path),c;case"value":case"parent":case"parentProperty":return c[e];case"path":return U.toPathString(c[e]);case"pointer":return U.toPointer(c.path);default:throw new TypeError("Unknown result type")}},U.prototype._handleCallback=function(c,e,r){if(e){var n=this._getPreferredOutput(c);c.path="string"==typeof c.path?c.path:U.toPathString(c.path),e(n,r,c)}},U.prototype._trace=function(c,e,r,n,s,f,d,S){var D,x=this;if(!c.length)return this._handleCallback(D={path:r,value:e,parent:n,parentProperty:s,hasArrExpr:d},f,"value"),D;var G=c[0],Y=c.slice(1),Z=[];function ae(pe){Array.isArray(pe)?pe.forEach(function(ht){Z.push(ht)}):Z.push(pe)}if(("string"!=typeof G||S)&&e&&B.call(e,G))ae(this._trace(Y,e[G],ue(r,G),e,G,f,d));else if("*"===G)this._walk(e,function(pe){ae(x._trace(Y,e[pe],ue(r,pe),e,pe,f,!0,!0))});else if(".."===G)ae(this._trace(Y,e,r,n,s,f,d)),this._walk(e,function(pe){"object"===g(e[pe])&&ae(x._trace(c.slice(),e[pe],ue(r,pe),e,pe,f,!0))});else{if("^"===G)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:Y,isParentSelector:!0};if("~"===G)return D={path:ue(r,G),value:s,parent:n,parentProperty:null},this._handleCallback(D,f,"property"),D;if("$"===G)ae(this._trace(Y,e,r,null,null,f,d));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(G))ae(this._slice(G,Y,e,r,n,s,f));else if(0===G.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var Ee=G.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(pe){x._eval(Ee,e[pe],pe,r,n,s)&&ae(x._trace(Y,e[pe],ue(r,pe),e,pe,f,!0))})}else if("("===G[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");ae(this._trace(J(this._eval(G,e,r[r.length-1],r.slice(0,-1),n,s),Y),e,r,n,s,f,d))}else if("@"===G[0]){var ve=!1,H=G.slice(1,-2);switch(H){case"scalar":(!e||!["object","function"].includes(g(e)))&&(ve=!0);break;case"boolean":case"string":case"undefined":case"function":g(e)===H&&(ve=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(ve=!0);break;case"number":Number.isFinite(e)&&(ve=!0);break;case"nonFinite":"number"==typeof e&&!Number.isFinite(e)&&(ve=!0);break;case"object":e&&g(e)===H&&(ve=!0);break;case"array":Array.isArray(e)&&(ve=!0);break;case"other":ve=this.currOtherTypeCallback(e,r,n,s);break;case"null":null===e&&(ve=!0);break;default:throw new TypeError("Unknown value type "+H)}if(ve)return this._handleCallback(D={path:r,value:e,parent:n,parentProperty:s},f,"value"),D}else if("`"===G[0]&&e&&B.call(e,G.slice(1))){var k=G.slice(1);ae(this._trace(Y,e[k],ue(r,k),e,k,f,d,!0))}else if(G.includes(",")){var Ze,me=function j(c,e){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=oe(c))||e&&c&&"number"==typeof c.length){r&&(c=r);var n=0,s=function(){};return{s,n:function(){return n>=c.length?{done:!0}:{done:!1,value:c[n++]}},e:function(x){throw x},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S,f=!0,d=!1;return{s:function(){r=r.call(c)},n:function(){var x=r.next();return f=x.done,x},e:function(x){d=!0,S=x},f:function(){try{!f&&null!=r.return&&r.return()}finally{if(d)throw S}}}}(G.split(","));try{for(me.s();!(Ze=me.n()).done;)ae(this._trace(J(Ze.value,Y),e,r,n,s,f,!0))}catch(pe){me.e(pe)}finally{me.f()}}else!S&&e&&B.call(e,G)&&ae(this._trace(Y,e[G],ue(r,G),e,G,f,d,!0))}if(this._hasParentSelector)for(var Fe=0;Fe<Z.length;Fe++){var Je=Z[Fe];if(Je&&Je.isParentSelector){var He=this._trace(Je.expr,e,Je.path,n,s,f,d);if(Array.isArray(He)){Z[Fe]=He[0];for(var dt=He.length,ke=1;ke<dt;ke++)Fe++,Z.splice(Fe,0,He[ke])}else Z[Fe]=He}}return Z},U.prototype._walk=function(c,e){if(Array.isArray(c))for(var r=c.length,n=0;n<r;n++)e(n);else c&&"object"===g(c)&&Object.keys(c).forEach(function(s){e(s)})},U.prototype._slice=function(c,e,r,n,s,f,d){if(Array.isArray(r)){var S=r.length,x=c.split(":"),D=x[2]&&Number.parseInt(x[2])||1,G=x[0]&&Number.parseInt(x[0])||0,Y=x[1]&&Number.parseInt(x[1])||S;G=G<0?Math.max(0,G+S):Math.min(S,G),Y=Y<0?Math.max(0,Y+S):Math.min(S,Y);for(var Z=[],ae=G;ae<Y;ae+=D)this._trace(J(ae,e),r,n,s,f,d,!0).forEach(function(ve){Z.push(ve)});return Z}},U.prototype._eval=function(c,e,r,n,s,f){this.currSandbox._$_parentProperty=f,this.currSandbox._$_parent=s,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var d=c.includes("@path");d&&(this.currSandbox._$_path=U.toPathString(n.concat([r])));var S="script:"+c;if(!U.cache[S]){var x=c.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");d&&(x=x.replace(/@path/g,"_$_path")),U.cache[S]=new this.vm.Script(x)}try{return U.cache[S].runInNewContext(this.currSandbox)}catch(D){throw new Error("jsonPath: "+D.message+": "+c)}},U.cache={},U.toPathString=function(c){for(var e=c,r=e.length,n="$",s=1;s<r;s++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[s])||(n+=/^[\*0-9]+$/.test(e[s])?"["+e[s]+"]":"['"+e[s]+"']");return n},U.toPointer=function(c){for(var e=c,r=e.length,n="",s=1;s<r;s++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[s])||(n+="/"+e[s].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},U.toPathArray=function(c){var e=U.cache;if(e[c])return e[c].concat();var r=[],s=c.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(f,d){return"[#"+(r.push(d)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(f,d){return"['"+d.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(f,d){return";"+d.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(f){var d=f.match(/#([0-9]+)/);return d&&d[1]?r[d[1]]:f});return e[c]=s,e[c].concat()},U.prototype.vm={Script:function(){function c(e){R(this,c),this.code=e}return I(c,[{key:"runInNewContext",value:function(r){var n=this.code,s=Object.keys(r),f=[];!function(e,r,n){for(var s=e.length,f=0;f<s;f++)n(e[f])&&r.push(e.splice(f--,1)[0])}(s,f,function(G){return"function"==typeof r[G]});var d=s.map(function(G,Y){return r[G]}),S=f.reduce(function(G,Y){var Z=r[Y].toString();return/function/.test(Z)||(Z="function "+Z),"var "+Y+"="+Z+";"+G},"");!/(["'])use strict\1/.test(n=S+n)&&!s.includes("arguments")&&(n="var arguments = undefined;"+n);var x=(n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),D=x>-1?n.slice(0,x+1)+" return "+n.slice(x+1):" return "+n;return T(Function,s.concat([D])).apply(void 0,function ne(c){return function le(c){if(Array.isArray(c))return se(c)}(c)||function _(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(c)||oe(c)||function ie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d))}}]),c}()},t(88674);class ce{constructor(e,r){this.array=!1,this.readOnly=!1,this.hidden=!1,this.parent=e,this.relativeId=r}isArray(){return this.array}setArray(e){this.array=e}isEnum(){return!1}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}isHidden(){return this.hidden}setHidden(e){this.hidden=e}isReadonly(){return this.readOnly}setReadonly(e){this.readOnly=e}static generateItem(e,r,n){let f,s=Array.isArray(e);if(s)return console.error("arrays are not supported",e),e;if(s=!1,e.type)switch(e.type){case"object":f=new fe(e,r,n);break;case"array":f=this.generateItem(e.items,r,n),s=!0;break;default:f=new Ie(e,r,n)}else if(e.enum)f=new be(e,r,n);else{if(!e.$ref)return e;f=new De(e,r,n)}return!0===e.readOnly&&f.setReadonly(!0),!0===e.writeOnly&&f.setHidden(!0),f.setArray(s),f}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static goto(e,r){let n=e;return r.split("/").forEach(s=>{"#"!==s&&""!=s&&(n=n?.getChild(s)),n||console.error("Cannot find "+s+" of "+r+" in the following item ",e)}),n}upsertWith(e){return!1}getParent(){return this.parent}getChild(e){}getChildren(){return(new Map).entries()}updateWith(e){}allProperties(){return[].values()}getProperties(e){}hasProperties(e){return!1}getRelativeId(){return this.relativeId}setRelativeId(e){this.relativeId=e}getTargetPath(){return this.targetPath}setTargetPath(e){this.targetPath=e}isPossibleDynamicProperty(e){const r=this.getChildren();for(const n of r){const s=n[1].allProperties();for(const f of s)if(f[1].getChild(e))return f[1]}}getAllPossibleDynamicProperties(){const e=this.getChildren(),r=new Map;for(const n of e){const s=n[1].allProperties();for(const f of s)for(const d of f[1].getChildren())r.has(d[0])&&console.warn("Dynamic Property "+d[0]+" is being defined by multiple children."),r.set(d[0],d[1])}return r.entries()}getChildrenAndPossibleProperties(){return ye(this.getChildren(),this.getAllPossibleDynamicProperties())}}function*ye(...c){for(let e of c){let r;for(e=e[Symbol.iterator]();r=e.next(),!r.done;)yield r.value}}class fe extends ce{constructor(e,r,n){super(n,r),this.children=new Map,e&&this.readJson(e)}readJson(e){const r=e.properties;if(r)for(const n in r)this.children.set(n,ce.generateItem(r[n],n,this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!1}upsertWith(e){const r=this.getChild(e.location.id);if(r)r.updateWith(e);else if(null!=e.location.id){const n=ce.generateItem(e.update,e.location.id,this);if(e.location.after){const s=new Map;this.children.forEach((f,d)=>{s.set(d,f),d===e.location.after&&null!=e.location.id&&s.set(e.location.id,n)}),this.children=s}else this.children.set(e.location.id,n);n.updateWith(e)}return!0}updateWith(e){super.updateWith(e)}getChild(e){if(e)return this.children.get(e)}getChildren(){return this.children.entries()}}class je extends fe{constructor(e){super(e,void 0)}readJson(e){super.readJson(e);const r=e.$defs;r&&this.children.set("$defs",new fe({properties:r},"$defs",this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!0}}class be extends ce{constructor(e,r,n){super(n,r),this.values=new Array,this.properties=new Map,this.updateValues(e.enum,this.values),this.targetPath=e.format}isEnum(){return!0}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}getValues(){return this.values}updateWith(e){super.updateWith(e),this.updateValues(e.update.enum,this.values,e)}updateValues(e,r,n){e.forEach(s=>{if("string"==typeof s){if(r.find(f=>f.getValue()===s)||r.push(new Ae(s)),n?.props){const f=new Ne(n,this.relativeId+"="+s,this);f.isEmpty()||this.properties.set(s,f)}}else for(const f in s)if(s.hasOwnProperty(f)){let d=r.find(S=>S.getValue()===s);d||(d=new Ae(f),r.push(d)),d.getChildren()||d.setChildren([]),this.updateValues(s[f].enum,d.getChildren(),n)}})}allProperties(){return this.properties.entries()}getProperties(e){return this.properties.get(e)}hasProperties(e){return this.properties.has(e)}}class Ae{constructor(e,r){this._children=new Array,this._value=e,this._label=r||e}getLabel(){return this._label?this._label:this._value}setLabel(e){this._label=e}getValue(){return this._value}setValue(e){this._value=e}getChildren(){return this._children}setChildren(e){this._children=e}}class Ie extends ce{constructor(e,r,n){super(n,r),this.type=e.type,this.targetPath=e.format}isValue(){return!0}getType(){return this.type}}class De extends ce{constructor(e,r,n){super(n,r),this.resolvedRef=new Map,this.ref=e.$ref}isReference(){return!0}getReference(){return this.ref}resolveReference(e){this.resolvedRef.set("",e)}getChildren(){return this.resolvedRef.entries()}}class Ne extends fe{constructor(e,r,n){super({type:"object",properties:e.props},r,n),this.replace=!!e.replace&&e.replace,this.posAfter=e.location.after}isEmpty(){return 0==this.children.size}isReplace(){return this.replace}getPosAfter(){return this.posAfter}}class y{}y.ROOT="creation",y.APP_NAME_NODE="name",y.APP_TYPE_NODE="type",y.APP_TYPE=y.ROOT+"/"+y.APP_TYPE_NODE,y.APP_NAME=y.ROOT+"/"+y.APP_NAME_NODE,y.APP_ENTITIES_NODE="entities",y.APP_ENTITIES=y.ROOT+"/"+y.APP_ENTITIES_NODE,y.APP_ENTITIES_FROM_NODE="from",y.APP_ENTITIES_FROM=y.APP_ENTITIES+"/"+y.APP_ENTITIES_FROM_NODE,y.APP_ENTITIES_NAME_NODE="name",y.APP_ENTITIES_NAME=y.APP_ENTITIES+"/"+y.APP_ENTITIES_NAME_NODE,y.APP_FIELDS_NODE="fields",y.APP_FIELDS=y.APP_ENTITIES+"/"+y.APP_FIELDS_NODE,y.APP_FIELDS_NAME_NODE="name",y.APP_FIELDS_NAME=y.APP_FIELDS+"/"+y.APP_FIELDS_NAME_NODE,y.APP_FIELDS_TYPE_NODE="type",y.APP_FIELDS_TYPE=y.APP_FIELDS+"/"+y.APP_FIELDS_TYPE_NODE,y.APP_SHARING_NODE="sharing",y.APP_SHARING=y.ROOT+"/"+y.APP_SHARING_NODE,y.APP_SHARING_WITH_NODE="with",y.APP_SHARING_WITH=y.APP_SHARING+"/"+y.APP_SHARING_WITH_NODE,y.APP_REPORTS_NODE="reports",y.APP_REPORTS=y.ROOT+"/"+y.APP_REPORTS_NODE,y.APP_REPORTS_TITLE_NODE="title",y.APP_REPORTS_TITLE=y.APP_REPORTS+"/"+y.APP_REPORTS_TITLE_NODE,y.APP_REPORTS_FOR_NODE="for",y.APP_REPORTS_FOR=y.APP_REPORTS+"/"+y.APP_REPORTS_FOR_NODE,y.APP_REPORTS_GROUP_NODE="groupedBy",y.APP_REPORTS_GROUP=y.APP_REPORTS+"/"+y.APP_REPORTS_GROUP_NODE,y.APP_REPORTS_SORT_NODE="sortedBy",y.APP_REPORTS_SORT=y.APP_REPORTS+"/"+y.APP_REPORTS_SORT_NODE,y.APP_REPORTS_DISPLAY_NODE="as",y.APP_REPORTS_DISPLAY=y.APP_REPORTS+"/"+y.APP_REPORTS_DISPLAY_NODE,y.APP_REPORTS_GROUP_LABEL_NODE="label",y.APP_REPORTS_GROUP_LABEL=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_LABEL_NODE,y.APP_REPORTS_GROUP_OF_NODE="of",y.APP_REPORTS_GROUP_OF=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_OF_NODE,y.APP_REPORTS_GROUP_SHOW_NODE="show",y.APP_REPORTS_GROUP_SHOW=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_SHOW_NODE,y.APP_REPORTS_GROUP_AGGREGATE_NODE="display",y.APP_REPORTS_GROUP_AGGREGATE=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_AGGREGATE_NODE,y.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE="label",y.APP_REPORTS_GROUP_AGGREGATE_LABEL=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE,y.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE="operation",y.APP_REPORTS_GROUP_AGGREGATE_OPERATION=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE,y.APP_REPORTS_GROUP_AGGREGATE_OF_NODE="of",y.APP_REPORTS_GROUP_AGGREGATE_OF=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_OF_NODE,y.APP_REPORTS_SORT_BY_NODE="by",y.APP_REPORTS_SORT_BY=y.APP_REPORTS_SORT+"/"+y.APP_REPORTS_SORT_BY_NODE,y.APP_REPORTS_SORT_DIRECTION_NODE="direction",y.APP_REPORTS_SORT_DIRECTION=y.APP_REPORTS_SORT+"/"+y.APP_REPORTS_SORT_DIRECTION_NODE,y.APP_REPORTS_DISPLAY_TITLE_NODE="title",y.APP_REPORTS_DISPLAY_TITLE=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_TITLE_NODE,y.APP_REPORTS_DISPLAY_TYPE_NODE="type",y.APP_REPORTS_DISPLAY_TYPE=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_TYPE_NODE,y.APP_REPORTS_DISPLAY_OF_NODE="of",y.APP_REPORTS_DISPLAY_OF=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_OF_NODE,y.APP_REPORTS_DISPLAY_BY_NODE="by",y.APP_REPORTS_DISPLAY_BY=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_BY_NODE,y.APP_SOURCES_NODE="sources",y.APP_SOURCES=y.ROOT+"/"+y.APP_SOURCES_NODE,y.APP_SOURCES_NAME_NODE="name",y.APP_SOURCES_NAME=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_NAME_NODE,y.APP_SOURCES_TYPE_NODE="type",y.APP_SOURCES_TYPE=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_TYPE_NODE,y.APP_SOURCES_URL_NODE="url",y.APP_SOURCES_URL=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_URL_NODE,y.APP_SCREENS_NODE="screens",y.APP_SCREENS=y.ROOT+"/"+y.APP_SCREENS_NODE,y.APP_SCREENS_NAME_NODE="name",y.APP_SCREENS_NAME=y.APP_SCREENS+"/"+y.APP_SCREENS_NAME_NODE,y.APP_SCREENS_LAYOUT_NODE="layout",y.APP_SCREENS_LAYOUT=y.APP_SCREENS+"/"+y.APP_SCREENS_LAYOUT_NODE,y.APP_COMPONENTS_NODE="components",y.APP_COMPONENTS=y.APP_SCREENS+"/"+y.APP_COMPONENTS_NODE,y.APP_COMPONENTS_TYPE_NODE="type",y.APP_COMPONENTS_TYPE=y.APP_COMPONENTS+"/"+y.APP_COMPONENTS_TYPE_NODE,y.APP_COMPONENTS_ENTITY_NODE="entity",y.APP_COMPONENTS_ENTITY=y.APP_COMPONENTS+"/"+y.APP_COMPONENTS_ENTITY_NODE;class xe{}xe.ROOT="/properties/"+y.ROOT,xe.defaultv1={$id:"https://dont-code.net/v1/dont-code-schema.json",$schema:"https://json-schema.org/draft/2020-12/schema",description:"JSON Schema v1 for dont-code",type:"object",required:["creation"],properties:{creation:{type:"object",properties:{type:{enum:["Application"]},name:{type:"string"},entities:{type:"array",items:{$ref:"#/$defs/entity"}},sharing:{$ref:"#/$defs/sharing"},reports:{type:"array",items:{$ref:"#/$defs/report"}},sources:{type:"array",items:{$ref:"#/$defs/source"}},screens:{type:"array",items:{$ref:"#/$defs/screen"}}},additionalProperties:!1}},$defs:{entity:{type:"object",properties:{from:{type:"string",format:"$.creation.sources.name"},name:{type:"string"},fields:{type:"array",items:{$ref:"#/$defs/field"}}},additionalProperties:!1},field:{type:"object",properties:{name:{type:"string"},type:{enum:["Text","Number","Boolean",{Time:{enum:["Date","Date & Time","Time"]}},{Money:{enum:["Dollar","Euro","Other currency"]},Web:{enum:["Website (url)","Image"]}},{Special:{enum:["Reference"]}}]}},additionalProperties:!1},sharing:{type:"object",properties:{with:{enum:["No-one"]}},additionalProperties:!1},source:{type:"object",properties:{name:{type:"string"},type:{enum:["Unknown"]}}},report:{type:"object",properties:{title:{type:"string"},for:{type:"string",format:"$.creation.entities.name"},groupedBy:{type:"array",items:{$ref:"#/$defs/report-group"}},sortedBy:{type:"array",items:{$ref:"#/$defs/report-sort"}},as:{type:"array",items:{$ref:"#/$defs/report-display"}}},additionalProperties:!1},"report-group":{type:"object",properties:{of:{type:"string",format:".fields.name"},label:{type:"string"},show:{enum:["OnlyLowest","OnlyHighest"]},display:{type:"array",items:{$ref:"#/$defs/report-group-aggregate"}}},additionalProperties:!1},"report-group-aggregate":{type:"object",properties:{operation:{enum:["Count","Sum","Average","Minimum","Maximum"]},of:{type:"string",format:".@parent.fields.name"},label:{type:"string"}},additionalProperties:!1},"report-sort":{type:"object",properties:{by:{type:"string",format:".fields.name"},direction:{enum:["None","Ascending","Descending"]}},additionalProperties:!1},"report-display":{type:"object",properties:{type:{enum:["Table","Bar","Line","Pie"]},of:{type:"string",format:".@parent.fields.name"},by:{type:"string",format:".@parent.fields.name"},title:{type:"string"}},additionalProperties:!1},screen:{type:"object",properties:{name:{type:"string"},layout:{enum:["Flow","Grid"]},components:{type:"array",items:{$ref:"#/$defs/component"}}},additionalProperties:!1},component:{type:"object",properties:{type:{enum:["List","Edit","View"]},entity:{type:"string",format:"$.creation.entities.name"}},additionalProperties:!1}}};class te{constructor(e,r,n,s,f,d){this.position=e,this.positionInSchema=r,this.containerPosition=n,this.containerPositionInSchema=s,this.lastElement=f||"",this.isProperty=d,this.fillMissingElements()}fillMissingElements(e){var r,n,s;if(null==this.position||null==this.positionInSchema)throw new Error("Cannot fill Elements for an empty position");null==this.containerPosition&&(this.containerPosition=null!==(r=te.parentPosition(this.position))&&void 0!==r?r:void 0),null==this.containerPositionInSchema&&(this.containerPositionInSchema=null!==(n=te.parentPosition(this.positionInSchema))&&void 0!==n?n:void 0),(null==this.lastElement||0==this.lastElement.length)&&(this.lastElement=null!==(s=te.lastElementOf(this.position))&&void 0!==s?s:this.position),null==this.isProperty&&e&&(this.isProperty=!this.containerPositionInSchema||null!=e.locateItem(this.containerPositionInSchema,!0).getChild(this.lastElement))}static lastElementOf(e){return null==e?e:e.substring(e.lastIndexOf("/")+1)}static nextItemAndPosition(e,r){let n=e.indexOf("/",r);n===r&&(n=e.indexOf("/",r+=1)),-1!==n?n-=1:n=n===r?-1:e.length-1;let s=null;return-1!==n&&(s=e.substring(r,n+1)),{pos:n,value:s}}calculateKeyOrContainer(){var e;return!0===this.isProperty?this.lastElement:null!==(e=te.lastElementOf(this.containerPosition))&&void 0!==e?e:""}calculateItemIdOrContainer(){var e;return!1===this.isProperty?this.lastElement:null!==(e=te.lastElementOf(this.containerPosition))&&void 0!==e?e:""}isSubItemOf(e){return e.position===this.containerPosition?this.lastElement:null}isUnderSubItemOf(e){if(this.positionInSchema.startsWith(e.positionInSchema)){const r=this.positionInSchema.indexOf("/",e.positionInSchema.length+1);return-1==r?this.positionInSchema.substring(e.positionInSchema.length+1):this.positionInSchema.substring(e.positionInSchema.length+1,r)}return null}subItemOrPropertyPointer(e,r){return r?this.subPropertyPointer(e):this.subItemPointer(e)}subPropertyPointer(e){return new te(""===this.position?e:this.position+"/"+e,""===this.positionInSchema?e:this.positionInSchema+"/"+e,this.position,this.positionInSchema,e,!0)}subItemPointer(e){return new te(""===this.position?e:this.position+"/"+e,this.positionInSchema,this.position,this.containerPositionInSchema,e,!1)}safeParentPointer(e){const r=this.parentPointer(e);if(void 0===r)throw new Error("No parent position for pointer "+this.position);return r}parentPointer(e){if(null==this.containerPosition||null==this.containerPositionInSchema)return;const r=new te(this.containerPosition,this.containerPositionInSchema);return null!=e&&r.fillMissingElements(e),r}isParentOf(e,r){if(!0===r){const n=te.parentPosition(e);return null!=n&&this.position==n}return e.startsWith(this.position)}static parentPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?"":e.substring(0,r)}static splitPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?{parent:"",element:e}:{parent:e.substring(0,r),element:e.substring(r+1)}}}class Ce{constructor(){this.reset()}getSchema(){return this.currentSchema}convertSchemaToMap(e){return new je(e)}registerChanges(e){e["schema-updates"]&&e["schema-updates"].forEach(n=>{n.changes.forEach(f=>{if(f.location.id){const d=this.locateItem(f.location.parent);if(!d)throw"Cannot find parent element: "+f.location.parent;d.upsertWith(f)}})})}locateItem(e,r){const n=e.split("/");let s=this.currentSchema;return n.forEach(f=>{if(!s)throw console.error("Could not find subItem "+f+" of "+e),new Error("Could not find subItem "+f+" of "+e);if(f&&f.length>0&&"#"!==f){if(s.isReference()&&(s=this.resolveReference(s)),!s)throw console.error("Could not find reference "+s?.getReference()+" of "+e),new Error("Could not find reference "+s?.getReference()+" of "+e);s=s.getChild(f)}}),r&&s.isReference()&&(s=this.resolveReference(s)),s}resolveReference(e){return this.locateItem(e.getReference())}generateParentPointer(e){if(null!=e.containerPosition)return this.generateSchemaPointer(e.containerPosition)}generateSchemaPointer(e){let r;const n=e,s=n.split("/");if(0===s.length||0===s[0].length)return r=new te(e,e),r;r=new te(e,"");let f=this.currentSchema,d=!1;return s.forEach(S=>{var x;if(d)r.isProperty=!1,d=!1;else{let D=null!==(x=f.getChild(S))&&void 0!==x?x:f.isPossibleDynamicProperty(S);if(!D)throw new Error("Cannot parse '"+n+"' from the schema as "+S+" is not a child of "+f.getRelativeId());if(r.isProperty=!0,r.containerPositionInSchema=r.positionInSchema,r.positionInSchema=null!==r.positionInSchema&&r.positionInSchema.length>0?r.positionInSchema+"/"+S:S,d=!!D.isArray(),D.isReference()&&(D=this.resolveReference(D)),null==D)throw new Error("Cannot parse '"+n+"' from the schema as "+D+" is reference an unknown element");f=D}}),r.containerPositionInSchema=r.positionInSchema.substring(0,r.positionInSchema.lastIndexOf("/")),r.containerPosition=r.position.substring(0,r.position.lastIndexOf("/")),r.lastElement=s[s.length-1],r}generateSubSchemaPointer(e,r){return this.locateItem(e.positionInSchema,!0).getChild(r)?e.subPropertyPointer(r):e.subItemPointer(r)}reset(){this.readSchema=xe.defaultv1,this.currentSchema=this.convertSchemaToMap(this.readSchema)}}class Me{constructor(){this.plugins=new Map}registerPlugin(e,r,n){const s=e.getConfiguration(),f=s.plugin.id+"-v"+s.plugin.version;null==this.plugins.get(f)&&(r.registerChanges(s),n.registerHandlers(s),this.plugins.set(f,new Qe(e)))}initPlugins(e){this.plugins.forEach(r=>{var n;if(!1===r.initCalled)try{const s=null===(n=r.plugin.getConfiguration())||void 0===n?void 0:n["definition-updates"];e.getChangeManager().applyPluginConfigUpdates(s),r.plugin.pluginInit(e),r.initCalled=!0}catch(s){console.error("Error calling "+r.plugin+" init method:",s)}})}reset(){this.plugins.clear()}}class Qe{constructor(e,r){this.plugin=e,this.initCalled=null!=r&&r}}class Ye{constructor(){this.reset()}reset(){this.handlersPerLocations=new Map,this.globalHandlersPerLocations=new Map,this.actionHandlersPerLocation=new Map,this.globalHandlers=new E.ReplaySubject}registerHandlers(e){if(e["preview-handlers"]&&e["preview-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r)}),e["global-handlers"]&&e["global-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r),n=this.globalHandlersPerLocations.get(r.location.parent),n||(n=new Array,this.globalHandlersPerLocations.set(r.location.parent,n)),n.push(r),this.globalHandlers.next(r)}),e["action-handlers"])for(const r of e["action-handlers"]){let n=this.actionHandlersPerLocation.get({position:r.location.parent,context:r["action-context"]});n||(n=new Array,this.actionHandlersPerLocation.set({position:r.location.parent,context:r["action-context"]},n)),n.push(r)}}getGlobalHandlers(){return this.globalHandlersPerLocations}receiveGlobalHandlers(){return this.globalHandlers}retrieveHandlerConfig(e,r){const n=this.handlersPerLocations.get(e);let s=null,f=!1;if(n)for(const d of n)if(d.location.values)if(r){let S=r;d.location.id&&(S=r[d.location.id]),this.extractValuesAsArray(d.location.values).forEach(x=>{x!==S||(s=d)})}else f=!0;else null===s&&(s=d);else if("string"==typeof r&&e.lastIndexOf("/")>0){e.endsWith("/")&&(e=e.substring(0,e.length-1));const S={};return S[e.substring(e.lastIndexOf("/")+1)]=r,this.retrieveHandlerConfig(e.substring(0,e.lastIndexOf("/")),S)}if(null===s&&f)throw new Error("Content must be provided in order to select an handler for position "+e);return s}retrieveActionHandlers(e,r,n){return this.actionHandlersPerLocation.get({position:e,context:r})??[]}extractValuesAsArray(e){const r=new Array;return this.extractValuesToArray(e,r),r}extractValuesToArray(e,r){if(Array.isArray(e))e.forEach(n=>{"string"==typeof n?r.push(n):this.extractValuesToArray(n,r)});else for(const n in e)e.hasOwnProperty(n)&&this.extractValuesToArray(e[n],r)}}var Ue=(()=>{return(c=Ue||(Ue={})).OnlyLowest="OnlyLowest",c.OnlyHighest="OnlyHighest",Ue;var c})(),Se=(()=>{return(c=Se||(Se={})).Count="Count",c.Sum="Sum",c.Average="Average",c.Minimum="Minimum",c.Maximum="Maximum",Se;var c})(),Re=(()=>{return(c=Re||(Re={})).None="None",c.Ascending="Ascending",c.Descending="Descending",Re;var c})(),Le=(()=>{return(c=Le||(Le={})).LIST="list",c.EDIT="edit",c.VIEW="view",Le;var c})(),w=(()=>{return(c=w||(w={})).EXTRACT="extract",c.UPDATE="update",c.CALCULATE="calculate",w;var c})();class z{constructor(e,r){this.modelMgr=e,this.providerByPosition=new Map,this.providerByType=new Map,this._default=r,this.reset()}reset(){this.providerByPosition.clear(),this.providerByType.clear()}getProvider(e){var r;if(null==e)return this._default;{let n=null;const s=null===(r=this.modelMgr.findTargetOfProperty(y.APP_ENTITIES_FROM_NODE,e))||void 0===r?void 0:r.value;return s&&(n=this.providerByType.get(s.type)),n||(n=this.providerByPosition.get(e)),n??this._default}}getProviderSafe(e){const r=this.getProvider(e);if(null==r)throw new Error("Trying to get an undefined or null provider");return r}getDefaultProvider(){return this.getProvider()}getDefaultProviderSafe(){return this.getProviderSafe()}setProvider(e,r){null==r?this._default=e:this.providerByPosition.set(r,e)}setProviderForSourceType(e,r){this.providerByType.set(r,e)}setDefaultProvider(e){this.setProvider(e)}removeProvider(e){null==e?this._default=void 0:this.providerByPosition.delete(e)}removeProviderForSourceType(e){this.providerByType.delete(e)}removeDefaultProvider(){this.removeProvider()}storeEntity(e,r){return this.getProviderSafe(e).storeEntity(e,r)}loadEntity(e,r){return this.getProviderSafe(e).loadEntity(e,r)}safeLoadEntity(e,r){return this.getProviderSafe(e).safeLoadEntity(e,r)}deleteEntity(e,r){return this.getProviderSafe(e).deleteEntity(e,r)}searchEntities(e,...r){return this.getProviderSafe(e).searchEntities(e,...r)}searchAndPrepareEntities(e,r,n,s,...f){return this.getProviderSafe(e).searchAndPrepareEntities(e,r,n,s,...f)}canStoreDocument(e){var r;return(null===(r=this.getProvider(e))||void 0===r?void 0:r.canStoreDocument(e))||!1}storeDocuments(e,r){return this.getProviderSafe(r).storeDocuments(e,r)}}var Q=(()=>{return(c=Q||(Q={})).EQUALS="=",c.LESS_THAN="<",c.LESS_THAN_EQUAL="<=",Q;var c})();class X{constructor(e,r,n){this.name=e,this.value=r,this.operator=n||Q.EQUALS}}class q{constructor(e,r,n){this.by=e,this.subSort=n,this.direction=null==r?Re.None:r}}class we{constructor(e,r,n){this.of=e,this.show=n,this.display=null==r?{}:r}atLeastOneGroupIsRequested(){return null!=this.display&&Object.keys(this.display).length>0}getRequiredListOfFields(){const e=new Set;if(null!=this.display)for(const r of Object.values(this.display))e.add(r.of);return e}}class $e{constructor(e,r){this.of=e,this.operation=r}}class he{constructor(e,r,n,s,f,d){if(this.type=e,this.position=r,"/"===r)throw new Error("Root position is defined by empty string and not slash anymore");this.value=n,this.pointer=s,this.beforeKey=f,this.oldPosition=d}getSafeParentPosition(){const e=this.getParentPosition();if(null==e)throw new Error("No Parent position for root changes.");return e}getParentPosition(){var e;return null!=this.pointer?null!==(e=this.pointer.containerPosition)&&void 0!==e?e:null:te.parentPosition(this.position)}}var K=(()=>{return(c=K||(K={})).ADD="ADD",c.UPDATE="UPDATE",c.DELETE="DELETE",c.MOVE="MOVE",c.RESET="RESET",c.ACTION="ACTION",K;var c})();class Be extends he{constructor(e,r,n,s,f,d,S){super(S??K.ACTION,e,r,f),this.running=new E.Subject,this.context=n,this.actionType=s,null!=d&&(this.running=d)}}class Oe{constructor(e){this.schemaMgr=e,this.reset()}reset(){this.content=void 0}getContent(){return this.content}resetContent(e){this.content=e}static isHidden(e){return 1==e?.$hidden}static isReadonly(e){return 1==e?.$readOnly}applyChange(e){var r,n;let s=null!==(r=e.pointer)&&void 0!==r?r:this.schemaMgr.generateSchemaPointer(e.position);e.pointer=s;const d=null===(n=e.pointer)||void 0===n?void 0:n.lastElement;null!=s.containerPosition&&null!=d&&(s=this.schemaMgr.generateParentPointer(s));const S=new Xe;S.isRoot=!0,S.name=s.position;let x=S,D=this.findAtPosition(s.position);if(null==D){if(e.type===K.DELETE)return[];{D=this.findAtPosition(s.position,!0,S);let G=s.position;for(;x.subChanges.length>0;)G=G.substring(0,G.lastIndexOf("/")),x=x.subChanges[0];S.name=G}}return e.type===K.ACTION&&(x.type=K.ACTION),this.applyChangeRecursive(e,D,e.value,e.pointer,x),this.generateChanges(e,S,this.schemaMgr.generateSchemaPointer(S.name))}applyChangeRecursive(e,r,n,s,f,d){if(null==e.pointer)throw new Error("Cannot apply a change without a pointer at position "+e.position);null==d&&(d=e.oldPosition);const S=s.lastElement;if(S||0===S.length){const x=0===S.length?r:r[S];switch(e.type){case K.ACTION:{const D=f.createSubChange(K.ACTION,S,f.value);this.compareRecursiveIfNeeded(e,x,null,s,D);break}case K.ADD:case K.UPDATE:case K.RESET:{let D;e.type===K.RESET&&e.position===s.position?"object"==typeof n&&this.isTheSameForParent(x,n)?D=f.createSubChange(void 0,S,null):("object"==typeof n||x!==n)&&(D=f.createSubChange(K.RESET,S,n)):null==x?D=f.createSubChange(K.ADD,S,n):"object"==typeof n&&this.isTheSameForParent(x,n)?D=f.createSubChange(void 0,S,null):("object"==typeof n||x!==n)&&(D=f.createSubChange(K.UPDATE,S,n)),D&&this.compareRecursiveIfNeeded(e,x,n,s,D),S.length>0&&this.insertProperty(r,S,n,e.beforeKey)}break;case K.DELETE:if(r[S]){const D=f.createSubChange(K.DELETE,S,null);this.compareRecursiveIfNeeded(e,r[S],n,s,D),delete r[S]}break;case K.MOVE:if(e.position===s.position){if(null==d)throw new Error("Cannot process MOVE change without oldPosition"+e.position);if(null==n&&(n=this.findAtPosition(d)),n){const D=f.createSubChange(K.MOVE,S,n,d);if(e.position!==d){this.compareRecursiveIfNeeded(e,null,n,s,D,d),this.insertProperty(r,S,n,e.beforeKey);const G=te.splitPosition(d);delete this.findAtPosition(G.parent)[G.element]}else this.compareRecursiveIfNeeded(e,null,n,s,D,d),this.insertProperty(r,S,n,e.beforeKey)}}else{const D=f.createSubChange(K.MOVE,S,null,d);this.compareRecursiveIfNeeded(e,r,n,s,D,d)}break;default:throw new Error("No support for change of type "+e.type)}}else this.compareRecursiveIfNeeded(e,r,n,s,f,d)}isTheSameForParent(e,r){if(r===e)return!0;if(null==r||null==e)return!1;if("object"==typeof e&&"object"==typeof r){const n=Object.keys(e),s=Object.keys(r);return n.length===s.length&&n.every((f,d)=>f===s[d])}return e===r}compareRecursiveIfNeeded(e,r,n,s,f,d){(null==r||"object"!=typeof r)&&(r={}),(null==n||"object"!=typeof n)&&(n={});const S=new Set;for(const x in r){const D=this.schemaMgr.generateSubSchemaPointer(s,x),G=D.position;S.add(x),n.hasOwnProperty(x)?this.applyChangeRecursive(e,r,n[x],D,f,d):e.type==K.ACTION?this.applyChangeRecursive(new Be(G,e.value,e.context,e.actionType,D,e.running),r,null,D,f):this.applyChangeRecursive(new he(K.DELETE,G,null,D),r,null,D,f,d)}for(const x in n)if(e.type===K.MOVE){const D=this.schemaMgr.generateSubSchemaPointer(s,x);this.applyChangeRecursive(e,r,n[x],D,f,d+"/"+x)}else if(!S.has(x)){const D=this.schemaMgr.generateSubSchemaPointer(s,x);this.applyChangeRecursive(new he(K.ADD,D.position,n[x],D),r,n[x],D,f)}}generateChanges(e,r,n,s){if(null==s&&(s=new Array),null==e.pointer)throw new Error("Cannot generate changes without the pointer");if(null==n&&(n=e.pointer),null!=r.type)if(r.type===K.MOVE){if(null==r.oldPosition)throw new Error("A Move Change must have an oldPosition set "+n.position);r.oldPosition!==n.position&&e.position===n.position&&s.push(new he(K.UPDATE,te.parentPosition(r.oldPosition),r.value)),s.push(new he(K.MOVE,n.position,r.value,n,void 0,r.oldPosition))}else s.push(r.type===K.ACTION?new Be(n.position,e.value,e.context,e.actionType,n,e.running):new he(r.type,n.position,r.value,n));else for(let f=0;f<r.subChanges.length;f++){const d=r.subChanges[f];if(null!=d.type&&d.type!==K.UPDATE&&d.name.length>0){s.push(new he(K.UPDATE,n.position,this.findAtPosition(n.position),n));break}}for(let f=0;f<r.subChanges.length;f++){const d=r.subChanges[f];this.generateChanges(e,d,this.schemaMgr.generateSubSchemaPointer(n,d.name),s)}return s}generateNextKeyForPosition(e,r=!1){const n=this.findAtPosition(e,r);if(null==n)throw new Error("No element at position "+e);return Oe.generateNextKey(n)}static generateNextKey(e){let r;r=null!=e.size?e:new Set(Object.keys(e));let n=r.size,s=!1;const f=Oe.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;let d;do{d="";do{const S=Math.trunc(n/f);d=Oe.POSSIBLE_CHARS_FOR_ARRAY_KEYS[n%f].concat(d),n=S-1}while(n>=0);s=r.has(d),n++}while(s);return d}findAtPosition(e,r,n){const s=e.split("/");if(null==this.content){if(!r)return null;this.content={}}let f=this.content,d="";return s.forEach(S=>{if(""===S||null===f)return f;if(d=0===d.length?S:d+"/"+S,!f[S]){if(!r)return f=null,null;f[S]={},n&&(n=n.createSubChange(K.ADD,S,{}))}f=f[S]}),f}queryModelToArray(e,r){let n=this.content;return r&&(n=this.findAtPosition(r,!1)),U({path:e,json:n,resultType:"value",wrap:!1,flatten:!0})}queryModelToSingle(e,r){var n;let s=this.content;r&&(s=this.findAtPosition(r,!1));let f=U({path:e,json:s,resultType:"all",wrap:!1});if(Array.isArray(f)){if(!(f.length<=1))throw new Error("Multiple results returned by queryModelToSingle with path "+e);f=f[0]}return!(null===(n=f?.pointer)||void 0===n)&&n.startsWith("/")&&(f.pointer=f.pointer.substring(1)),null!=f&&(delete f.path,delete f.parent,delete f.parentProperty),f}findAllPossibleTargetsOfProperty(e,r,n){if(null==n){const f=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(f.subPropertyPointer(e).positionInSchema,!0)}const s=n?.getTargetPath();if(n&&s){const f=s.lastIndexOf(".");return this.queryModelToArray(s.substring(0,f)+".*")}throw new Error("No Schema or no format definition for "+r+"/"+e)}findTargetOfProperty(e,r,n){const s=this.findAtPosition(r,!1);if(s&&s[e]){if(null==n){const d=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(d.subPropertyPointer(e).positionInSchema,!0)}const f=n?.getTargetPath();if(n&&f){const d=f.lastIndexOf("."),S=f.substring(0,d)+"[?(@['"+f.substring(d+1)+"']===\""+s[e]+'")]';return this.queryModelToSingle(S)}throw new Error("No Schema or no format definition for "+r+"/"+e)}return null}insertProperty(e,r,n,s){if(s){const f=Object.keys(e);for(const d of f)if(d!==r){const S=e[d];delete e[d],d===s&&(void 0!==e[r]&&delete e[r],e[r]=n),e[d]=S}}else void 0!==e[r]&&delete e[r],e[r]=n}convertToChange(e){let r=this.schemaMgr.generateSchemaPointer(e.location.parent);return this.schemaMgr.locateItem(r.positionInSchema,!1).isArray()?r=r.subItemPointer(null==e.location.id||"*"===e.location.id?this.generateNextKeyForPosition(r.position,!0):e.location.id):null!=e.location.id&&(r=r.subItemPointer(e.location.id)),new he(K.ADD,r.position,e.update,r,e.location.after)}guessNamePropertyOfElement(e,r){if(null==r){if(null==e)throw new Error("Either position or model must be provided");if(null==(r=this.findAtPosition(e,!1)))throw new Error("Position "+e+" does not exist in model")}null!=r.fields&&Array.isArray(r.fields)&&(r=r.fields);const n={score:-1,field:null};for(const s in r)if(Oe.scoreFieldAsName(r[s].name,r[s].type,n))break;return n.score>0?n.field:null}static guessNamePropertyOfObject(e){const r={score:-1,field:null};for(const n in e)Oe.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static guessNamePropertyFromList(...e){const r={score:-1,field:null};for(const n of e)Oe.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static scoreFieldAsName(e,r,n){if(null==e)return!1;const s=e.toLowerCase();for(const[f,d]of this.NAME_PROPERTY_NAMES)if(s===f){const S=d??0;if(n.score<S&&(n.score=S,n.field=e,100==n.score))return!0}else if(s.includes(f)){const S=(d??0)/2;n.score<S&&(n.score=S,n.field=e)}return"Text"==r&&n.score<20&&(n.score=20,n.field=e),n.score>0}extractValue(e,r,n,s){if(null==e||(r.parsed||this.extractMetaData(e,r,n,s),r.direct))return e;if(r.array){if(!(e.length>0))return e;e=e[0]}return null!=r.subValue?e[r.subValue]:e}applyValue(e,r,n,s,f){if(null==e&&null!=r)throw new Error("Cannot apply a value to a null or undefined object");if(n.parsed||this.extractMetaData(e,n,s,f),n.direct)return r;if(n.array){if(!(e.length>0))return null!=r&&e.push(r),e;e=e[0]}return null!=n.subValue&&(null==r?delete e[n.subValue]:e[n.subValue]=r),e}extractMetaData(e,r,n,s){if(r.parsed=!0,"object"!=typeof e)null!=e?r.direct=!0:r.parsed=!1;else if(Array.isArray(e)&&(r.array=!0,console.debug("Getting an array as a value for metadata extraction",e),e.length>0?e=e[0]:r.parsed=!1),e instanceof Date)r.direct=!0;else if(void 0!==e.value)r.subValue="value";else if(void 0!==e.amount)r.subValue="amount";else{let f=null;for(const d in e)null==f&&(f=d),null!=e[d]&&"object"!=typeof e[d]&&(r.subValue=d);null==r.subValue&&(r.subValue=f),console.warn("Guessed value key of "+r.subValue+" for object.",e)}}modifyValues(e,r,n,s,f,d){if(null==e)throw new Error("Cannot modify value of null object");const S=s(this.extractValue(e,n,f,d),this.extractValue(r,n,f,d));return this.applyValue(e,S,n,f,d)}}Oe.POSSIBLE_CHARS_FOR_ARRAY_KEYS="abcdefghijklmnopqrstuvxyz",Oe.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH=Oe.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length,Oe.NAME_PROPERTY_NAMES=new Map([["name",100],["nom",100],["title",80],["titre",80],["lastname",80],["label",70],["libell\xe9",70]]);class Ke{constructor(){this.parsed=!1,this.array=!1,this.direct=!1,this.subValue=null}}class Xe{constructor(e,r,n,s){this.name="",this.subChanges=new Array,this.isRoot=!1,e&&(this.type=e),r&&(this.name=r),this.oldPosition=s,this.value=n}createSubChange(e,r,n,s){const f=new Xe(e,r,n,s);return this.subChanges.push(f),f}}class st{}class qe{constructor(e,r){this.schemaManager=e,this.modelManager=r,this.listeners=new Map,this.listenerCachePerPosition=new Map,this.reset()}reset(){null!=this.receivedChanges&&this.receivedChanges.complete(),this.receivedChanges=new E.Subject,this.listeners.clear(),this.listenerCachePerPosition.clear()}isInterestedIn(e,r,n){let s=!1;if("?"===e[e.length-1]&&(s=!0,e=e.substring(0,e.length-1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),null!=n.position&&n.position.startsWith(e)){let f=te.nextItemAndPosition(n.position,e.length+1);const d=f.value;return r?d===r||(f=te.nextItemAndPosition(n.position,f.pos+1),f.value===r):!s||null!=d&&(f=te.nextItemAndPosition(n.position,f.pos+1),""===f.value)}return!1}createNewListener(e,r){const n={position:e,property:r};this.clearEmptyListeners();let s=this.listeners.get(n);if(null==s&&(s=new E.ReplaySubject(1),this.listeners.set(n,s),this.listenerCachePerPosition.clear()),1==s.observed)return(0,E.throwError)(()=>new Error("Several components listen to the same position {"+e+", "+r));const f=this.cleanPosition(e),d=this.modelManager.findAtPosition(f,!1);if(null!=d){let S=new he(K.RESET,f,d,this.schemaManager.generateSchemaPointer(f));if(this.isInterestedIn(e,r,S))s.next(S);else if(null!=r)for(const x in d)S=new he(K.RESET,f+"/"+x,d[x],this.schemaManager.generateSchemaPointer(f+"/"+x)),this.isInterestedIn(e,r,S)?s.next(S):null!=r&&null!=d[x][r]&&(S=new he(K.RESET,f+"/"+x+"/"+r,d[x][r],this.schemaManager.generateSchemaPointer(f+"/"+x+"/"+r)),this.isInterestedIn(e,r,S)&&s.next(S))}return s}addToListenerCache(e,r){let n=this.listenerCachePerPosition.get(e);n||(n=new Array,this.listenerCachePerPosition.set(e,n)),n.push(r)}getJsonAt(e){return this.modelManager.findAtPosition(e,!1)}applyPluginConfigUpdates(e){if(null!=e)for(const r of e)this.pushChange(this.modelManager.convertToChange(r))}pushChange(e){let r=!1;const n=this.modelManager.applyChange(e);r=this.manageChangeInternally(e);for(const s of n)if(s.type!==e.type||s.position!==e.position){const f=this.manageChangeInternally(s);r=r||f}return r}manageChangeInternally(e){return e.pointer||(e.pointer=this.calculatePointerFor(e.position)),this.receivedChanges.next(e),this.findAndNotify(e,new Map)}findAndNotify(e,r){var n;let s=!1;this.listenerCachePerPosition.get(e.position)||this.listeners.forEach((d,S)=>{this.isInterestedIn(S.position,S.property,e)&&this.addToListenerCache(e.position,d)});const f=this.listenerCachePerPosition.get(e.position);if(null!=f)for(const d of f){let S=!0;const x=r.get(d);if(x)for(const D of x)e.position.startsWith(D)&&(S=!1);else r.set(d,new Array);S&&(s=!0,d.next(e),null===(n=r.get(d))||void 0===n||n.push(e.position))}return s}receiveCommands(e,r){return e?this.createNewListener(e,r):this.receivedChanges}getSchemaManager(){return this.schemaManager}calculatePointerFor(e){return this.schemaManager.generateSchemaPointer(e)}close(){this.receivedChanges.complete()}cleanPosition(e){return(e=e.endsWith("?")?e.substring(0,e.length-1):e).endsWith("/")?e.substring(0,e.length-1):e}clearEmptyListeners(){const e=new Array;for(const r of this.listeners)r[1].observed||e.push(r[0]);for(const r of e)this.listeners.delete(r)}}class _e{constructor(){console.debug("Init core"),this.schemaManager=new Ce,this.pluginManager=new Me,this.previewManager=new Ye,this.modelManager=new Oe(this.schemaManager),this.changeManager=new qe(this.schemaManager,this.modelManager),this.storeManager=new z(this.modelManager)}reset(){return this.schemaManager.reset(),this.pluginManager.reset(),this.previewManager.reset(),this.modelManager.reset(),this.changeManager.reset(),this.storeManager.reset(),this}registerPlugin(e){this.pluginManager.registerPlugin(e,this.schemaManager,this.previewManager)}initPlugins(){this.pluginManager.initPlugins(this)}getSchemaUri(){return"schemas/v1/dont-code-schema.json"}getSchemaManager(){return this.schemaManager}getPreviewManager(){return this.previewManager}getStoreManager(){return this.storeManager}getModelManager(){return this.modelManager}getChangeManager(){return this.changeManager}}self.dontCodeCore||(self.dontCodeCore=new _e);var We=self.dontCodeCore;class it{constructor(e,r,n){this.type=e,this.sessionId=r,this.change=n}}var ze=(()=>{return(c=ze||(ze={})).INIT="INIT",c.CHANGE="CHANGE",ze;var c})();class at{}class lt{performAction(e){return new Promise(()=>{this.performSynchronousAction(e)})}performSynchronousAction(e){throw new Error("Action "+e+" for "+e.context.valueOf()+" at "+e.position+" not implemented yet")}}class Te{static clearConfigCache(){this.specialFieldsCache.clear()}static applyFilters(e,...r){return null==r||0==r.length?e:e.filter(n=>{for(const s of r){const f=n[s.name];switch(s.operator){case Q.EQUALS:return s.value==f;case Q.LESS_THAN:return f<s.value;case Q.LESS_THAN_EQUAL:return f<=s.value;default:throw new Error("Operator "+s.operator+" unknown")}}return!0})}static findSpecialFields(e,r){var n,s,f;let d=Te.specialFieldsCache.get(e);if(null!=d)return d;const S={score:-1,field:null};d=new et;const x=r.fields;if(null!=x){let D;for(D in x)"Date"===(null===(n=x[D])||void 0===n?void 0:n.type)||"Date & Time"===(null===(s=x[D])||void 0===s?void 0:s.type)?d.addDateField(null===(f=x[D])||void 0===f?void 0:f.name):Te.scoreIdFieldFromEntityField(x[D],S)}return S.score>0&&(d.idField=S.field),Te.specialFieldsCache.set(e,d),console.debug("Found special fields for entity at position "+e,d),d}static findSpecialFieldsFromData(e,r){if(null==r.idField&&e?.length>0){const n=e[0],s={score:-1,field:null};let f;for(f in n)Te.scoreIdFieldFromProperty(f,s);if(s.score>0){const d=e.length>1?e[Math.floor((e.length+1)/2)]:null;(null==d||d[s.field]!=n[s.field])&&(r.idField=s.field)}}}static scoreIdFieldFromEntityField(e,r){return Te.scoreIdFieldFromProperty(e?.name,r)}static scoreIdFieldFromProperty(e,r){if(null==e)return!1;const n=e.toLowerCase();return"_id"===n?(r.field="_id",r.score=100,!0):("id"==n||"uniqueid"==n||"identifier"==n||"key"==n||"primaryKey"==n||"uniqueKey"==n?r.score<80&&(r.score=80,r.field=e):n.includes("unique")||n.includes("primary")?r.score<50&&(r.score=50,r.field=e):(n.includes("id")||n.includes("key"))&&r.score<30&&(r.score=30,r.field=e),!1)}static cleanUpDataBeforeSaving(e,r){null!=r?.idField&&"_id"!=r?.idField&&e.forEach(n=>{delete n._id})}static cleanUpLoadedData(e,r){null!=r&&(null==r.idField&&Te.findSpecialFieldsFromData(e,r),e.forEach(n=>{var s;null!=r.idField&&"_id"!=r.idField&&(n._id=n[r.idField]),null===(s=r.dateFields)||void 0===s||s.forEach(f=>{const d=n[f];if(null!=d){let S=Date.parse(d);if(isNaN(S)){const x=d.lastIndexOf("[");-1!=x&&(S=Date.parse(d.substring(0,x)))}isNaN(S)?delete n[f]:n[f]=new Date(S)}})}))}static multiSortArray(e,r){return e}static calculateGroupedByValues(e,r,n,s,f){var d,S;if(null!=r&&null!=r.display){let x=r.of;null!=r.show&&(x=r.show.valueOf());const D=new Map;let G,Y=new Map;const Z=r.getRequiredListOfFields();for(const Ee of e){if(Ee[x]!=G){G=Ee[x];const ve=D.get(G);null==ve?(Y=new Map,D.set(G,Y)):Y=ve}for(const ve of Z){let H=Y?.get(ve);null==H&&(H=new ut,Y.set(ve,H));const k=Ee[ve],re=k;if(null!=k)if("object"!=typeof k||k instanceof Date||null==n)"number"==typeof re?(null==H.sum&&(H.sum=0),H.sum=H.sum+re,(null==H.minimum||re<H.minimum)&&(H.minimum=k),(null==H.maximum||re>H.maximum)&&(H.maximum=k),H.count++):(re instanceof Date&&!isNaN(re.getTime())&&(H.sum=null,(null==H.minimum||re.valueOf()<H.minimum.valueOf())&&(H.minimum=k),(null==H.maximum||re.valueOf()>H.maximum.valueOf())&&(H.maximum=k)),H.count++);else{H.sum=null==H.sum?structuredClone(k):n.modifyValues(H.sum,k,H.metaData,(Ge,Fe)=>Ge+Fe,s,f);const me=n.extractValue(k,H.metaData,s,f);if(null==H.minimum)H.minimum=k;else{const Ge=n.extractValue(H.minimum,H.metaData,s,f);null!=me&&me<Ge&&(H.minimum=k)}if(null==H.maximum)H.maximum=k;else{const Ge=n.extractValue(H.maximum,H.metaData,s,f);null!=me&&me>Ge&&(H.maximum=k)}null!=n.extractValue(k,H.metaData,s,f)&&H.count++}}}let ae;if(D.size>0){ae=new rt(r,new Map);for(const Ee of D.keys()){const ve=D.get(Ee);for(const H of Object.values(r.display)){let k;const re=ve.get(H.of);if(null!=re){switch(H.operation){case Se.Count:k=re.count;break;case Se.Sum:k=re.sum;break;case Se.Average:k=null==re.sum||0==re.count?null:"object"!=typeof re.sum||re.sum instanceof Date||null==n?re.sum/re.count:n.applyValue(structuredClone(re.sum),n.extractValue(re.sum,re.metaData,s,f)/re.count,re.metaData,s,f);break;case Se.Minimum:k=re.minimum;break;case Se.Maximum:k=re.maximum}let me=null===(d=ae.values)||void 0===d?void 0:d.get(Ee);null==me&&(me=new Array,null===(S=ae.values)||void 0===S||S.set(Ee,me)),me.push(new nt(H,k))}}}return ae.values.size>0?ae:void 0}}}}Te.specialFieldsCache=new Map;class ut{constructor(){this.count=0,this.metaData=new Ke}}class et{constructor(){this.dateFields=null,this.idField=null}addDateField(e){null==this.dateFields&&(this.dateFields=new Array),this.dateFields.push(e)}}class tt{constructor(e,r,n){this.sortedData=e,this.sortInfo=r,this.groupedByEntities=n}}class rt{constructor(e,r){this.groupInfo=e,this.values=r,null==r&&(this.values=new Map)}}class nt{constructor(e,r){this.forAggregate=e,this.value=r}}class ot{safeLoadEntity(e,r){return this.loadEntity(e,r).then(n=>n??Promise.reject("Not found"))}searchEntities(e,...r){return this.listEntities(e).pipe((0,E.map)(n=>Te.applyFilters(n,...r)))}listEntities(e){return this.searchEntities(e)}searchAndPrepareEntities(e,r,n,s,...f){return this.searchEntities(e,...f).pipe((0,E.map)(d=>null!=s?s.postLoadingTransformation(d):d),(0,E.map)(d=>{let S;return(null!=r||!0===n?.atLeastOneGroupIsRequested())&&(d=Te.multiSortArray(d,this.calculateSortHierarchy(r,n)),null!=n&&(S=Te.calculateGroupedByValues(d,n))),new tt(d,r,S)}))}calculateSortHierarchy(e,r){let n;return n=null!=r?new q(r.of,void 0,e):e,n}}class Ve{static createDeleteChange(e,r,n,s,f){return Ve.createAnyChange(K.DELETE,e,r,n,s,null,f)}static createMoveChange(e,r,n,s,f,d,S){const x=Ve.createAnyChange(K.MOVE,n,s,f,d,null,S);return x.oldPosition=e,r&&(x.beforeKey=r),x}static createTestChange(e,r,n,s,f,d){return Ve.createAnyChange(K.ADD,e,r,n,s,f,d)}static addDummyProviderFromContent(e,r){We.getStoreManager().setProvider(new ct(r),e)}static waitUntilTrue(e,r,n,s){Ve.waitUntilTrueAndEmit(e,n,s).then(f=>{f?r():r("Timeout waiting for an event")},f=>{r(f)})}static waitUntilTrueAndEmit(e,r,n){return n=n??50,(0,E.firstValueFrom)((0,E.timer)(r=r??50,r).pipe((0,E.take)(n),(0,E.filter)(()=>e()),(0,E.map)(()=>!0)),{defaultValue:!1})}static createAnyChange(e,r,n,s,f,d,S){var x;const D=n?"/"+n:"",G=f?"/"+f:"";let Y=s?"/"+s:"";0==r.length&&(Y=s||"");let Z=S?"/"+S:"";return 0==r.length&&0==Y.length&&(Z=S||""),new he(e,r+D+Y+G+Z,d,new te(r+D+Y+G+Z,r+Y+Z,r+D+(S?Y+G:f?Y:""),r+(S?Y:""),null!==(x=S??f)&&void 0!==x?x:void 0,null!=S))}}class ct extends ot{constructor(e){super(),this.content=e}canStoreDocument(e){return!1}deleteEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}loadEntity(e,r){return null!=this.content[r]?Promise.resolve(this.content[r]):Promise.reject("Not found")}searchEntities(e,...r){return Array.isArray(this.content)?(0,E.from)([this.content]):(0,E.from)([[this.content]])}storeDocuments(e,r){return(0,E.throwError)(()=>new Error("Not implemented by Dummy tester"))}storeEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}}class ft{constructor(e){this.toRet=e}getJsonAt(e){return this.toRet}receiveCommands(e,r){return new E.Observable}calculatePointerFor(e){return We.getSchemaManager().generateSchemaPointer(e)}getSchemaManager(){return We.getSchemaManager()}sendCommand(e){return Promise.resolve(void 0)}}class vt{constructor(){this.name="",this.template=!1,this.description=""}}}}]);